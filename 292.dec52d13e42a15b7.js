"use strict";(self.webpackChunktemplate_sample=self.webpackChunktemplate_sample||[]).push([[292],{8292:(bo,L,d)=>{d.r(L),d.d(L,{FormElementsModule:()=>ho});var _=d(1368),P=d(2308),s=d(6504),j=d(3152),l=d(9788),st=d(6928),ct=d(9336),lt=d(9144),pt=d(3800),b=d(3616),R=function(o){return o[o.Admin=0]="Admin",o[o.Security=1]="Security",o[o.Arch=2]="Arch",o[o.Devops=3]="Devops",o[o.Sre=4]="Sre",o}(R||{});R||(R={});var S=function(o){return o[o.Draft=0]="Draft",o[o.Complete=1]="Complete",o}(S||{}),E=function(o){return o[o.BasicInfo=0]="BasicInfo",o[o.Default=1]="Default",o}(E||{}),f=function(o){return o[o.Draft=0]="Draft",o[o.RequiredForApprove=1]="RequiredForApprove",o}(f||{});const z=new Map([]),dt=new Map([[l.Mv.Draft,{backgroundColor:"green-light",textColor:"green-middle",title:"common.draft"}],[l.Mv.SubmitForReview,{backgroundColor:"orange-middle",textColor:"white",title:"common.on-submit"}],[l.Mv.Approved,{backgroundColor:"green-middle",textColor:"white",title:"common.approved"}],[l.Mv.UnderReview,{backgroundColor:"orange-middle",textColor:"white",title:"common.on-review"}],[l.Mv.RequiredForApprove,{backgroundColor:"green-light",textColor:"green-middle",title:"common.already-required-for-approve"}],[l.Mv.SupplementForApprove,{backgroundColor:"green-middle",textColor:"white",title:"common.already-supplement-for-approve"}],[l.Mv.Rejected,{backgroundColor:"red-middle",textColor:"white",title:"common.rejected"}],[l.Mv.BackSubmitForReview,{backgroundColor:"orange-middle",textColor:"white",title:"common.on-submit"}]]);var K=d(9608),t=d(4496),G=d(9488),M=d(6230),H=d(632);function ut(o,a){if(1&o&&(t.I0R(0,"p"),t.OEk(1),t.wVc(2,"translate"),t.C$Y()),2&o){const e=t.GaO();let n;t.yG2(),t.oRS(" ",t.kDX(2,1,null!==(n=e.card.header.title)&&void 0!==n?n:"")," ")}}function _t(o,a){if(1&o&&(t.I0R(0,"p"),t.OEk(1),t.C$Y()),2&o){const e=t.GaO().$implicit;t.yG2(),t.cNF(e.content)}}function gt(o,a){if(1&o&&(t.wR5(0,"div",12),t.wVc(1,"safeHtml")),2&o){const e=t.GaO().$implicit;let n;t.E7m("innerHTML",t.kDX(1,1,null!==(n=e.innerHTML)&&void 0!==n?n:""),t.E3n)}}function ht(o,a){if(1&o&&(t.SAx(0),t.I0R(1,"li",10),t.yuY(2,_t,2,1,"p",4)(3,gt,2,3,"ng-template",null,11,t.gJz),t.C$Y(),t.k70()),2&o){const e=a.$implicit,n=t.Gew(4);t.yG2(2),t.E7m("ngIf",!e.innerHTML)("ngIfElse",n)}}function ft(o,a){if(1&o&&(t.I0R(0,"ul",8),t.yuY(1,ht,5,2,"ng-container",9),t.C$Y()),2&o){const e=t.GaO();t.yG2(),t.E7m("ngForOf",null==e.card?null:e.card.list)}}function Ct(o,a){if(1&o&&(t.wR5(0,"div",13),t.wVc(1,"safeHtml")),2&o){const e=t.GaO();t.E7m("innerHTML",t.kDX(1,1,e.card.header.innerHTML||""),t.E3n)}}let yt=(()=>{class o extends K.o{constructor(e){super(e)}get card(){return this.data.card}static#t=this.\u0275fac=function(n){return new(n||o)(t.GI1(G.Q))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-cab-record-dialog"]],features:[t.eg9],decls:9,vars:3,consts:[["padding","1.8rem 1.675rem"],["id","body",1,"w-100","d-flex","flex-column"],[1,"w-100","d-flex","align-items-center"],[1,"w-100","d-flex","justify-content-between"],[4,"ngIf","ngIfElse"],[1,"icon-cancel","text-green-middle","fs-md","pe-pointer","ml-2",3,"click"],["class","mt-2",4,"ngIf"],["tHead",""],[1,"mt-2"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-start","mt-2"],["tBody",""],[3,"innerHTML"],[1,"w-100",3,"innerHTML"]],template:function(n,i){if(1&n&&(t.I0R(0,"app-dialog-container",0)(1,"div",1)(2,"header",2)(3,"div",3),t.yuY(4,ut,3,3,"p",4),t.I0R(5,"em",5),t.qCj("click",function(){return i.cancel()}),t.C$Y()()(),t.yuY(6,ft,2,1,"ul",6),t.C$Y()(),t.yuY(7,Ct,2,3,"ng-template",null,7,t.gJz)),2&n){const r=t.Gew(8);t.yG2(4),t.E7m("ngIf",!i.card.header.innerHTML)("ngIfElse",r),t.yG2(2),t.E7m("ngIf",!(null==i.card||null==i.card.list||!i.card.list.length))}},dependencies:[_.ay,_.u_,G.Q,M.sD,H.K],styles:["[_nghost-%COMP%]{display:flex;width:100%;height:100%}#body[_ngcontent-%COMP%]{min-width:700px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:3.5rem 3.375rem;border-radius:10px;background-color:#fff}.container[_ngcontent-%COMP%]:hover{transition:.1s ease;filter:drop-shadow(0px 0px 4px rgba(0,0,0,.2))}.container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   em.open[_ngcontent-%COMP%]{transition:.2s ease-out;transform:rotate(180deg)}  .status-label{border-radius:3px}ul[_ngcontent-%COMP%]{margin-bottom:0}"]})}return o})();var bt=d(4708);class Mt{static noWhitespaceValidator(a){return 0!==(a.value||"").trim().length?null:{whitespace:!0}}static passwordValidator(a){return/^(?=.*[a-zA-Z])(?=.*[0-9])[A-Za-z\d$@$!%*?&_+^(){}|,.[\]]{8,}$/.test(a.value)?null:{passwordInvalid:!0}}static emailUserValidator(a){const e=a.value;return RegExp("^[\\w\\-\\_\\.]+$").test(e)?null:{userInvalid:!0}}static validDomainValidator(a){return RegExp("cathay.*.com.?t?w?").test(a.value)?null:{invalid:!0}}static customEmailValidator(a){return RegExp(/^[^,+=[\]{}*&^%$#@!~?]+@(cathaysec\.com\.tw|cathaylife\.com\.vn|cathaylife\.com\.tw|cathaybk\.com\.tw|cathay-ins\.com\.tw|cathayholdings\.com\.tw)$/).test(a.value)||RegExp(".*@tpisoftware.com").test(a.value)?null:{emailFormat:!0}}static confirmPasswordValidator(){return()=>null}static duplicateCheckValidator(a){return e=>a.includes(e.value)?{duplicated:!0}:null}static maxCharNumberValidator(a){return e=>{let n=0;return e.value&&(n=e.value.split("").reduce((i,r)=>i+(/[\u4e00-\u9fa5]/.test(r)?2:1),0)),n>a?{charMax:!0}:null}}static atLeastOneValue(){return a=>Object.values(a.value).some(n=>null!==n&&""!==n)?null:{atLeastOneValue:!0}}static allSubQuestionsValid(a){return e=>e instanceof s.WC||e instanceof s.Sg?(e instanceof s.WC?Object.values(e.controls):e.controls).every(r=>r instanceof s.WC||r instanceof s.Sg?this.allSubQuestionsValid(r):r.valid)?null:{allSubInvalid:"not all SubQuestions invalid"}:null}}var m=function(o){return o.REQUIRED="validator.required",o.MAX_LENGTH="validator.max-length",o.MIN_LENGTH="validator.min-length",o.MAX_MIN_LENGTH="validator.max-min-length",o.MAX_ITEMS="validator.max-items",o.MIN_ITEMS="validator.min-items",o.MAX_MIN_ITEMS="validator.max-min-items",o.NUMBER_ONLY="validator.number-only",o.CN_ONLY="validator.cn-only",o.EN_NUMBER_ONLY="validator.en-number-only",o.FORMAT_ERROR="validator.format",o.EMAIL_ERROR="validator.email",o}(m||{}),g=function(o){return o.Select="select",o.MultiSelect="multiselect",o.Radio="radio",o.Toggle="toggle",o.Checkbox="checkbox",o.TextArea="textarea",o.Input="input",o.DatePicker="datepicker",o.DatePickerRange="datepicker-range",o}(g||{}),Y=function(o){return o.Default="default",o.Range="range",o}(Y||{}),v=function(o){return o.Text="text",o.Number="number",o.Email="email",o.Password="password",o.Tel="tel",o.Url="url",o.Search="search",o.Date="date",o.Time="time",o.DateTimeLocal="datetime-local",o.Month="month",o.Week="week",o.Color="color",o}(v||{});class Ot{constructor(a,e,n,i,r,c){this.$translate=e,this.datePipe=n,this.$dynamicValidator=i,this.fb=c,this.projectName="",this.hideExpressions=[],this.form=new s.k1({}),this.maxOptionInLine=3,this.docId=a?.docId,this.templateId=a.id,this.questionVersion=a?.version,r&&(this.docId=r.docId,this.cab=r.cab,this.status=r.status,this.creator=r?.creator,this.editor=r?.editor,this.tenantCn=r?.tenantCn,this.cabId=r?.cabId,this.projectName=r?.projectName,this.projectId=r?.projectId,this.projectVersion=r.version,this.project_origin=r),this.question_origin=a,this.fb&&(this.form=this.initialForm(a,r,this.status),console.log("aa-form",this.form))}initialForm({id:a,docId:e,groups:n},i,r){let c=new s.k1({});if(this.fb){c=this.fb.group({}),c.patchValue({cabId:a,docId:e}),c.addControl("answers",this.fb.array(n.map(u=>this.getQuestionGroupForm(u)))),c.addControl("attachment",this.fb.array([this.getEmptyFileFormGroup(this.status)])),r&&+r===l.Mv.RequiredForApprove&&(c.get("answers")?.controls[0]).disable();const p=i?.answers;p&&this.patchFormValue(c,p,i.attachment)}return c}patchFormValue(a,e,n){if(Object.keys(e).forEach(i=>{const{groupId:r,remark:c,values:p}=e[i],h=a.controls.answers.controls.find(({controls:y})=>y.id.value===r)?.controls[i];h&&(h.get("remark")?.patchValue(null===c?[]:c.map(y=>({...y,fieldStatus:+this.status===l.Mv.Draft?l.Mp.Inputting:l.Mp.Complete}))),Object.keys(p).forEach(y=>{const w=h.controls.answers?.controls[y];w&&w.patchValue(p[y])}))}),n){const i=a.get("attachment");n.sort((r,c)=>new Date(r.uploadDate)<new Date(c.uploadDate)?1:-1).forEach((r,c)=>{!i.controls[c]||i.controls[c].get("fileName")?.value&&i.controls[c].get("file")?.value?i.controls.some(p=>r.file===p.get("file")?.value)||i.controls?.unshift(new s.k1({file:new s.yM(r.file,+r.type===f.Draft?s.AQ.required:null),fileName:new s.yM(decodeURI(r.fileName),+r.type===f.Draft?s.AQ.required:null),url:new s.yM(""),userId:new s.yM(r.userId),department:new s.yM(r.department),departmentCn:new s.yM(r.departmentCn),departmentEn:new s.yM(r.departmentEn),section:new s.yM(r.section),sectionCn:new s.yM(r.sectionCn),sectionEn:new s.yM(r.sectionEn),uploadDate:new s.yM(r.uploadDate),isSizeError:new s.yM(!1),isTypeError:new s.yM(!1),type:new s.yM(r.type),fieldStatus:new s.yM(l.Mp.Complete)})):(i.controls[c].patchValue({...r,fieldStatus:l.Mp.Complete}),i.controls[c].get("file")?.setValue(r.file??""),i.controls[c].get("fileName")?.setValue(decodeURI(r.fileName)??""),i.controls[c].get("uploadDate")?.setValue(r.uploadDate??""))})}}getProjectAnswers(a){const e=a.getRawValue(),n={};return e.answers.forEach(i=>{Object.entries(i).filter(c=>"id"!==c[0]).forEach(c=>{Object.entries(c[1].answers).forEach(p=>{const u=c[1].remark;let h=[];null===u||u.length?h=u:(Object.values(c[1].remark).forEach(w=>h.push(w)),h=h.filter(w=>""!==w.content)),n[c[0]]={remark:null===h||0===h.length?null:h,values:c[1].answers,groupId:i.id,sectionId:""}})})}),n}getEmptyFileFormGroup(a){return new s.k1({file:new s.yM("",+a===l.Mv.Draft?s.AQ.required:null),fileName:new s.yM("",+a===l.Mv.Draft?s.AQ.required:null),url:new s.yM(""),department:new s.yM(""),departmentCn:new s.yM(""),departmentEn:new s.yM(""),section:new s.yM(""),sectionCn:new s.yM(""),sectionEn:new s.yM(""),userId:new s.yM(""),userName:new s.yM(""),email:new s.yM(""),isSizeError:new s.yM(!1),isTypeError:new s.yM(!1),uploadDate:new s.yM(""),fieldStatus:new s.yM(l.Mp.Inputting),type:new s.yM("")})}getQuestionGroupForm({id:a,questions:e}){if(this.fb){const n=this.fb.group({id:[a,[s.AQ.required]]});return Object.keys(e).forEach(i=>{const{disabled:r,SubQuestionGroup:c}=e[i];n.addControl(i,this.fb.group({remark:[[{content:"",fieldStatus:+this.status===l.Mv.Draft?l.Mp.Inputting:l.Mp.Complete}]],answers:this.getSubQuestionGroup(c)},{validator:Mt.allSubQuestionsValid()})),r&&n.controls[i].disable()}),n}return new s.k1({})}getSubQuestionGroup(a){if(this.fb){const e=this.fb.group({});return Object.keys(a).forEach(n=>{const{type:i,required:r,disabled:c}=a[n];e.addControl(n,this.fb.control([],this.getValidations(a[n].validation??[],i===g.MultiSelect||i===g.Checkbox,r))),c&&e.controls[n].disable()}),e}return new s.k1({})}getValidations(a,e,n){const i=a?.map(r=>this.getDynamicValidate(r));return[...n?[this.DynamicRequiredValidate(e)]:[],...i??[]]}getDynamicValidate(a){return e=>{const n=a.value;switch(a.type){case m.EMAIL_ERROR:return e.value&&e.value.length>0&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value[0].value)?{email:a.type}:null;case m.EN_NUMBER_ONLY:return this.$dynamicValidator.DynamicEnNumberOnly(e);case m.MAX_ITEMS:return this.$dynamicValidator.DynamicMaxItems(e,+n);case m.MIN_ITEMS:return this.$dynamicValidator.DynamicMinItems(e,+n);case m.MAX_MIN_ITEMS:return this.$dynamicValidator.DynamicMaxMinItems(e,n[0],n[1]);case m.MAX_LENGTH:return this.$dynamicValidator.DynamicMaxLength(e,+n);case m.MIN_LENGTH:return this.$dynamicValidator.DynamicMinLength(e,+n);case m.MAX_MIN_LENGTH:return this.$dynamicValidator.DynamicMaxMinLength(e,n[0],n[1]);case m.NUMBER_ONLY:return this.$dynamicValidator.DynamicNumberOnly(e);default:return null}}}DynamicRequiredValidate(a=!1){return({value:e})=>{const n=a?e.length>0:!!e[0]&&`${e[0].value}`.length,i={};return i[`${m.REQUIRED}`]=this.$translate.instant(m.REQUIRED),n?null:i}}getDataForQuestion(a){return{...a,fileForm:this.form.get("attachment"),groupsView:a.groups.map((e,n)=>({...e,form:this.getGroupForm(n),questions:Object.entries(e.questions).sort((i,r)=>i[1].order-r[1].order).map(i=>(z.set(i[0],this.getQuestionForm(n,i[0])),{...i[1],show:!0,questionId:i[0],form:this.getQuestionForm(n,i[0]),SubQuestionGroupForm:this.getQuestionForm(n,i[0]).get("answers"),SubQuestionGroup:Object.entries(i[1].SubQuestionGroup).map(r=>{const c={...r[1],show:!0,answerId:r[0],form:this.getSubQuestionValueForm(n,i[0],r[0]),options:this.chunkArray(r[1].options,this.maxOptionInLine),optionsForNormal:r[1].options?.map(p=>({code:p.value,name:p.label,hasMemo:p.memo})),validationView:this.getValidationView(r[1])};return""===i[0]&&this.hideExpressions.push([...r[1].hideExpression.map(p=>({...p,selfQuestionId:i[0],selfAnswerId:r[0]}))]),c})}))}))}}getValidationView(a){return[...a.required?[{type:m.REQUIRED}]:[],...(a.validation??[]).flatMap(e=>e?[e]:[])]}getGroupForm(a){return this.form.get("answers").controls[a]}getQuestionForm(a,e){return this.form.get("answers").controls[a].get(e)}getSubQuestionValueForm(a,e,n){return this.form.get("answers").controls[a].get(e).get("answers")?.get(n)}chunkArray(a,e){const n=[];if(a&&a.length>0)for(let i=0;i<a.length;i+=e)n.push(a.slice(i,i+e));return n}}var O=d(5264),A=d(3168),xt=d(8240),U=d(4048),X=d(7048);let vt=(()=>{class o{constructor(e){this.http=e,this.cabBaseUrl="/api/cab"}postNewBasicInfo(e){return this.http.post(this.cabBaseUrl+"/basic",e)}getApplicationQuestion(e,n){const i=[];return i.push(`cab=${e}`),n&&i.push(`version=${n}`),this.http.get(this.cabBaseUrl+"/template"+(i.length>0?`?${i.join("&")}`:""))}getApplicationForm(e,n){return this.http.get(this.cabBaseUrl+`/answer/${e}/${n}`)}getApplicationList(){return this.http.get(this.cabBaseUrl+"/answer/list")}postApplicationFormDraft(e){return this.http.post(this.cabBaseUrl+"/draft",e)}putApplicationFormDraft(e){return this.http.put(this.cabBaseUrl+"/draft",e)}postApplicationForm(e){return this.http.post(this.cabBaseUrl+"/answer",e)}putApplicationForm(e){return this.http.put(this.cabBaseUrl+"/answer",e)}upload(e){const n=new FormData;return n.append("file",e),this.http.post(this.cabBaseUrl+"/upload",n)}download(e){return this.http.get(this.cabBaseUrl+`/download/file/${e}`,{responseType:"blob",observe:"response"})}downloadTemp(){return this.http.get(this.cabBaseUrl+"/download/temp",{responseType:"blob",observe:"response"})}putSupplementDraft(e){return this.http.post(this.cabBaseUrl+"/supplement/draft",e)}completeSupplement(e,n){return this.http.post(this.cabBaseUrl+"/supplement",{projectId:e,cabId:n})}getReviewerAdvice(e){return this.http.get(this.cabBaseUrl+`/comment/${e}`)}updateReviewerAdvice(e,n){return this.http.put(this.cabBaseUrl+`/comment/${e}`,n)}postReviewerAdvice(e,n){return this.http.post(this.cabBaseUrl+`/comment/${e}`,n)}postCabSchedule(e){return this.http.post(this.cabBaseUrl+"/schedule",e)}putCabSchedule(e){return this.http.put(this.cabBaseUrl+"/schedule",e)}deleteCabSchedule(e){return this.http.put(this.cabBaseUrl+"/schedule/cancel",e)}getCabRecords(e){return this.http.get(this.cabBaseUrl+`/records/${e}`)}getReviewerPosition(){return this.http.get(this.cabBaseUrl+"/reviewer")}getCabRoles(){return this.http.get(this.cabBaseUrl+"/roles")}putCabRoles(e){return this.http.put(this.cabBaseUrl+"/roles",e)}static#t=this.\u0275fac=function(n){return new(n||o)(t.CoB(X.KK))};static#e=this.\u0275prov=t.wxM({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var wt=d(5560),It=d(4476);let J=(()=>{class o{constructor(e){this.$translate=e}DynamicEnNumberOnly(e){const n=e.value.every(({value:r})=>/^[a-zA-Z0-9]+$/.test(`${r}`)),i={};return i[`${m.EN_NUMBER_ONLY}`]=this.$translate.instant(m.EN_NUMBER_ONLY),n?null:i}DynamicNumberOnly(e){const n=e.value.every(({value:r})=>/^[0-9]+$/.test(`${r}`)),i={};return i[`${m.NUMBER_ONLY}`]=this.$translate.instant(m.NUMBER_ONLY),n?null:i}DynamicMaxMinLength(e,n,i){const r=e.value,c=!(r.length>0)||`${r[0].value}`.length<=i&&`${r[0].value}`.length>=n,p={};return p[`${m.MAX_MIN_LENGTH}`]=`${this.$translate.instant(m.MAX_MIN_LENGTH)}(${n}-${i})`,c?null:p}DynamicMaxLength(e,n){const i=!(`${e.value}`.length>0)||`${e.value[0].value}`.length<=n,r={};return r[`${m.MAX_LENGTH}`]=`${this.$translate.instant(m.MAX_LENGTH)}(${n})`,i?null:r}DynamicMinLength(e,n){const i=!(e.value.length>0)||`${e.value[0].value}`.length>=n,r={};return r[`${m.MIN_LENGTH}`]=`${this.$translate.instant(m.MIN_LENGTH)}(${n})`,i?null:r}DynamicMaxMinItems(e,n,i){const r=e.value.length<=i&&e.value.length>=n,c={};return c[`${m.MAX_MIN_ITEMS}`]=`${this.$translate.instant(m.MAX_MIN_ITEMS)}(${n}-${i})`,r?null:c}DynamicMaxItems(e,n){const i=e.value.length<=n,r={};return r[`${m.MAX_ITEMS}`]=`${this.$translate.instant(m.MAX_ITEMS)}(${n})`,i?null:r}DynamicMinItems(e,n){const i=e.value.length>=n,r={};return r[`${m.MIN_ITEMS}`]=`${this.$translate.instant(m.MIN_ITEMS)}(${n})`,i?null:r}static#t=this.\u0275fac=function(n){return new(n||o)(t.CoB(M.qS))};static#e=this.\u0275prov=t.wxM({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var C=d(2756);const kt=["tUl"];function Pt(o,a){if(1&o&&t.wR5(0,"em"),2&o){const e=t.GaO(3).$implicit;t.m8U(e.iconClasses)}}function Et(o,a){if(1&o&&(t.I0R(0,"div"),t.OEk(1),t.wVc(2,"translate"),t.yuY(3,Pt,1,3,"em",8),t.C$Y()),2&o){const e=t.GaO(2).$implicit,n=t.GaO();t.qim("w-100 text d-flex align-items-center justify-content-",n.tabTextAlign," text-",n.tabTextAlign,""),t.yG2(),t.oRS(" ",t.kDX(2,6,e.titleI18n)," "),t.yG2(2),t.E7m("ngIf",e.iconClasses)}}function Gt(o,a){if(1&o&&(t.wR5(0,"div",10),t.wVc(1,"safeHtml")),2&o){const e=t.GaO(3).$implicit;t.E7m("@upInCompressOut",void 0)("innerHTML",t.kDX(1,2,e.innerHTML),t.E3n)}}function Tt(o,a){if(1&o&&t.yuY(0,Gt,2,4,"div",9),2&o){const e=t.GaO(2).$implicit;t.E7m("ngIf",e.innerHTML)}}function Dt(o,a){if(1&o){const e=t.KQA();t.SAx(0),t.I0R(1,"input",4),t.iHE("ngModelChange",function(i){t.usT(e);const r=t.GaO(2);return t.kNx(r.model,i)||(r.model=i),t.CGJ(i)}),t.C$Y(),t.I0R(2,"label",5),t.qCj("click",function(){t.usT(e);const i=t.GaO().$implicit,r=t.GaO();return t.CGJ(r.toggle(i))}),t.yuY(3,Et,4,8,"div",6),t.C$Y(),t.yuY(4,Tt,1,1,"ng-template",null,7,t.gJz),t.k70()}if(2&o){const e=t.Gew(5),n=t.GaO(),i=n.$implicit,r=n.index,c=t.GaO();let p,u;t.yG2(),t.E7m("value",i.value)("id","tab"+r),t.OKB("ngModel",c.model),t.yG2(),t.m4B("padding",null!==(p=c.tabPadding)&&void 0!==p?p:"0 0")("min-width",null!==(u=c.tabMinWidth)&&void 0!==u?u:"auto"),t.E7m("for","tab"+r),t.yG2(),t.E7m("ngIf",!i.innerHTML)("ngIfElse",e)}}function Ft(o,a){if(1&o&&(t.I0R(0,"li"),t.yuY(1,Dt,6,10,"ng-container",3),t.C$Y()),2&o){const e=a.$implicit,n=t.GaO();t.m8U(n.isEvenlyDistribute?"isEvenly":"notEvent"),t.yG2(),t.E7m("ngIf",!e.hide)}}let Rt=(()=>{class o extends C.E{constructor(e,n){super(),this.self=e,this.renderer=n,this.tabs=[],this.isEvenlyDistribute=!0,this.tabTextAlign="center",this.defaultTab=0,this.tabIndex=new t._w7,this.model="",this.disabled=!1}ngOnInit(){setTimeout(()=>{this.renderer.addClass(this.tUl?.nativeElement,"fade-in")},200)}ngOnChanges({defaultTab:e}){e&&(this.model=`${this.defaultTab}`,this.notifyValueChange())}toggle(e){this.notifyValueChange(`${e.value}`),this.tabIndex.emit(e.value)}static#t=this.\u0275fac=function(n){return new(n||o)(t.GI1(t.GMv),t.GI1(t.q87))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-tabs"]],viewQuery:function(n,i){if(1&n&&t.CC$(kt,5),2&n){let r;t.wto(r=t.Gqi())&&(i.tUl=r.first)}},inputs:{tabs:"tabs",isEvenlyDistribute:"isEvenlyDistribute",tabTextAlign:"tabTextAlign",containerPadding:"containerPadding",tabMinWidth:"tabMinWidth",tabPadding:"tabPadding",tabContainerPadding:"tabContainerPadding",defaultTab:"defaultTab"},outputs:{tabIndex:"tabIndex"},features:[t.M5G([(0,C.I)(o)]),t.eg9,t.SYr],decls:4,vars:6,consts:[[1,"w-100","d-flex","flex-wrap","pb-0","mb-0"],["tUl",""],[3,"class",4,"ngFor","ngForOf"],[4,"ngIf"],["type","radio","name","tabGroup",1,"d-none",3,"value","id","ngModel","ngModelChange"],[1,"w-90p","h-100","d-flex","align-items-center","py-2_5","mb-0","fs-xsm","fw-7","pe-pointer","mx-2",3,"for","click"],[3,"class",4,"ngIf","ngIfElse"],["tInnerHtml",""],[3,"class",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"]],template:function(n,i){1&n&&(t.I0R(0,"div")(1,"ul",0,1),t.yuY(3,Ft,2,4,"li",2),t.C$Y()()),2&n&&(t.uQ9("tab-container d-flex align-items-end mt-2_5 mb-3 ",i.containerPadding?"":"pl-4 pr-20",""),t.m4B("padding",i.containerPadding),t.yG2(3),t.E7m("ngForOf",i.tabs))},dependencies:[_.ay,_.u_,s.ot,s.ye,s.ue,s._G,M.sD,H.K],styles:['@keyframes _ngcontent-%COMP%_subExpand{0%{height:0;transform:translateY(-60%);opacity:0}60%{height:50%;transform:translateY(-30%);opacity:0;position:relative}to{height:auto;transform:translateY(0);opacity:1;z-index:0;position:relative}}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fade-up-in{0%{margin-top:10px;opacity:0}to{margin-top:0;opacity:1}}@keyframes _ngcontent-%COMP%_fade-up-out{0%{margin-top:0;opacity:1}to{margin-top:-20px;opacity:0}}@keyframes _ngcontent-%COMP%_spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_floatPopIn{0%{margin-top:0;opacity:0}30%{margin-top:-20px;opacity:.5}to{margin-top:0;opacity:1}}@keyframes _ngcontent-%COMP%_popIn{0%{margin-top:0;opacity:0}40%{margin-top:-20px;opacity:.3}90%{margin-top:0;opacity:.4}to{margin-top:0;opacity:1}}@keyframes _ngcontent-%COMP%_press{0%{transform:scale(1);filter:brightness(1)}30%{transform:scale(.95);filter:brightness(1.2)}to{transform:scale(1);filter:brightness(1)}}.tab-container[_ngcontent-%COMP%]{border-bottom:1px solid #e7e7e7}.tab-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:hover{background-color:var(--primary-background-hover)}.tab-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tab-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--primary-text-color)!important}.tab-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;height:3px;width:100%;color:#44b787;background-color:#44b787}.tab-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{overflow:hidden;height:0;transition:.8s .2s}.tab-container[_ngcontent-%COMP%]   li.isEvenly[_ngcontent-%COMP%]{flex:1}.tab-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:relative;width:auto}.tab-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#f4f4f4}.tab-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover     p{color:#44b787!important}.tab-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:first-of-type{margin-left:0!important}.tab-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{border-radius:50%}p[_ngcontent-%COMP%]{margin:0}.fade-in[_ngcontent-%COMP%]{height:2.6rem!important}'],data:{animation:[(0,O.IH)()]}})}return o})(),$t=(()=>{class o{constructor(e){this.renderer=e}click(e){this.renderer.addClass(e,"clicked"),setTimeout(()=>{this.renderer.removeClass(e,"clicked")},300)}static#t=this.\u0275fac=function(n){return new(n||o)(t.GI1(t.q87))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-go-top-button"]],decls:2,vars:0,consts:[[1,"bg-green-middle","rounded-circle","border-none",3,"click"],["tButton",""]],template:function(n,i){if(1&n){const r=t.KQA();t.I0R(0,"button",0,1),t.qCj("click",function(){t.usT(r);const p=t.Gew(1);return t.CGJ(i.click(p))}),t.C$Y()}},styles:['@keyframes _ngcontent-%COMP%_subExpand{0%{height:0;transform:translateY(-60%);opacity:0}60%{height:50%;transform:translateY(-30%);opacity:0;position:relative}to{height:auto;transform:translateY(0);opacity:1;z-index:0;position:relative}}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fade-up-in{0%{margin-top:10px;opacity:0}to{margin-top:0;opacity:1}}@keyframes _ngcontent-%COMP%_fade-up-out{0%{margin-top:0;opacity:1}to{margin-top:-20px;opacity:0}}@keyframes _ngcontent-%COMP%_spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_floatPopIn{0%{margin-top:0;opacity:0}30%{margin-top:-20px;opacity:.5}to{margin-top:0;opacity:1}}@keyframes _ngcontent-%COMP%_popIn{0%{margin-top:0;opacity:0}40%{margin-top:-20px;opacity:.3}90%{margin-top:0;opacity:.4}to{margin-top:0;opacity:1}}@keyframes _ngcontent-%COMP%_press{0%{transform:scale(1);filter:brightness(1)}30%{transform:scale(.95);filter:brightness(1.2)}to{transform:scale(1);filter:brightness(1)}}[_nghost-%COMP%]{display:flex;position:fixed;bottom:20px;animation:_ngcontent-%COMP%_rightIn 2s forwards}button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:44px;height:44px;padding-top:7px;border:none}button[_ngcontent-%COMP%]:after{content:"";display:flex;width:18px;height:18px;border-top:3px solid #fff;border-right:3px solid #fff;border-end-end-radius:3px;border-start-start-radius:3px;transform:rotate(-45deg)}@keyframes _ngcontent-%COMP%_rightIn{0%{right:-50px}to{right:17px}}.clicked[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_press .3s forwards}']})}return o})();var St=d(9880),W=d(4081),T=d(4576),Z=d(2908);function Yt(o,a){1&o&&t.wR5(0,"em",12)}function At(o,a){if(1&o&&(t.I0R(0,"p"),t.OEk(1),t.wVc(2,"translate"),t.C$Y()),2&o){const e=t.GaO(2);t.eAK("hasMemo",e.option.hasMemo),t.yG2(),t.oRS(" ",t.kDX(2,3,e.option.name),"")}}function qt(o,a){if(1&o){const e=t.KQA();t.I0R(0,"input",13),t.iHE("ngModelChange",function(i){t.usT(e);const r=t.GaO(2);return t.kNx(r.memo,i)||(r.memo=i),t.CGJ(i)}),t.qCj("input",function(i){t.usT(e);const r=t.GaO(2);return t.CGJ(r.onMemoInput(i))}),t.wVc(1,"translate"),t.C$Y()}if(2&o){t.GaO();const e=t.Gew(2),n=t.GaO();let i;t.E7m("type",null!==(i=n.option.memoInputType)&&void 0!==i?i:"text"),t.OKB("ngModel",n.memo),t.E7m("placeholder",t.kDX(1,4,n.option.memoPlaceholder?n.option.memoPlaceholder:"cab.comment-send-placeholder"))("disabled",n.disabled||!e.checked)}}function Nt(o,a){if(1&o&&(t.I0R(0,"div",14),t.OEk(1),t.C$Y()),2&o){const e=t.GaO(2);t.yG2(),t.cNF(e.errorMessage)}}function Vt(o,a){if(1&o){const e=t.KQA();t.SAx(0),t.I0R(1,"input",2,3),t.qCj("change",function(i){t.usT(e);const r=t.GaO();return t.CGJ(r.disabled?null:r.change(i))}),t.C$Y(),t.I0R(3,"label",4)(4,"div",5),t.wR5(5,"em",6),t.yuY(6,Yt,1,0,"em",7),t.C$Y(),t.I0R(7,"div",8),t.yuY(8,At,3,5,"p",9)(9,qt,2,6,"input",10),t.C$Y(),t.yuY(10,Nt,2,1,"div",11),t.C$Y(),t.k70()}if(2&o){const e=t.GaO();t.yG2(),t.E7m("value",""+e.option.code)("disabled",e.disabled)("name","checkbox-"+e.name)("id",e.id)("checked",void 0===e.checked?""+e.model==""+e.option.code:e.checked),t.yG2(2),t.eAK("noData",e.noData)("error",e.isError)("isInGroup",e.isInGroup),t.E7m("for",e.id),t.yG2(3),t.E7m("ngIf",e.noData),t.yG2(2),t.E7m("ngIf",null==e.option?null:e.option.name),t.yG2(),t.E7m("ngIf",e.option.hasMemo),t.yG2(),t.E7m("ngIf",e.errorMessage&&e.isError)}}function Bt(o,a){1&o&&t.wR5(0,"em",12)}function Qt(o,a){if(1&o&&(t.wR5(0,"input",15),t.I0R(1,"label",16)(2,"div",5),t.yuY(3,Bt,1,0,"em",7),t.C$Y()()),2&o){const e=t.GaO();t.yG2(3),t.E7m("ngIf",e.noData)}}let q=(()=>{class o extends C.E{constructor(){super(...arguments),this.id="",this.name="checkbox",this.disabled=!1,this.noData=!1,this.isError=!1,this.memo="",this.errorMessage="",this.isInGroup=!1,this.valueChange=new t._w7,this.memoChange=new t._w7}get currentValue(){return{value:this.checked?this.option.code:null,memo:this.memo}}onMemoInput(e){this.disabled||(this.notifyValueChange(this.currentValue),this.valueChange.emit(this.currentValue),this.memoChange.emit(this.memo))}change(e){this.checked=e.target.checked,this.notifyValueChange(this.currentValue),this.valueChange.emit(this.currentValue)}static#t=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=t.otF(o)))(i||o)}})();static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-checkbox"]],inputs:{id:"id",name:"name",checked:"checked",option:"option",disabled:"disabled",noData:"noData",isError:"isError",memo:"memo",errorMessage:"errorMessage",isInGroup:"isInGroup"},outputs:{valueChange:"valueChange",memoChange:"memoChange"},features:[t.M5G([(0,C.I)(o)]),t.eg9],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["tNoData",""],["type","checkbox",1,"d-none",3,"value","disabled","name","id","checked","change"],["tCheckbox",""],[1,"d-flex","align-items-start","pr-2","pe-pointer",3,"for"],[1,"checkbox","d-flex","align-items-center","justify-content-center","ml-2","mr-2_5"],[1,"icon-check-thick"],["class","icon-minus",4,"ngIf"],[1,"d-flex","flex-wrap"],[3,"hasMemo",4,"ngIf"],["class","input","id","otherInput",3,"type","ngModel","placeholder","disabled","ngModelChange","input",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"icon-minus"],["id","otherInput",1,"input",3,"type","ngModel","placeholder","disabled","ngModelChange","input"],[1,"error-message"],["type","checkbox",1,"d-none"],[1,"d-flex","align-items-start","pr-2","pe-pointer"]],template:function(n,i){if(1&n&&t.yuY(0,Vt,11,16,"ng-container",0)(1,Qt,4,1,"ng-template",null,1,t.gJz),2&n){const r=t.Gew(2);t.E7m("ngIf",i.option)("ngIfElse",r)}},dependencies:[_.u_,s.ot,s.ue,s._G,M.sD],styles:["[_nghost-%COMP%]{display:flex}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{width:100%;padding-top:2px;padding-bottom:2px;border-radius:4px}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   .isInGroup[_ngcontent-%COMP%]{margin-bottom:5px;margin-right:2px}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{position:relative;width:1rem;min-width:1rem;margin-top:.25rem;height:1rem;background-color:#fff;border-radius:3px;border:1px solid #a4a4a4;transition:.2s ease}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]:first-of-type{font-size:9px;visibility:hidden;color:#fff}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]:nth-of-type(2){position:absolute;left:-1px;color:#a4a4a4}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]:nth-of-type(2):hover{opacity:1}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#2c2c2c;word-break:break-all}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   p.hasMemo[_ngcontent-%COMP%]{margin-right:10px;word-break:keep-all}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:9rem;height:1.4rem;border:none;border-bottom:1px solid #a4a4a4;border-radius:5px;transition:.1s ease;margin:2px 2px 2px 0}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:disabled):hover{border:1.5px solid var(--primary-color)}input[_ngcontent-%COMP%] + label.noData[_ngcontent-%COMP%]{cursor:default}input[_ngcontent-%COMP%] + label.noData[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a4a4a4}input[_ngcontent-%COMP%] + label.error[_ngcontent-%COMP%]{background-image:none;background-color:transparent!important;padding-right:8px!important;border:none}input[_ngcontent-%COMP%] + label.error[_ngcontent-%COMP%]:not(:disabled):hover{background-color:var(--warn-background-hover)!important}input[_ngcontent-%COMP%] + label.error[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{border-color:var(--warn-color)!important}input[_ngcontent-%COMP%] + label.error[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:not(:disabled):hover{border:1.5px solid var(--warn-color)!important}input[_ngcontent-%COMP%]:not(:disabled) + label[_ngcontent-%COMP%]:not(.noData):hover{background-color:var(--primary-background-hover)}input[_ngcontent-%COMP%]:not(:disabled) + label[_ngcontent-%COMP%]:not(.noData):hover   .checkbox[_ngcontent-%COMP%]{border:1.5px solid #44b787}input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{border:1px solid var(--primary-color);background-color:var(--primary-color)}input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]:first-of-type{visibility:visible}input[_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]{cursor:default}input[_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{background-color:#f4f4f4}input[_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a4a4a4}"]})}return o})();function Lt(o,a){if(1&o){const e=t.KQA();t.I0R(0,"app-checkbox",5),t.qCj("valueChange",function(i){t.usT(e);const r=t.GaO().index,c=t.GaO(2);return t.CGJ(c.change(i,r))})("memoChange",function(i){t.usT(e);const r=t.GaO().index,c=t.GaO(2);return t.CGJ(c.onMemoChange(i,r))}),t.C$Y()}if(2&o){const e=t.GaO(),n=e.$implicit,i=e.index,r=t.GaO(2);let c;t.E7m("option",n)("name","checkbox-"+r.name)("id",r.name+"-"+i)("memo",null!==(c=n.memo)&&void 0!==c?c:"")("disabled",r.disabled)("isError",r.isError)("checked",n.isSelect)("isInGroup",!0)}}function jt(o,a){if(1&o&&(t.SAx(0),t.yuY(1,Lt,1,8,"app-checkbox",4),t.k70()),2&o){const e=a.$implicit;t.yG2(),t.E7m("ngIf",!0===e.show||void 0===e.show)}}function zt(o,a){if(1&o&&(t.SAx(0),t.yuY(1,jt,2,1,"ng-container",3),t.k70()),2&o){const e=t.GaO();t.yG2(),t.E7m("ngForOf",e.checkboxes)}}function Kt(o,a){if(1&o&&(t.I0R(0,"div",6),t.OEk(1),t.C$Y()),2&o){const e=t.GaO();t.yG2(),t.cNF(e.errorMessage)}}const Ht=()=>({name:"\u7121\u8cc7\u6599",code:""});function Ut(o,a){if(1&o&&t.wR5(0,"app-checkbox",7),2&o){const e=t.GaO();t.E7m("option",t.q4q(3,Ht))("noData",!0)("name","checkbox-"+e.name)}}let D=(()=>{class o extends C.E{constructor(){super(...arguments),this.name="checkbox",this.options=[],this.disabled=!1,this.direction="row",this.hasOtherInput=!1,this.isError=!1,this.errorMessage="",this.checkboxes=[],this.model=[],this.form=new s.WC({checks:new s.Sg([])})}get f(){return this.form.get("checks")}ngOnInit(){const e=setTimeout(()=>{this.setCheckboxIfChecked(),clearTimeout(e)},100)}ngAfterViewInit(){this.options&&this.options?.length>0&&this.model&&this.model?.length>0&&this.init()}ngOnChanges({options:e}){e&&e.currentValue&&(this.options=e.currentValue,this.setCheckboxIfChecked())}onMemoChange(e,n){this.checkboxes[n].memo=e;const i=this.model.findIndex(c=>c.value===this.checkboxes[n].code),r=this.model;r[i].memo=e,this.notifyValueChange(r)}change(e,n){if(null!==e.value)if(this.model&&this.model.some(i=>i.value===e.value)){if(e.memo!==this.model.find(i=>i.value===e.value)?.memo){const i=this.model.findIndex(r=>r.value===e.value);this.model[i].memo=e.memo}}else this.model.push({value:e.value,memo:e.memo});else this.writeValue(this.model.filter(i=>i.value&&i.value!==this.checkboxes[n].code));this.notifyValueChange(this.model)}setCheckboxIfChecked(){this.checkboxes=this.options.map((e,n)=>{const i=this.model.find(r=>`${r.value}`==`${e.code}`);return{...e,memo:i?i.memo:"",isSelect:!!this.model&&this.model.some(r=>e.code===("object"==typeof r&&null!==r?r.value:r))}})}init(){const e=setTimeout(()=>{this.setCheckboxIfChecked(),clearTimeout(e)})}static#t=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=t.otF(o)))(i||o)}})();static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-checkbox-set"]],inputs:{name:"name",options:"options",disabled:"disabled",direction:"direction",hasOtherInput:"hasOtherInput",isError:"isError",errorMessage:"errorMessage"},features:[t.M5G([(0,C.I)(o)]),t.eg9,t.SYr],decls:5,vars:6,consts:[[4,"ngIf","ngIfElse"],["class","error-message",4,"ngIf"],["tNoData",""],[4,"ngFor","ngForOf"],[3,"option","name","id","memo","disabled","isError","checked","isInGroup","valueChange","memoChange",4,"ngIf"],[3,"option","name","id","memo","disabled","isError","checked","isInGroup","valueChange","memoChange"],[1,"error-message"],[3,"option","noData","name"]],template:function(n,i){if(1&n&&(t.I0R(0,"div"),t.yuY(1,zt,2,1,"ng-container",0),t.C$Y(),t.yuY(2,Kt,2,1,"div",1)(3,Ut,1,4,"ng-template",null,2,t.gJz)),2&n){const r=t.Gew(4);t.uQ9("d-flex flex-",i.direction," flex-wrap"),t.yG2(),t.E7m("ngIf",!!i.options.length)("ngIfElse",r),t.yG2(),t.E7m("ngIf",i.errorMessage&&i.isError)}},dependencies:[_.ay,_.u_,q],styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%]:first-of-type{margin-left:-.5rem}[_nghost-%COMP%] > div[_ngcontent-%COMP%]:first-of-type > div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:9rem;height:2rem;margin:2px 2px 2px 5px;border-radius:5px}"]})}return o})();function Xt(o,a){if(1&o&&(t.I0R(0,"div",2),t.OEk(1),t.C$Y()),2&o){const e=t.GaO();t.yG2(),t.cNF(e.errorMessage)}}let F=(()=>{class o extends C.E{constructor(){super(...arguments),this.type="text",this.id="input",this.placeholder="\u8acb\u8f38\u5165...",this.disabled=!1,this.isError=!1,this.isDynamic=!1,this.size=l.ui.M}input(e){this.trim(e);const n=e.target.value;this.notifyValueChange(this.isDynamic?[{value:n,memo:""}]:n)}trim(e){const n=e.target;n.value=n.value.trim()}static#t=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=t.otF(o)))(i||o)}})();static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-input"]],inputs:{type:"type",id:"id",placeholder:"placeholder",errorMessage:"errorMessage",disabled:"disabled",isError:"isError",isDynamic:"isDynamic",size:"size"},features:[t.M5G([(0,C.I)(o)]),t.eg9],decls:2,vars:10,consts:[["pattern","[0-9]+(\\.[0-9]{1,2})?",3,"ngModel","type","disabled","placeholder","keyup"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(n,i){1&n&&(t.I0R(0,"input",0),t.qCj("keyup",function(c){return i.input(c)}),t.C$Y(),t.yuY(1,Xt,2,1,"div",1)),2&n&&(t.uQ9("input w-100 ",i.size,""),t.eAK("error",i.isError),t.E7m("ngModel",i.isDynamic?i.model[0].value:i.model)("type",i.type)("disabled",i.disabled)("placeholder",i.placeholder),t.yG2(),t.E7m("ngIf",i.errorMessage&&i.isError))},dependencies:[_.u_,s.ot,s.ue,s.E1,s._G],styles:["input.s[_ngcontent-%COMP%]{height:1.8rem;padding-left:.5rem;border-radius:var(--form-radius-s)}"]})}return o})();var Jt=d(4996);function Wt(o,a){if(1&o&&t.wR5(0,"em"),2&o){const e=t.GaO();t.uQ9(" ",e.icon," fs-xs fw-7 mr-2")}}const Zt=["*"];let tt=(()=>{class o extends W.Q{constructor(){super(...arguments),this.title="",this.icon="",this.type=l._o.Default,this.size=l.ui.M,this.hasBg=!0}static#t=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=t.otF(o)))(i||o)}})();static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-borderless-button"]],inputs:{title:"title",icon:"icon",type:"type",size:"size",hasBg:"hasBg"},features:[t.eg9],ngContentSelectors:Zt,decls:4,vars:7,consts:[[3,"class",4,"ngIf"]],template:function(n,i){1&n&&(t.kPM(),t.I0R(0,"button"),t.yuY(1,Wt,1,3,"em",0),t.I0R(2,"p"),t._Xx(3),t.C$Y()()),2&n&&(t.qim("",i.type," ",i.size," d-flex align-items-center"),t.eAK("hasBg",i.hasBg),t.yG2(),t.E7m("ngIf",i.icon))},dependencies:[_.u_],styles:["[_nghost-%COMP%]{display:inline-block}button[_ngcontent-%COMP%]{color:#6d6d6d;letter-spacing:1px;border-radius:6px;outline:none;white-space:nowrap;border:none;background-color:transparent;box-sizing:border-box;transition:.05s;border:1px solid transparent}button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{letter-spacing:2px}button.primary[_ngcontent-%COMP%]{color:var(--primary-text-color)}button.primary.hasBg[_ngcontent-%COMP%]{filter:brightness(99%);background-color:var(--primary-background-hover)}button.warn[_ngcontent-%COMP%]{color:var(--warn-color)}button.warn.hasBg[_ngcontent-%COMP%]{filter:brightness(99%);background-color:var(--warn-background-hover)}button.default[_ngcontent-%COMP%]{color:#2c2c2c}button.default.hasBg[_ngcontent-%COMP%]{filter:brightness(99%);background-color:#f4f4f4}button.s[_ngcontent-%COMP%]{padding-right:.3rem;padding-left:.3rem;font-weight:400;font-size:1rem;border-radius:var(--form-radius-s)}button.m[_ngcontent-%COMP%]{padding-right:.4rem;padding-left:.4rem;font-weight:400;font-size:1.1rem;border-radius:var(--form-radius-m)}button[_ngcontent-%COMP%]:hover{background-color:#f4f4f4}button[_ngcontent-%COMP%]:hover.hasBg{filter:saturate(130%) brightness(103%)!important}"]})}return o})();const te=()=>({name:"\u6709\u8aaa\u660e\u6b04\u4f4d",code:!0});function ee(o,a){if(1&o&&t.wR5(0,"app-checkbox",8),2&o){const e=t.GaO().index;t.E7m("option",t.q4q(2,te))("id",""+e)}}function ne(o,a){if(1&o){const e=t.KQA();t.I0R(0,"li",4),t.wR5(1,"app-input",5),t.yuY(2,ee,1,3,"app-checkbox",6),t.I0R(3,"app-icon-button",7),t.qCj("click",function(){const r=t.usT(e).index,c=t.GaO();return t.CGJ(c.listForm.controls.list.removeAt(r))}),t.C$Y()()}if(2&o){const e=a.index,n=t.GaO();t.E7m("@verticalShortenOut",void 0)("formGroup",n.listForm.controls.list.controls[e]),t.yG2(),t.E7m("size",n.sizeType.S),t.yG2(),t.E7m("ngIf",!n.hideMemo),t.yG2(),t.E7m("classes","icon-cancel-thick text-grey-black fs-xs fw-9")("size",n.sizeType.S)}}let oe=(()=>{class o extends C.E{constructor(){super(),this.list=[],this.hideMemo=!1,this.onAddEmptyItem=new t._w7,this.listFormInit=new s.WC({list:new s.Sg([])}),this.listForm=this.listFormInit}get sizeType(){return l.ui}ngOnChanges({list:e}){e&&e.currentValue&&this.reCreateListForm(e.currentValue)}addEmptyItem(){this.listForm.controls.list.controls.push(new s.WC({name:new s.Ku(""),hasMemo:new s.Ku(!1)})),this.listForm.controls.list.controls[this.listForm.controls.list.controls.length-1].valueChanges.pipe((0,b.a)(this.onDestroy$)).subscribe(e=>{this.listForm.controls.list.updateValueAndValidity()}),this.listForm.controls.list.updateValueAndValidity(),this.onAddEmptyItem.emit()}reCreateListForm(e){this.listForm=this.listFormInit,e.length?e.forEach((n,i)=>{this.listForm.get("list").controls.push(new s.WC({name:new s.Ku(n.name),hasMemo:new s.Ku(n.hasMemo)})),this.listForm.controls.list.controls[i].valueChanges.pipe((0,b.a)(this.onDestroy$)).subscribe(r=>{this.listForm.controls.list.updateValueAndValidity()})}):this.addEmptyItem(),this.listForm.controls.list.valueChanges.pipe((0,b.a)(this.onDestroy$)).subscribe(n=>{const i=n.map(r=>({name:r.name,hasMemo:"object"==typeof r.hasMemo&&null!==r.hasMemo?r.hasMemo.value:r.hasMemo}));this.notifyValueChange(i)}),this.listForm.controls.list.updateValueAndValidity()}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-dynamic-input-list"]],inputs:{list:"list",hideMemo:"hideMemo"},outputs:{onAddEmptyItem:"onAddEmptyItem"},features:[t.M5G([(0,C.I)(o)]),t.eg9,t.SYr],decls:5,vars:5,consts:[[1,"ml-1","mb-1",3,"icon","size","click"],[1,"d-flex",3,"formGroup"],[1,"d-flex","flex-column",3,"formArrayName"],["class","d-flex align-items-center p-1",3,"formGroup",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","p-1",3,"formGroup"],["formControlName","name",3,"size"],["class","ml-2","formControlName","hasMemo",3,"option","id",4,"ngIf"],[1,"ml-2",3,"classes","size","click"],["formControlName","hasMemo",1,"ml-2",3,"option","id"]],template:function(n,i){1&n&&(t.I0R(0,"app-borderless-button",0),t.qCj("click",function(){return i.addEmptyItem()}),t.OEk(1,"\n\u65b0\u589e\u9805\u76ee"),t.C$Y(),t.I0R(2,"form",1)(3,"ul",2),t.yuY(4,ne,4,6,"li",3),t.C$Y()()),2&n&&(t.E7m("icon","icon-add")("size",i.sizeType.S),t.yG2(2),t.E7m("formGroup",i.listForm),t.yG2(),t.E7m("formArrayName","list"),t.yG2(),t.E7m("ngForOf",i.listForm.controls.list.controls))},dependencies:[_.ay,_.u_,s.sz,s.ue,s.u,s.uW,s.Wo,s.uE,Jt.i,tt,q,F],styles:["ul[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:auto;border-radius:var(--form-radius-sm)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f4f4f4}"],data:{animation:[(0,O.aS)()]}})}return o})();function ie(o,a){if(1&o&&(t.I0R(0,"div",18)(1,"p",7),t.OEk(2,"\u9a57\u8b49"),t.C$Y(),t.wR5(3,"app-checkbox-set",19),t.C$Y()),2&o){const e=t.GaO();t.E7m("@verticalShortenOut",void 0),t.yG2(3),t.E7m("options",e.validationOptions)("name","validations")}}function re(o,a){if(1&o){const e=t.KQA();t.I0R(0,"div",20)(1,"p",7),t.OEk(2,"\u9078\u9805"),t.C$Y(),t.I0R(3,"app-dynamic-input-list",21),t.qCj("onAddEmptyItem",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.onAddEmptyItem())}),t.C$Y()()}if(2&o){const e=t.GaO();t.yG2(3),t.E7m("list",e.data.SubQuestionGroup[0].optionsForNormal)("hideMemo",e.hideMemo)}}let ae=(()=>{class o extends K.o{constructor(e){super(e),this.dialog=e,this.questionForm=new s.WC({required:new s.Ku(!1,s.AQ.required),title:new s.Ku("",s.AQ.required),des:new s.Ku(""),placeholder:new s.Ku(""),fieldType:new s.Ku(null,s.AQ.required),validation:new s.Ku([]),options:new s.Ku([])}),this.validationForm=new s.WC({}),this.fieldTypeList=[{code:g.Checkbox,name:"field."+g.Checkbox},{code:g.DatePicker,name:"field."+g.DatePicker},{code:g.DatePickerRange,name:"field."+g.DatePickerRange},{code:g.Input,name:"field."+g.Input},{code:g.MultiSelect,name:"field."+g.MultiSelect},{code:g.Radio,name:"field."+g.Radio},{code:g.Select,name:"field."+g.Select},{code:g.TextArea,name:"field."+g.TextArea},{code:g.Toggle,name:"field."+g.Toggle}],this.validationOptionsSource=[{code:m.EMAIL_ERROR,name:m.EMAIL_ERROR},{code:m.EN_NUMBER_ONLY,name:m.EN_NUMBER_ONLY},{code:m.NUMBER_ONLY,name:m.NUMBER_ONLY,memoInputType:v.Number},{code:m.MAX_ITEMS,name:m.MAX_ITEMS,hasMemo:!0,memoPlaceholder:"\u8acb\u586b\u6578\u5b57",memoInputType:v.Number},{code:m.MIN_ITEMS,name:m.MIN_ITEMS,hasMemo:!0,memoPlaceholder:"\u8acb\u586b\u6578\u5b57",memoInputType:v.Number},{code:m.MAX_MIN_ITEMS,name:m.MAX_MIN_ITEMS,hasMemo:!0,memoType:Y.Range,memoInputType:v.Number},{code:m.MAX_LENGTH,name:m.MAX_LENGTH,hasMemo:!0,memoPlaceholder:"\u8acb\u586b\u6578\u5b57",memoInputType:v.Number},{code:m.MIN_LENGTH,name:m.MIN_LENGTH,hasMemo:!0,memoPlaceholder:"\u8acb\u586b\u6578\u5b57",memoInputType:v.Number},{code:m.MAX_MIN_LENGTH,name:m.MAX_MIN_LENGTH,hasMemo:!0,memoType:Y.Range,memoInputType:v.Number}],this.validationOptions=[],this.showOptionField=!1,this.hideMemo=!1}onInit(){this.reCreateValidationForm(),this.subscribeQuestionForm(),this.data&&this.setValue(this.data),console.log("aa-dialog",this.data)}submit(){console.log("aa-form value",this.questionForm.value),this.questionForm.invalid?this.questionForm.markAllAsTouched():(console.log("aa-dialog confirm",this.questionForm.value),this.confirm(this.questionForm.value))}setValue(e){console.log("aa-setValue",e),this.questionForm.patchValue({required:e.SubQuestionGroup[0].required,title:e.title,des:e.description,placeholder:e.SubQuestionGroup[0].placeholder,fieldType:e.SubQuestionGroup[0].type,validation:e.SubQuestionGroup[0].validationView?.map(n=>({value:n.type,code:n.type,memo:n.value,type:n.type})),...e.SubQuestionGroup[0].optionsForNormal?{options:e.SubQuestionGroup[0].optionsForNormal.map((n,i)=>({content:n.name,hasMemo:!!n.hasMemo,value:`${i+1}`,label:n.name,memo:n.memo,code:n.code,name:n.name}))}:{}})}onAddEmptyItem(){}reCreateValidationForm(){this.validationForm=new s.WC({}),this.validationOptions.forEach(e=>{e.hasMemo&&this.validationForm.addControl(e.code,new s.Ku("",[s.AQ.required,...e.memoInputType===v.Number?[s.AQ.pattern("^[0-9]*$")]:[]]))})}subscribeQuestionForm(){this.questionForm.controls.fieldType.valueChanges.pipe((0,b.a)(this.onDestroy$)).subscribe(e=>{this.questionForm.controls.validation?.setValue([]),this.reSetValidationOptions(e),this.reCreateValidationForm(),this.showOptionField=e===g.MultiSelect||e===g.Checkbox||e===g.Radio||e===g.Select,this.hideMemo=e===g.MultiSelect||e===g.Select})}reSetValidationOptions(e){const n=[...this.validationOptionsSource];this.validationOptions=e===g.MultiSelect||e===g.Checkbox?n.filter(i=>i.code===m.MAX_ITEMS||i.code===m.MIN_ITEMS||i.code===m.MAX_MIN_ITEMS):e===g.Input||e===g.TextArea?n.filter(i=>i.code===m.MAX_LENGTH||i.code===m.MIN_LENGTH||i.code===m.MAX_MIN_LENGTH||i.code===m.CN_ONLY||i.code===m.EMAIL_ERROR||i.code===m.EN_NUMBER_ONLY||i.code===m.NUMBER_ONLY):[]}static#t=this.\u0275fac=function(n){return new(n||o)(t.GI1(G.Q))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-dynamic-field-edit-dialog"]],features:[t.eg9],decls:34,vars:9,consts:[[3,"width","maxWidth","minWidth","closed"],["id","title",1,"fs-lgxx","fw-4"],["id","body",1,"w-100","d-flex","flex-wrap","px-3",3,"formGroup"],[1,"w-100","d-flex","align-items-center","mr-2","mb-3"],[1,"mr-2"],["formControlName","required"],[1,"w-45p","mr-3","mb-3"],[1,"mb-2"],[1,"text-warn-color","fw-7"],["formControlName","title"],["formControlName","des"],["formControlName","placeholder"],["formControlName","fieldType",3,"options"],["class","w-100 mr-2 mb-3",4,"ngIf"],["class","w-100 mr-3 mb-3",4,"ngIf"],["id","footer",1,"w-100","d-flex","justify-content-end","mt-2"],[1,"btn-flat","bg-primary-color","text-white","ml-2",3,"disabled","click"],[1,"icon-check","fs-xsm","mr-1"],[1,"w-100","mr-2","mb-3"],["formControlName","validation",3,"options","name"],[1,"w-100","mr-3","mb-3"],["formControlName","options",3,"list","hideMemo","onAddEmptyItem"]],template:function(n,i){1&n&&(t.I0R(0,"app-dialog-container",0),t.qCj("closed",function(){return i.close()}),t.I0R(1,"h4",1),t.OEk(2),t.C$Y(),t.I0R(3,"form",2)(4,"div",3)(5,"p",4),t.OEk(6,"\u5fc5\u586b"),t.C$Y(),t.wR5(7,"app-toggle",5),t.C$Y(),t.I0R(8,"div",6)(9,"p",7),t.OEk(10,"\u984c\u76ee\u6a19\u984c"),t.I0R(11,"span",8),t.OEk(12,"*"),t.C$Y()(),t.wR5(13,"app-input",9),t.C$Y(),t.I0R(14,"div",6)(15,"p",7),t.OEk(16,"\u526f\u6a19\u984c\u8aaa\u660e\u6587\u5b57"),t.C$Y(),t.wR5(17,"app-input",10),t.C$Y(),t.I0R(18,"div",6)(19,"p",7),t.OEk(20,"\u6b04\u4f4d\u5167\u8aaa\u660e\u6587\u5b57"),t.C$Y(),t.wR5(21,"app-input",11),t.C$Y(),t.I0R(22,"div",6)(23,"p",7),t.OEk(24,"\u6b04\u4f4d\u985e\u578b"),t.I0R(25,"span",8),t.OEk(26,"*"),t.C$Y()(),t.wR5(27,"app-select",12),t.C$Y(),t.yuY(28,ie,4,3,"div",13)(29,re,4,2,"div",14),t.C$Y(),t.I0R(30,"div",15)(31,"button",16),t.qCj("click",function(){return i.submit()}),t.wR5(32,"em",17),t.OEk(33," \u5132\u5b58 "),t.C$Y()()()),2&n&&(t.E7m("width","70%")("maxWidth","673px")("minWidth","350px"),t.yG2(2),t.oRS(" \u7de8\u8f2f\u984c\u76ee: ",i.data.title," "),t.yG2(),t.E7m("formGroup",i.questionForm),t.yG2(24),t.E7m("options",i.fieldTypeList),t.yG2(),t.E7m("ngIf",i.validationOptions.length),t.yG2(),t.E7m("ngIf",i.showOptionField),t.yG2(2),t.E7m("disabled",i.questionForm.invalid))},dependencies:[_.u_,T.Y,Z.U,D,s.sz,s.ue,s.u,s.uW,s.Wo,F,oe,G.Q],styles:["h4[_ngcontent-%COMP%]{word-break:break-all}"],data:{animation:[(0,O.aS)()]}})}return o})();var et=d(4548),nt=d(3992);const se=["tTextArea"];function ce(o,a){if(1&o&&(t.I0R(0,"div",3),t.OEk(1),t.C$Y()),2&o){const e=t.GaO();t.yG2(),t.cNF(e.errorMessage)}}let ot=(()=>{class o extends C.E{constructor(e,n){super(),this.selfElem=e,this.renderer=n,this.placeholder="common.question-basic-content-placeholder",this.minHeight="",this.maxHeight="",this.disabled=!1,this.isError=!1,this.isDynamic=!1}ngOnChanges({show:e,clear:n}){e&&this.setHeightByShow("ngOnChanges"),n&&(this.model="",this.setHeightByShow("ngOnChanges"))}ngAfterViewInit(){this.show&&(0,et.k)(1e3).pipe((0,nt.U)(1)).subscribe(()=>this.setHeightByShow("ngAfterViewInit"))}resize(e){this.renderer.setStyle(this.selfElem.nativeElement,"height","auto"),this.renderer.setStyle(this.selfElem.nativeElement,"height",e.scrollHeight+"px"),this.preReserveHeight=e.scrollHeight;const n=e.value;this.notifyValueChange(this.isDynamic?[{value:n,memo:""}]:n)}setHeightByShow(e){this.show?(this.renderer.setStyle(this.selfElem.nativeElement,"height","auto"),this.renderer.setStyle(this.selfElem.nativeElement,"height",this.tTextArea?.nativeElement.scrollHeight+"px")):this.renderer.setStyle(this.selfElem.nativeElement,"height","0")}static#t=this.\u0275fac=function(n){return new(n||o)(t.GI1(t.GMv),t.GI1(t.q87))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-fit-content-textarea"]],viewQuery:function(n,i){if(1&n&&t.CC$(se,5),2&n){let r;t.wto(r=t.Gqi())&&(i.tTextArea=r.first)}},inputs:{placeholder:"placeholder",errorMessage:"errorMessage",minHeight:"minHeight",maxHeight:"maxHeight",show:"show",clear:"clear",disabled:"disabled",isError:"isError",isDynamic:"isDynamic"},features:[t.M5G([(0,C.I)(o)]),t.eg9,t.SYr],decls:4,vars:12,consts:[[1,"textarea","w-100","overflow-auto",3,"placeholder","ngModel","disabled","ngModelChange"],["tTextArea",""],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(n,i){if(1&n){const r=t.KQA();t.I0R(0,"textarea",0,1),t.iHE("ngModelChange",function(p){return i.isDynamic||t.kNx(i.model,p)||(i.model=p),p}),t.qCj("ngModelChange",function(){t.usT(r);const p=t.Gew(1);return t.CGJ(i.resize(p))}),t.wVc(2,"translate"),t.C$Y(),t.yuY(3,ce,2,1,"div",2)}2&n&&(t.m4B("min-height",i.minHeight?i.minHeight:"6rem")("max-height",i.maxHeight?i.maxHeight:"unset"),t.eAK("error",i.isError),t.E7m("placeholder",t.kDX(2,10,i.placeholder)),t.OKB("ngModel",i.isDynamic?i.model[0].value:i.model),t.E7m("disabled",i.disabled),t.yG2(3),t.E7m("ngIf",i.errorMessage&&i.isError))},dependencies:[_.u_,s.ot,s.ue,s._G,M.sD],styles:["[_nghost-%COMP%]{display:flex}"]})}return o})();var x=d(4124),le=d(5908),pe=d.n(le),me=d(6700);function de(o,a){if(1&o){const e=t.KQA();t.I0R(0,"em",11),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.switch(0,-1))}),t.C$Y()}}function ue(o,a){if(1&o){const e=t.KQA();t.I0R(0,"em",12),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.switch(0,1))}),t.C$Y()}}function _e(o,a){if(1&o&&(t.I0R(0,"th",13),t.OEk(1),t.C$Y()),2&o){const e=a.$implicit;t.yG2(),t.oRS(" ",e," ")}}function ge(o,a){if(1&o){const e=t.KQA();t.I0R(0,"td",15)(1,"div",16),t.qCj("mouseenter",function(){const r=t.usT(e).$implicit,c=t.GaO(3);return t.CGJ(c.selectRange.start?c.hover(r):null)})("click",function(){const r=t.usT(e).$implicit,c=t.GaO(3);return t.CGJ(c.isInThisMonth(r)?c.onSelectDate(r):null)}),t.OEk(2),t.wVc(3,"date"),t.C$Y()()}if(2&o){const e=a.$implicit,n=t.GaO(3);t.yG2(),t.eAK("start-selected",n.isRange&&n.selectRange.start===e)("between",n.isBetween(e))("end-hovered",n.selectRange.start&&n.hoverDate===e)("disabled",!n.isInThisMonth(e)||n.isBeforeStart(e))("selected",e===n.selectedDate),t.yG2(),t.oRS(" ",t.g7$(3,11,e,"d")," ")}}function he(o,a){if(1&o&&(t.I0R(0,"tr"),t.yuY(1,ge,4,14,"td",14),t.C$Y()),2&o){const e=a.$implicit;t.yG2(),t.E7m("ngForOf",e)}}const fe=()=>["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u65e5"];function Ce(o,a){if(1&o){const e=t.KQA();t.SAx(0,2),t.I0R(1,"div",3)(2,"div",4),t.yuY(3,de,1,0,"em",5),t.I0R(4,"div",6),t.qCj("click",function(i){t.usT(e);const r=t.GaO();return t.CGJ(r.isRange?null:r.toYearType(i))}),t.OEk(5),t.C$Y(),t.yuY(6,ue,1,0,"em",7),t.C$Y()(),t.I0R(7,"table",8)(8,"thead")(9,"tr"),t.yuY(10,_e,2,1,"th",9),t.C$Y()(),t.I0R(11,"tbody"),t.yuY(12,he,2,1,"tr",10),t.C$Y()(),t.k70()}if(2&o){const e=t.GaO();t.yG2(3),t.E7m("ngIf",!e.thisMonthLimit),t.yG2(),t.eAK("isRange",e.isRange),t.yG2(),t.cNF(e.title),t.yG2(),t.E7m("ngIf",!e.thisMonthLimit),t.yG2(4),t.E7m("ngForOf",t.q4q(7,fe)),t.yG2(2),t.E7m("ngForOf",e.datesInMonth)}}function ye(o,a){if(1&o){const e=t.KQA();t.I0R(0,"em",11),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.switch(-1,0))}),t.C$Y()}}function be(o,a){if(1&o){const e=t.KQA();t.I0R(0,"em",12),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.switch(1,0))}),t.C$Y()}}function Me(o,a){if(1&o){const e=t.KQA();t.I0R(0,"td",15)(1,"div",20),t.qCj("mouseenter",function(){const r=t.usT(e).$implicit,c=t.GaO(3);return t.CGJ(c.hover(r))})("click",function(i){const c=t.usT(e).$implicit,p=t.GaO(3);return t.CGJ(p.onSelectMonth(i,c))}),t.OEk(2),t.C$Y()()}if(2&o){const e=a.$implicit,n=t.GaO(3);t.yG2(),t.eAK("selected",e===n.selectedMonth),t.yG2(),t.oRS(" ",e," \u6708 ")}}function Oe(o,a){if(1&o&&(t.I0R(0,"tr"),t.yuY(1,Me,3,3,"td",14),t.C$Y()),2&o){const e=a.$implicit;t.yG2(),t.E7m("ngForOf",e)}}function xe(o,a){if(1&o&&(t.I0R(0,"div",17)(1,"div",4),t.yuY(2,ye,1,0,"em",5),t.I0R(3,"div",18),t.OEk(4),t.wVc(5,"slice"),t.C$Y(),t.yuY(6,be,1,0,"em",7),t.C$Y()(),t.I0R(7,"table",19)(8,"tbody"),t.yuY(9,Oe,2,1,"tr",10),t.C$Y()()),2&o){const e=t.GaO();t.yG2(2),t.E7m("ngIf",!e.thisMonthLimit),t.yG2(2),t.cNF(t.I7O(5,4,e.title,0,4)),t.yG2(2),t.E7m("ngIf",!e.thisMonthLimit),t.yG2(3),t.E7m("ngForOf",e.yearMonths)}}let ve=(()=>{class o extends j.Q{constructor(e){super(),this.datePipe=e,this.isRange=!1,this.thisMonthLimit=!1,this.select=new t._w7,this.datesInMonth=[],this.yearMonths=[],this.current=(new Date).toISOString(),this.currentSubject=new me.g(this.current),this.current$=this.currentSubject.asObservable(),this.hoverDate="",this.selectedDate="",this.selectedMonth="",this.selectRange={start:"",end:""},this.isDateType=!0,this.format="yyyy/MM/dd"}get title(){const e=this.current.split("/");return`${e[0]}\u5e74${e[1]}\u6708`}ngOnInit(){this.current$.pipe((0,b.a)(this.onDestroy$)).subscribe(e=>{this.current=e,this.datesInMonth=this.chunkByNumber(this.getDatesInMonth(this.current),7),this.yearMonths=this.chunkByNumber(this.getMonths(),3)}),this.switch(0,0)}isInThisMonth(e){return new Date(e).getMonth()===new Date(this.current).getMonth()}hover(e){this.hoverDate=e}isBetween(e){const n=x.L.formatMoment(this.selectRange.start),i=x.L.formatMoment(this.hoverDate);return x.L.formatMoment(e).isBetween(n,i)}isBeforeStart(e){return x.L.formatMoment(this.selectRange.start).isAfter(x.L.formatMoment(e))}onSelectDate(e){this.selectedDate=e,this.isRange?this.selectRange.start?this.selectRange.start===this.selectedDate?this.selectRange.start="":(this.selectRange.end=this.selectedDate,this.select.emit(this.selectRange)):this.selectRange.start=this.selectedDate:this.select.emit(this.selectedDate)}onSelectMonth(e,n){e.stopPropagation(),this.isDateType=!this.isDateType,this.switch(0,+n-(new Date(this.current).getMonth()+1))}toYearType(e){e.stopPropagation(),this.isDateType=!1}switch(e,n){const i=pe()(this.current,"YYYY/MM").add(e,"years").add(n,"months").format("YYYY/MM");this.currentSubject.next(i)}chunkByNumber(e,n){const i=[];for(let r=0;r<e.length;r+=n)i.push(e.slice(r,r+n));return i}getDatesInMonth(e){const n=[],i=x.L.formatBoundaryDate(x.L.formatBoundaryDate(e,0,"month",!0),0,"week",!0),r=x.L.formatBoundaryDate(x.L.formatBoundaryDate(e,0,"month",!1),0,"week",!1);for(;n.length<x.L.getOffset(i,r,"day");)n.push(x.L.formatSpecDate(i,n.length+1,"day"));return n}getMonths(){return Array.from(Array(12).keys()).map(e=>`${e+1}`)}static#t=this.\u0275fac=function(n){return new(n||o)(t.GI1(_.y))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-calendar"]],inputs:{isRange:"isRange",thisMonthLimit:"thisMonthLimit"},outputs:{select:"select"},features:[t.eg9],decls:3,vars:2,consts:[["class","d-flex flex-column",4,"ngIf","ngIfElse"],["tMonthType",""],[1,"d-flex","flex-column"],[1,"month-type","d-flex","flex-row","align-items-center","justify-content-between","p-1"],[1,"month-toggle"],["class","fas fa-angle-left text-grey-dark fs-lgxx pe-pointer",3,"click",4,"ngIf"],[1,"title","ml-3","p-1",3,"click"],["class","fas fa-angle-right text-grey-dark fs-lgxx ml-3 pe-pointer",3,"click",4,"ngIf"],[1,"month-type"],["class","text-center align-middle text-grey-iron h-9",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"fas","fa-angle-left","text-grey-dark","fs-lgxx","pe-pointer",3,"click"],[1,"fas","fa-angle-right","text-grey-dark","fs-lgxx","ml-3","pe-pointer",3,"click"],[1,"text-center","align-middle","text-grey-iron","h-9"],["class","text-center align-middle",4,"ngFor","ngForOf"],[1,"text-center","align-middle"],[1,"h-7","w-100","d-flex","align-items-center","justify-content-center",3,"mouseenter","click"],[1,"year-type","d-flex","flex-row","align-items-center","justify-content-between","p-1"],[1,"title","ml-3","p-1"],[1,"year-type","w-100"],[1,"d-flex","align-items-center","justify-content-center",3,"mouseenter","click"]],template:function(n,i){if(1&n&&t.yuY(0,Ce,13,8,"ng-container",0)(1,xe,10,8,"ng-template",null,1,t.gJz),2&n){const r=t.Gew(2);t.E7m("ngIf",i.isDateType)("ngIfElse",r)}},dependencies:[_.ay,_.u_,_.qq,_.y],styles:[".title[_ngcontent-%COMP%]{font-size:1rem;font-weight:400;letter-spacing:1px;color:#2c2c2c;border-radius:4px}.title[_ngcontent-%COMP%]:not(.isRange):hover{cursor:pointer;background-color:#e7e7e7}table[_ngcontent-%COMP%]{margin-top:5px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:1rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{cursor:pointer;width:35px;height:35px;min-width:35px;min-height:35px;padding:1px 4px;color:#000;border-radius:7rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--primary-color)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div.end-hovered[_ngcontent-%COMP%]{border-radius:0 7rem 7rem 0;background-color:var(--primary-color)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div.start-selected[_ngcontent-%COMP%]{border-radius:7rem 0 0 7rem;background-color:var(--primary-color)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div.between[_ngcontent-%COMP%]{border-radius:0;background-color:var(--primary-background-hover)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div.disabled[_ngcontent-%COMP%]{cursor:default;color:#e7e7e7;background-color:unset}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div.selected[_ngcontent-%COMP%]{color:#fff;background-color:var(--primary-color)}.month-toggle[_ngcontent-%COMP%]{display:flex}.month-toggle[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:25px;min-width:25px;height:25px;min-height:25px;border-radius:50%}.month-toggle[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]:first-of-type{margin-top:3px;padding-right:2px}.month-toggle[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]:last-of-type{margin-top:3px;padding-left:2px}.month-toggle[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]:hover{background-color:#e7e7e7}.year-type[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:hover{cursor:default;background-color:transparent}.year-type[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:42px;height:42px;min-width:42px;min-height:42px;margin:0 6px;white-space:nowrap}"]})}return o})();const we=["tCalendarContainer"];function Ie(o,a){if(1&o&&(t.I0R(0,"h5",7),t.OEk(1),t.C$Y()),2&o){const e=t.GaO();t.m4B("font-size",e.valueFontSize),t.yG2(),t.oRS(" ",e.isDynamic?e.model[0].value:e.model," ")}}function ke(o,a){if(1&o&&(t.I0R(0,"p",8),t.OEk(1),t.C$Y()),2&o){const e=t.GaO();t.m4B("font-size",e.placeholderFontSize),t.yG2(),t.oRS(" ",e.placeholder," ")}}function Pe(o,a){if(1&o){const e=t.KQA();t.I0R(0,"em",9),t.qCj("click",function(i){t.usT(e);const r=t.GaO();return t.CGJ(r.clear(i))}),t.C$Y()}}function Ee(o,a){1&o&&t.wR5(0,"em",10)}function Ge(o,a){if(1&o){const e=t.KQA();t.I0R(0,"div",11,12)(2,"app-calendar",13),t.qCj("select",function(i){t.usT(e);const r=t.GaO();return t.CGJ(r.select(i))}),t.C$Y()()}if(2&o){const e=t.GaO();t.E7m("@fadeInOutSize",void 0),t.yG2(2),t.E7m("isRange",e.isRange)}}let N=(()=>{class o extends C.E{set tCalendarContainer(e){e&&this.setCalendarPosition(e.nativeElement)}constructor(e,n,i,r){super(),this.selfElement=e,this.renderer=n,this.$window=i,this.datePipe=r,this.isRange=!1,this.valueFontSize="",this.placeholder="YYYY/MM/DD",this.placeholderFontSize="",this.isError=!1,this.position="default",this.thisMonthLimit=!1,this.isDynamic=!1,this.selectDate=new t._w7,this.calendarShow=new t._w7,this.show=!1,this.format="yyyy/MM/dd"}ngOnInit(){this.$window.click$.pipe((0,b.a)(this.onDestroy$)).subscribe(e=>{this.selfElement.nativeElement.contains(e.target)||(this.show=!1)}),this.placeholder=this.isRange?"YYYY/MM/DD ~ YYYY/MM/DD":"YYYY/MM/DD"}showCalendar(){this.isDisabled||(this.show=!0,this.calendarShow.emit(this.show))}clear(e){e.stopPropagation(),this.notifyValueChange(this.isDynamic?[{value:"",memo:""}]:"")}select(e){this.show=!1;const n=this.isRange?this.datePipe.transform(e.start,this.format)+" ~ "+this.datePipe.transform(e.end,this.format):this.datePipe.transform(e,this.format);this.notifyValueChange(this.isDynamic?[{value:n,memo:""}]:n),this.selectDate.emit(n),this.calendarShow.emit(this.show)}setCalendarPosition(e){if(e)switch(this.renderer.setStyle(e,"top",-e.clientHeight/3+"px"),this.position){case"right":this.renderer.setStyle(e,"right",-e.clientWidth-10+"px"),this.renderer.setStyle(e,"left","unset");break;case"left":this.renderer.setStyle(e,"left",-e.clientWidth-10+"px"),this.renderer.setStyle(e,"right","unset")}}static#t=this.\u0275fac=function(n){return new(n||o)(t.GI1(t.GMv),t.GI1(t.q87),t.GI1(A.s),t.GI1(_.y))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-date-picker"]],viewQuery:function(n,i){if(1&n&&t.CC$(we,5),2&n){let r;t.wto(r=t.Gqi())&&(i.tCalendarContainer=r.first)}},inputs:{isRange:"isRange",valueFontSize:"valueFontSize",placeholder:"placeholder",placeholderFontSize:"placeholderFontSize",isError:"isError",position:"position",isDisabled:"isDisabled",thisMonthLimit:"thisMonthLimit",isDynamic:"isDynamic"},outputs:{selectDate:"selectDate",calendarShow:"calendarShow"},features:[t.M5G([(0,C.I)(o)]),t.eg9],decls:9,vars:10,consts:[[1,"position-relative","mb-1","w-100"],[1,"input","w-100","d-flex","align-items-center","justify-content-between",3,"click"],["class","has-value",3,"fontSize",4,"ngIf","ngIfElse"],["tPlaceholder",""],[1,"d-flex"],["class","cancel icon-cancel-thick"],["class","calendar-container position-absolute bg-gray-white",4,"ngIf"],[1,"has-value"],[1,"text-grey-iron","fs-xsm","mb-0"],[1,"cancel","icon-cancel-thick",3,"click"],[1,"icon-calendar","no-func"],[1,"calendar-container","position-absolute","bg-gray-white"],["tCalendarContainer",""],[3,"isRange","select"]],template:function(n,i){if(1&n&&(t.I0R(0,"div",0)(1,"div",1),t.qCj("click",function(){return i.showCalendar()}),t.yuY(2,Ie,2,3,"h5",2)(3,ke,2,3,"ng-template",null,3,t.gJz),t.I0R(5,"div",4),t.yuY(6,Pe,1,0,"em",5)(7,Ee,1,0),t.C$Y()(),t.yuY(8,Ge,3,2,"div",6),t.C$Y()),2&n){const r=t.Gew(4);t.yG2(),t.eAK("disabled",i.isDisabled)("error",i.isError)("focus",i.show),t.yG2(),t.E7m("ngIf",i.model)("ngIfElse",r),t.yG2(4),t.C0Y(6,i.model?6:7),t.yG2(2),t.E7m("ngIf",i.show)}},dependencies:[_.u_,ve],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}.input[_ngcontent-%COMP%]{cursor:pointer;width:140px;height:3rem;padding:.375rem .4rem .375rem .75rem;border:1px solid #a4a4a4;border-radius:var(--form-radius-m)}.input.disabled[_ngcontent-%COMP%]{cursor:auto;background-color:#f4f4f4}.input.disabled[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:#a4a4a4}.input.focus[_ngcontent-%COMP%]{border-width:2px;border-bottom-color:var(--primary-color)}.input.error[_ngcontent-%COMP%]{border:1px solid #ef6149}.input.error[_ngcontent-%COMP%]:hover{background-color:var(--warn-background-hover);border-width:1.5px}.input.error[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:#ef6149}.input[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:1.2rem;color:#2c2c2c;transition:.3s}.input[_ngcontent-%COMP%]   em.cancel[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-right:.15rem;width:17px;height:17px;font-size:.5rem;font-weight:700;color:#2c2c2c;border-radius:50%}.input[_ngcontent-%COMP%]   em.cancel[_ngcontent-%COMP%]:hover{font-size:.4rem;background-color:var(--primary-background-hover);color:#2c2c2c}.calendar-container[_ngcontent-%COMP%]{z-index:70;top:36px;left:0;padding:18px 24px;box-shadow:0 1px 6px #0003;background-color:#fff;border-radius:10px;box-sizing:content-box;transition:border .2s;border:1.5px solid transparent}.calendar-container[_ngcontent-%COMP%]:hover{border:1.5px solid var(--primary-color)}h5[_ngcontent-%COMP%]{font-size:16px;font-weight:400}h5[_ngcontent-%COMP%]{margin-bottom:0}"],data:{animation:[(0,O.qe)()]}})}return o})();function it(o,a){if("object"!=typeof o||"object"!=typeof a)return!1;const e=Object.keys(o),n=Object.keys(a);if(e.length!==n.length)return!1;for(let i of e)if("object"==typeof o[i]&&"object"==typeof a[i]){if(!it(o[i],a[i]))return!1}else if(o[i]!==a[i])return!1;return!0}const Te=["tOptions"];function De(o,a){if(1&o){const e=t.KQA();t.I0R(0,"div",13),t.qCj("click",function(i){const c=t.usT(e).$implicit,p=t.GaO(2);return t.CGJ(p.cancelSelect(c,i))}),t.OEk(1),t.I0R(2,"span",14),t.OEk(3,"\u79fb\u9664"),t.C$Y()()}if(2&o){const e=a.$implicit;t.yG2(),t.oRS(" ",e.name," ")}}function Fe(o,a){if(1&o&&(t.I0R(0,"div",11),t.yuY(1,De,4,1,"div",12),t.C$Y()),2&o){const e=t.GaO();t.yG2(),t.E7m("ngForOf",e.checkedOptions)}}function Re(o,a){if(1&o&&(t.I0R(0,"p",15),t.OEk(1),t.C$Y()),2&o){const e=t.GaO();t.yG2(),t.cNF(e.placeholder)}}function $e(o,a){if(1&o){const e=t.KQA();t.I0R(0,"em",16),t.qCj("click",function(i){t.usT(e);const r=t.GaO();return t.CGJ(r.cancelAll(i))}),t.C$Y()}}function Se(o,a){if(1&o){const e=t.KQA();t.I0R(0,"label",23)(1,"input",24),t.qCj("blur",function(i){t.usT(e);const r=t.GaO(2);return t.CGJ(r.filter(i))})("keyup",function(i){t.usT(e);const r=t.GaO(2);return t.CGJ(r.filter(i))}),t.C$Y()()}if(2&o){const e=t.GaO(2);t.yG2(),t.E7m("placeholder",e.filterPlaceholder)}}function Ye(o,a){1&o&&(t.I0R(0,"div",25)(1,"p",26),t.OEk(2),t.C$Y()()),2&o&&(t.yG2(2),t.cNF("\u6c92\u6709\u9078\u9805"))}function Ae(o,a){if(1&o&&(t.SAx(0),t.I0R(1,"label",27),t.wR5(2,"app-checkbox",28),t.C$Y(),t.k70()),2&o){const e=a.$implicit,n=a.index,i=t.GaO(2);t.yG2(),t.uQ9(" ",e.show?"d-flex":"d-none"," flex-row align-items-center pe-pointer"),t.E7m("for",i.id+n),t.yG2(),t.E7m("id",i.id+n)("name",i.id)("formControlName",n)("option",e)("checked",e.isSelect)}}function qe(o,a){if(1&o&&(t.I0R(0,"div",null,17),t.yuY(2,Se,2,1,"label",18),t.I0R(3,"div",19,20),t.yuY(5,Ye,3,1,"div",21)(6,Ae,3,9,"ng-container",22),t.C$Y()()),2&o){const e=t.GaO();t.uQ9("dropdown p-absolute overflow-hide w-100 bg-white ",null!=e.optionsInDropdown&&e.optionsInDropdown.length?"":"py-2",""),t.yG2(2),t.E7m("ngIf",!(null==e.optionsInDropdown||!e.optionsInDropdown.length)&&e.hasFilter),t.yG2(3),t.E7m("ngIf",!(null!=e.optionsInDropdown&&e.optionsInDropdown.length)),t.yG2(),t.E7m("ngForOf",e.optionsInDropdown)}}function Ne(o,a){if(1&o&&(t.I0R(0,"div",29),t.OEk(1),t.C$Y()),2&o){const e=t.GaO();t.yG2(),t.cNF(e.errorMessage)}}let V=(()=>{class o extends C.E{get f(){return this.form.controls}get size(){return l.ui}constructor(e,n,i,r){super(),this.selfElem=e,this.$window=n,this.fb=i,this.cdr=r,this.isDynamic=!1,this.id="",this.hasFilter=!1,this.isError=!1,this.disabled=!1,this.placeholder="\u53ef\u8907\u9078",this.filterPlaceholder="\u8acb\u8f38\u5165\u95dc\u9375\u5b57\u641c\u5c0b",this.select=new t._w7,this.form=this.fb.group({checks:new s.Sg([])}),this.showDropdown=!1,this.checkedOptions=null}ngOnInit(){this.$window.click$.pipe((0,b.a)(this.onDestroy$)).subscribe(e=>{this.selfElem.nativeElement.contains(e.target)||(this.showDropdown=!1)})}ngOnChanges({options:e}){if(!this.preOption||e&&it(e.currentValue,this.preOption)){const n=e.currentValue;this.preOption=n,this.checkedOptions&&this.reCreateForm(n),this.optionsInDropdown=n.map(i=>({...i,show:!0}))}}ngAfterViewInit(){this.options&&this.options?.length>0&&this.model&&this.model?.length>0&&this.init()}filter(e){(!(e instanceof KeyboardEvent)||"Enter"===e.code&&!e.isComposing)&&(this.optionsInDropdown=this.optionsInDropdown?.map(n=>(n.show=n.name.includes(e.target.value),n)))}cancelSelect(e,n){n&&(n.stopPropagation(),n.preventDefault());const i=this.optionsInDropdown.findIndex(r=>`${r.code}`==`${e.code}`);this.f.checks.controls[i].setValue(!1)}cancelAll(e){e.preventDefault(),this.f.checks.setValue(Array(this.f.checks.controls.length).fill(!1))}reCreateForm(e){this.form=this.fb.group({checks:new s.Sg([])}),this.optionsInDropdown?.forEach(n=>this.f.checks.push(new s.Ku(n.isSelect??null))),this.f.checks.valueChanges.subscribe(n=>{this.checkedOptions=this.getCheckedOptions(e,n),this.optionsInDropdown=this.optionsInDropdown?.map(r=>({...r,isSelect:this.checkedOptions?.some(c=>`${c.code}`==`${r.code}`)}));const i=this.isDynamic?this.checkedOptions?.map(r=>({value:r.code,memo:""})):this.getValueArray(this.checkedOptions);this.notifyValueChange(i),this.select.emit(i)})}onModelChanged({}){}getCheckedOptions(e,n){return n.map((r,c)=>("boolean"!=typeof r&&null!==r?r.value:r)&&e?{name:this.optionsInDropdown[c].name,code:this.optionsInDropdown[c].code}:null).filter(r=>!!r)}getValueArray(e){return e?e.map(n=>n.code):null}init(){this.checkedOptions=this.options.filter(e=>this.model?.some(n=>`${this.isDynamic?n.value:n}`==`${e.code}`)),this.model&&(this.optionsInDropdown=this.optionsInDropdown?.map(e=>({...e,isSelect:this.checkedOptions?.some(n=>`${n.code}`==`${e.code}`)})),this.reCreateForm(this.options)),this.cdr.detectChanges()}static#t=this.\u0275fac=function(n){return new(n||o)(t.GI1(t.GMv),t.GI1(A.s),t.GI1(s.im),t.GI1(t.kD9))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-multi-select"]],viewQuery:function(n,i){if(1&n&&t.CC$(Te,5),2&n){let r;t.wto(r=t.Gqi())&&(i.tOptions=r)}},inputs:{isDynamic:"isDynamic",id:"id",options:"options",hasFilter:"hasFilter",isError:"isError",errorMessage:"errorMessage",disabled:"disabled",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder"},outputs:{select:"select"},features:[t.M5G([(0,C.I)(o)]),t.eg9,t.SYr],decls:12,vars:16,consts:[[1,"multi-select","p-relative"],["type","checkbox",1,"d-none",3,"id","ngModel","disabled","ngModelChange"],["tInput",""],[1,"w-100","h-auto","input","d-flex","pe-pointer",3,"for"],["class","w-100 h-auto overflow-auto d-flex flex-wrap",4,"ngIf","ngIfElse"],["tPlaceholder",""],[1,"fas","fa-caret-down","p-absolute","text-grey-black"],["class","icon-cancel-thick p-absolute text-grey-black fs-xs",3,"click",4,"ngIf"],[3,"formGroup"],[3,"class",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"w-100","h-auto","overflow-auto","d-flex","flex-wrap"],["class","select-label p-relative d-flex align-items-end text-grey-black border-grey-iron w-fit ml-1 text-nowrap",3,"click",4,"ngFor","ngForOf"],[1,"select-label","p-relative","d-flex","align-items-end","text-grey-black","border-grey-iron","w-fit","ml-1","text-nowrap",3,"click"],[1,"p-absolute"],[1,"ml-3","text-grey-iron"],[1,"icon-cancel-thick","p-absolute","text-grey-black","fs-xs",3,"click"],["tOptions",""],["class","w-100 p-1",4,"ngIf"],["formArrayName","checks",1,"options","overflow-auto"],["tOptionContainer",""],["class","d-flex flex-row align-items-center py-2 pl-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"w-100","p-1"],["type","text",1,"input","w-100",3,"placeholder","blur","keyup"],[1,"d-flex","flex-row","align-items-center","py-2","pl-3"],[1,"text-grey-iron"],[3,"for"],[3,"id","name","formControlName","option","checked"],[1,"error-message"]],template:function(n,i){if(1&n&&(t.I0R(0,"div",0)(1,"input",1,2),t.iHE("ngModelChange",function(c){return t.kNx(i.showDropdown,c)||(i.showDropdown=c),c}),t.C$Y(),t.I0R(3,"label",3),t.yuY(4,Fe,2,1,"div",4)(5,Re,2,1,"ng-template",null,5,t.gJz),t.wR5(7,"em",6),t.yuY(8,$e,1,0,"em",7),t.C$Y(),t.I0R(9,"form",8),t.yuY(10,qe,7,6,"div",9),t.C$Y(),t.yuY(11,Ne,2,1,"div",10),t.C$Y()),2&n){const r=t.Gew(6);t.yG2(),t.E7m("id",i.id),t.OKB("ngModel",i.showDropdown),t.E7m("disabled",i.disabled),t.yG2(2),t.eAK("error",i.isError)("focus",i.showDropdown),t.E7m("for",i.id),t.yG2(),t.E7m("ngIf",!(null==i.checkedOptions||!i.checkedOptions.length))("ngIfElse",r),t.yG2(3),t.eAK("up",null==i.checkedOptions?null:i.checkedOptions.length),t.yG2(),t.E7m("ngIf",null==i.checkedOptions?null:i.checkedOptions.length),t.yG2(),t.E7m("formGroup",i.form),t.yG2(),t.E7m("ngIf",i.showDropdown),t.yG2(),t.E7m("ngIf",i.errorMessage&&i.isError)}},dependencies:[_.ay,_.u_,s.sz,s.SU,s.ue,s.u,s._G,s.uW,s.Wo,s.uE,q],styles:[".multi-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{box-sizing:border-box;padding:.1rem 1.9375rem .1rem .25rem;border:1px solid #a4a4a4;border-radius:var(--form-radius-m)}.multi-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]:first-of-type{top:50%;right:13px;font-size:1.2rem;transform:translateY(-50%) scaleX(.7)}.multi-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]:first-of-type.up{top:-1px;right:13px;transform:translate(0) scaleX(.7)}.multi-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]:nth-of-type(2){transform:scale(.7);top:17px;right:5px;width:26px;height:26px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:.2s}.multi-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]:nth-of-type(2):hover{transform:scale(.6);background-color:var(--primary-background-hover);color:#2c2c2c}.multi-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]{cursor:default;background-color:#f4f4f4}.multi-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:not(:disabled) + label[_ngcontent-%COMP%]:hover{border-bottom-width:2px}.multi-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:not(:disabled) + label.focus[_ngcontent-%COMP%]{border-bottom-width:2px!important;border-bottom-color:var(--primary-color)}.multi-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:not(:disabled) + label.error[_ngcontent-%COMP%]{border-color:var(--warn-color)}.multi-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:not(:disabled) + label.error[_ngcontent-%COMP%]:hover{background-color:var(--warn-background-hover);border-width:1.5px}.multi-select[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:first-of-type{min-height:44px}.multi-select[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:first-of-type   .select-label[_ngcontent-%COMP%]{padding:0 .3rem .15rem;height:2rem;min-width:2rem;margin:.1rem;border-radius:6px 0 6px 6px;background-color:#fff}.multi-select[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:first-of-type   .select-label[_ngcontent-%COMP%]:hover{border-color:var(--primary-color);background-color:var(--primary-background-hover);color:var(--primary-background-hover)}.multi-select[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:first-of-type   .select-label[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{display:flex}.multi-select[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:first-of-type   .select-label[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{top:7px;right:1.5px;font-size:10px;transform:scale(.5) translate(3px,-14px)}.multi-select[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:first-of-type   .select-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none;z-index:1;top:50%;left:50%;transform:translate(-50%,-50%);font-size:16px;color:#6d6d6d;background-color:var(--primary-background-hover)}.dropdown[_ngcontent-%COMP%]{z-index:2;top:calc(100% + .25rem);left:50%;transform:translate(-50%);border:1px solid #a4a4a4;border-radius:0 0 var(--form-radius-m) var(--form-radius-m);filter:drop-shadow(1px 2px 2px rgba(0,0,0,.2))}.dropdown[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{border-bottom:1px solid #e7e7e7}.dropdown[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:hover{border-bottom:1.5px solid var(--primary-color)}.dropdown[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .dropdown[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover, .dropdown[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none!important}.dropdown[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{max-height:15rem}.dropdown[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{padding-bottom:6px!important;padding-top:.5rem;padding-left:.3rem}.dropdown[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:last-of-type{border-radius:0 0 var(--form-radius-m) var(--form-radius-m)}.dropdown[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:hover{background:var(--primary-background-hover)}.dropdown[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.25rem}"]})}return o})();function Ve(o,a){if(1&o){const e=t.KQA();t.I0R(0,"input",10),t.iHE("ngModelChange",function(i){t.usT(e);const r=t.GaO(2);return t.kNx(r.memo,i)||(r.memo=i),t.CGJ(i)}),t.qCj("ngModelChange",function(i){t.usT(e);const r=t.GaO(2);return t.CGJ(r.onMemoChange(i))}),t.wVc(1,"translate"),t.C$Y()}if(2&o){t.GaO();const e=t.Gew(2),n=t.GaO();t.OKB("ngModel",n.memo),t.E7m("placeholder",t.kDX(1,4,n.option.memoPlaceholder?n.option.memoPlaceholder:"cab.comment-send-placeholder"))("disabled",n.disabled||!e.checked)("value",n.memo)}}function Be(o,a){if(1&o&&(t.I0R(0,"div",11),t.OEk(1),t.C$Y()),2&o){const e=t.GaO(2);t.yG2(),t.cNF(e.errorMessage)}}function Qe(o,a){if(1&o){const e=t.KQA();t.SAx(0),t.I0R(1,"input",2,3),t.qCj("click",function(i){t.usT(e);const r=t.GaO();return t.CGJ(r.check(i))}),t.C$Y(),t.I0R(3,"label",4),t.wR5(4,"span",5),t.I0R(5,"div",6)(6,"p",7),t.OEk(7),t.wVc(8,"translate"),t.C$Y(),t.yuY(9,Ve,2,6,"input",8),t.C$Y()(),t.yuY(10,Be,2,1,"div",9),t.k70()}if(2&o){const e=t.GaO();t.yG2(),t.eAK("error",e.isError),t.E7m("disabled",e.disabled)("name","radio-"+e.name)("id",e.id)("checked",void 0===e.checked?(null==e.model?null:e.model.value)===e.option.code:e.checked)("value",e.option.code),t.yG2(2),t.m4B("min-width",e.minWidth),t.E7m("for",e.id),t.yG2(3),t.eAK("hasMemo",e.option.hasMemo),t.yG2(),t.oRS(" ",t.kDX(8,15,e.option.name)," "),t.yG2(2),t.E7m("ngIf",e.option.hasMemo),t.yG2(),t.E7m("ngIf",e.errorMessage&&e.isError)}}function Le(o,a){1&o&&(t.I0R(0,"div",13)(1,"span",5),t.wR5(2,"em",14),t.C$Y(),t.I0R(3,"p",15),t.OEk(4),t.C$Y()()),2&o&&(t.yG2(4),t.cNF("\u7121\u8cc7\u6599"))}function je(o,a){if(1&o&&t.yuY(0,Le,5,1,"div",12),2&o){const e=t.GaO();t.E7m("ngIf",e.noData)}}let ze=(()=>{class o extends C.E{constructor(){super(),this.minWidth="",this.isError=!1,this.errorMessage="",this.disabled=!1,this.noData=!1,this.valueChange=new t._w7,this.memoChange=new t._w7}onMemoChange(e){this.disabled||(this.notifyValueChange({value:this.model.value,memo:this.memo??""}),this.memoChange.emit(this.memo))}check(e){if(this.disabled)e.preventDefault();else{const i={value:e.target.value,memo:this.memo??""};this.notifyValueChange(i),this.valueChange.emit(i)}}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-radio"]],inputs:{option:"option",minWidth:"minWidth",isError:"isError",errorMessage:"errorMessage",disabled:"disabled",name:"name",id:"id",checked:"checked",memo:"memo",noData:"noData"},outputs:{valueChange:"valueChange",memoChange:"memoChange"},features:[t.M5G([(0,C.I)(o)]),t.eg9],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["tNoData",""],["type","radio",1,"d-none",3,"disabled","name","id","checked","value","click"],["tRadio",""],[1,"d-flex","align-items-start","pe-pointer",3,"for"],[1,"click-area","border-grey-iron","p-relative"],[1,"d-flex","flex-wrap"],[1,"fs-md","text-wrap","text-grey-black","ml-2"],["type","text","class","input","id","otherInput",3,"ngModel","placeholder","disabled","value","ngModelChange",4,"ngIf"],["class","error-message",4,"ngIf"],["type","text","id","otherInput",1,"input",3,"ngModel","placeholder","disabled","value","ngModelChange"],[1,"error-message"],["class","d-flex align-items-start",4,"ngIf"],[1,"d-flex","align-items-start"],[1,"icon-minus"],[1,"fs-md","text-wrap","text-grey-iron","ml-2"]],template:function(n,i){if(1&n&&t.yuY(0,Qe,11,17,"ng-container",0)(1,je,1,1,"ng-template",null,1,t.gJz),2&n){const r=t.Gew(2);t.E7m("ngIf",i.option)("ngIfElse",r)}},dependencies:[_.u_,s.ot,s.ue,s._G,M.sD],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex}input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{margin:2px 6px 2px 1px;padding:2px 4px;border-radius:6px}input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:9rem;height:1.4rem;margin:2px 2px 2px 4px;border:none;border-bottom:1px solid #a4a4a4;border-radius:5px;transition:.1s ease}input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:disabled):hover{border:1.5px solid var(--primary-color)}input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .click-area[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:60%;width:60%;border-radius:50%;background-color:#44b787}input[type=radio][_ngcontent-%COMP%]:active + label[_ngcontent-%COMP%]   .click-area[_ngcontent-%COMP%]{opacity:.5}input[type=radio][_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]{cursor:auto}input[type=radio][_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]   .click-area[_ngcontent-%COMP%]{background-color:#f4f4f4}input[type=radio][_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a4a4a4}input[type=radio][_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]   p.hasMemo[_ngcontent-%COMP%]{word-break:keep-all}input[type=radio][_ngcontent-%COMP%]:not(:disabled) + label[_ngcontent-%COMP%]:hover{background-color:var(--primary-background-hover)}input[type=radio][_ngcontent-%COMP%]:not(:disabled) + label[_ngcontent-%COMP%]:hover   .click-area[_ngcontent-%COMP%]{border:1.5px solid var(--primary-color)}input[type=radio].error[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   .click-area[_ngcontent-%COMP%]{border:1px solid #ef6149!important}input[type=radio].error[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:hover{background-color:var(--warn-background-hover)}input[type=radio].error[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:hover   .click-area[_ngcontent-%COMP%]{border-width:1.5px!important}.click-area[_ngcontent-%COMP%]{top:2px;min-width:1.25rem;min-height:1.25rem;border-radius:50%;background-color:#fff}.click-area[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);color:#a4a4a4}p[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{word-break:break-all}']})}return o})();function Ke(o,a){if(1&o){const e=t.KQA();t.SAx(0),t.I0R(1,"app-radio",4),t.qCj("valueChange",function(i){t.usT(e);const r=t.GaO();return t.CGJ(r.change(i))})("memoChange",function(i){const c=t.usT(e).index,p=t.GaO();return t.CGJ(p.memoChange(i,c))}),t.C$Y(),t.k70()}if(2&o){const e=a.$implicit,n=a.index,i=t.GaO();t.yG2(),t.E7m("option",e)("name","radio-"+i.name)("id",i.name+"-"+n)("memo",e.memo)("disabled",i.disabled)("isError",i.isError)("checked",e.isSelect)}}function He(o,a){if(1&o&&(t.I0R(0,"div",5),t.OEk(1),t.C$Y()),2&o){const e=t.GaO();t.yG2(),t.cNF(e.errorMessage)}}function Ue(o,a){1&o&&(t.I0R(0,"div",6)(1,"span",7),t.wR5(2,"em",8),t.C$Y(),t.I0R(3,"p",9),t.OEk(4),t.C$Y()()),2&o&&(t.yG2(4),t.cNF("\u7121\u8cc7\u6599"))}let B=(()=>{class o extends C.E{constructor(e){super(),this.cdr=e,this.options=[],this.isColumn=!0,this.minWidth="",this.isError=!1,this.errorMessage="",this.disabled=!1,this.noData=!1}ngAfterViewInit(){this.options&&this.options?.length>0&&this.model&&this.model?.length>0&&(this.setChecks(),this.cdr.detectChanges())}change(e){this.notifyValueChange([e]),this.setChecks()}memoChange(e,n){this.options[n].memo=e;const i=this.model;i[n].memo=e,this.notifyValueChange(i)}setChecks(){this.options.forEach((e,n)=>{const i=this.model.some(r=>"number"==typeof r.value?+r.value==+e.code:`${r.value}`==`${e.code}`);this.options[n].isSelect=i})}static#t=this.\u0275fac=function(n){return new(n||o)(t.GI1(t.kD9))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-radio-set"]],inputs:{options:"options",isColumn:"isColumn",minWidth:"minWidth",isError:"isError",errorMessage:"errorMessage",disabled:"disabled",name:"name",groupMarginTop:"groupMarginTop",noData:"noData"},features:[t.M5G([(0,C.I)(o)]),t.eg9],decls:4,vars:5,consts:[[1,"host"],[4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],["class","d-flex align-items-start",4,"ngIf"],[3,"option","name","id","memo","disabled","isError","checked","valueChange","memoChange"],[1,"error-message"],[1,"d-flex","align-items-start"],[1,"click-area","border-grey-iron","p-relative"],[1,"icon-minus"],[1,"fs-md","text-wrap","text-grey-iron","ml-2"]],template:function(n,i){1&n&&(t.I0R(0,"div",0),t.yuY(1,Ke,2,7,"ng-container",1)(2,He,2,1,"div",2)(3,Ue,5,1,"div",3),t.C$Y()),2&n&&(t.m4B("margin-top",i.groupMarginTop),t.yG2(),t.E7m("ngForOf",i.options),t.yG2(),t.E7m("ngIf",i.errorMessage&&i.isError),t.yG2(),t.E7m("ngIf",i.noData))},dependencies:[_.ay,_.u_,ze],styles:["[_nghost-%COMP%]{width:100%;display:flex}.host[_ngcontent-%COMP%]{display:flex;height:100%;width:100%;flex-wrap:wrap;margin-left:-.38rem}.host[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-of-type:hover   em[_ngcontent-%COMP%]{opacity:1}"]})}return o})();function Xe(o,a){1&o&&(t.I0R(0,"span",16),t.OEk(1,"*"),t.C$Y())}function Je(o,a){1&o&&(t.I0R(0,"span",16),t.OEk(1,"*"),t.C$Y())}function We(o,a){if(1&o&&(t.I0R(0,"p",30),t.OEk(1),t.yuY(2,Je,2,0,"span",10),t.C$Y()),2&o){const e=t.GaO(2).$implicit;t.yG2(),t.oRS(" ",e.title,""),t.yG2(),t.E7m("ngIf",e.required)}}function Ze(o,a){if(1&o&&t.wR5(0,"app-radio-set",31),2&o){const e=t.GaO(2),n=e.$implicit,i=e.index,r=t.GaO(3).$implicit,c=t.GaO(3);let p;t.E7m("formControl",n.form)("options",n.optionsForNormal)("isError",n.form.invalid&&c.form.touched&&c.isCompleteClicked)("name",(null!==(p=null==r?null:r.questionId)&&void 0!==p?p:"")+"-"+i)}}function tn(o,a){if(1&o&&t.wR5(0,"app-select",32),2&o){const e=t.GaO(2).$implicit,n=t.GaO(6);let i;t.E7m("formControl",e.form)("options",e.optionsForNormal)("placeholder",null!==(i=e.placeholder)&&void 0!==i?i:"\u8acb\u9078\u64c7")("isDynamic",!0)("isError",e.form.invalid&&n.form.touched&&n.isCompleteClicked)}}function en(o,a){if(1&o&&t.wR5(0,"app-checkbox-set",33),2&o){const e=t.GaO(2).$implicit,n=t.GaO(6);t.E7m("formControl",e.form)("options",e.optionsForNormal)("isError",e.form.invalid&&n.form.touched&&n.isCompleteClicked)}}function nn(o,a){if(1&o&&t.wR5(0,"app-multi-select",34),2&o){const e=t.GaO(2).$implicit,n=t.GaO(3).$implicit,i=t.GaO(3);let r,c;t.E7m("formControl",e.form)("id",null!==(r=n.title)&&void 0!==r?r:"")("options",e.optionsForNormal)("isDynamic",!0)("isError",e.form.invalid&&i.form.touched&&i.isCompleteClicked)("placeholder",null!==(c=e.placeholder)&&void 0!==c?c:"\u53ef\u591a\u9078")("hasFilter",!0)}}function on(o,a){if(1&o&&t.wR5(0,"app-date-picker",35),2&o){const e=t.GaO(2).$implicit,n=t.GaO(6);t.E7m("formControl",e.form)("isDynamic",!0)("isError",e.form.invalid&&n.form.touched&&n.isCompleteClicked)("isDisabled",e.form.disabled)}}function rn(o,a){if(1&o&&t.wR5(0,"app-date-picker",36),2&o){const e=t.GaO(2).$implicit,n=t.GaO(6);t.E7m("formControl",e.form)("isRange",!0)("isDynamic",!0)("isError",e.form.invalid&&n.form.touched&&n.isCompleteClicked)("isDisabled",e.form.disabled)}}function an(o,a){if(1&o&&t.wR5(0,"app-input",37),2&o){const e=t.GaO(2).$implicit,n=t.GaO(6);t.E7m("formControl",e.form)("isDynamic",!0)("isError",e.form.invalid&&n.form.touched&&n.isCompleteClicked)}}function sn(o,a){if(1&o&&t.wR5(0,"app-fit-content-textarea",38),2&o){const e=t.GaO(2).$implicit,n=t.GaO(6);t.E7m("formControl",e.form)("isDynamic",!0)("maxHeight","4rem")("isError",e.form.invalid&&n.form.touched&&n.isCompleteClicked)}}function cn(o,a){if(1&o&&(t.I0R(0,"li",41)(1,"span"),t.OEk(2),t.C$Y()()),2&o){const e=t.GaO().$implicit,n=t.GaO(3).$implicit;t.E7m("@downInCompressOut",void 0),t.yG2(2),t.oRS(" ",n.form.errors?n.form.errors[e.type]:""," ")}}function ln(o,a){if(1&o&&(t.SAx(0),t.yuY(1,cn,3,2,"li",40),t.k70()),2&o){const e=a.$implicit,n=t.GaO(3).$implicit;t.yG2(),t.E7m("ngIf",!!n.form.errors&&n.form.errors[e.type])}}function pn(o,a){if(1&o&&(t.I0R(0,"ul",39),t.yuY(1,ln,2,1,"ng-container",0),t.C$Y()),2&o){const e=t.GaO(2).$implicit;t.yG2(),t.E7m("ngForOf",e.validationView)}}function mn(o,a){if(1&o&&(t.I0R(0,"li",18),t.yuY(1,We,3,2,"p",19),t.SAx(2,20),t.yuY(3,Ze,1,4,"app-radio-set",21)(4,tn,1,5,"app-select",22)(5,en,1,3,"app-checkbox-set",23)(6,nn,1,7,"app-multi-select",24)(7,on,1,4,"app-date-picker",25)(8,rn,1,5,"app-date-picker",26)(9,an,1,3,"app-input",27)(10,sn,1,4,"app-fit-content-textarea",28),t.k70(),t.yuY(11,pn,2,1,"ul",29),t.C$Y()),2&o){const e=t.GaO().$implicit,n=t.GaO(6);t.yG2(),t.E7m("ngIf",e.title),t.yG2(),t.E7m("ngSwitch",e.type),t.yG2(),t.E7m("ngSwitchCase",n.fieldType.Radio),t.yG2(),t.E7m("ngSwitchCase",n.fieldType.Select),t.yG2(),t.E7m("ngSwitchCase",n.fieldType.Checkbox),t.yG2(),t.E7m("ngSwitchCase",n.fieldType.MultiSelect),t.yG2(),t.E7m("ngSwitchCase",n.fieldType.DatePicker),t.yG2(),t.E7m("ngSwitchCase",n.fieldType.DatePickerRange),t.yG2(),t.E7m("ngSwitchCase",n.fieldType.Input),t.yG2(),t.E7m("ngSwitchCase",n.fieldType.TextArea),t.yG2(),t.E7m("ngIf",e.form.invalid&&n.form.touched&&n.isCompleteClicked)}}function dn(o,a){if(1&o&&(t.SAx(0),t.yuY(1,mn,12,11,"li",17),t.k70()),2&o){const e=a.$implicit;t.yG2(),t.E7m("ngIf",e.show)}}function un(o,a){if(1&o){const e=t.KQA();t.I0R(0,"li",6)(1,"div",7)(2,"div",8)(3,"p",9),t.OEk(4),t.yuY(5,Xe,2,0,"span",10),t.C$Y(),t.I0R(6,"p",11),t.OEk(7),t.C$Y()(),t.I0R(8,"ul",12),t.yuY(9,dn,2,1,"ng-container",0),t.C$Y()(),t.I0R(10,"div",13)(11,"app-borderless-button",14),t.qCj("click",function(){t.usT(e);const i=t.GaO(2),r=i.$implicit,c=i.index,p=t.GaO(2).index,u=t.GaO();return t.CGJ(u.editSubQuestion(r,p,c))}),t.OEk(12,"\u7de8\u8f2f"),t.C$Y(),t.I0R(13,"app-borderless-button",15),t.qCj("click",function(){t.usT(e);const i=t.GaO(2).index,r=t.GaO(2).index,c=t.GaO();return t.CGJ(c.deleteSubQuestion(r,i))}),t.OEk(14,"\u522a\u9664"),t.C$Y()()()}if(2&o){const e=t.GaO(2).$implicit,n=t.GaO(3);t.eAK("error",e.form.invalid&&(null==n.form?null:n.form.touched)),t.E7m("@verticalShortenOut",void 0)("formGroup",e.form),t.yG2(4),t.oRS(" ",e.title,""),t.yG2(),t.E7m("ngIf",n.isRequired(e)),t.yG2(2),t.cNF(e.description),t.yG2(2),t.E7m("ngForOf",e.SubQuestionGroup),t.yG2(2),t.E7m("type",n.colorType.Primary)("size",n.sizeType.S),t.yG2(2),t.E7m("type",n.colorType.Warn)("size",n.sizeType.S)}}function _n(o,a){if(1&o&&(t.SAx(0),t.yuY(1,un,15,12,"li",5),t.k70()),2&o){const e=t.GaO().$implicit;t.yG2(),t.E7m("ngIf",e)}}function gn(o,a){if(1&o&&(t.SAx(0),t.yuY(1,_n,2,1,"ng-container",4),t.k70()),2&o){const e=a.$implicit;t.yG2(),t.E7m("ngIf",e.show)}}function hn(o,a){if(1&o&&(t.I0R(0,"section",2)(1,"ul",3),t.yuY(2,gn,2,1,"ng-container",0),t.C$Y()()),2&o){const e=t.GaO().$implicit;t.E7m("formGroup",e.form),t.yG2(2),t.E7m("ngForOf",e.questions)}}function fn(o,a){if(1&o&&(t.SAx(0),t.yuY(1,hn,3,2,"section",1),t.k70()),2&o){const e=a.$implicit;t.yG2(),t.E7m("ngIf",0!==e.questions.length)}}let Cn=(()=>{class o extends W.Q{constructor(e){super(),this.$overlay=e,this.isCompleteClicked=!1,this.valueChange=new t._w7}get fieldType(){return g}onInitBase(){console.log("aa--onInit",this.page,this.form)}isRequired(e){return e.SubQuestionGroup.some(n=>n.required)}hasMemo(e){return e.options.some(n=>n.some(i=>i.hasMemo))}editSubQuestion(e,n,i){this.$overlay.addDialog(ae,e,{callback:{confirm:r=>{this.page.groups[n].questions[i].show=!1;const c=(this.form?.controls.answers).controls[0],p=c.controls[e.questionId].controls.answers.controls.A;console.log("aa-question-1",e.questionId,p),p.setValidators(this.model?this.model.getValidations(r.validation??[],r.fieldType===g.MultiSelect||r.fieldType===g.Checkbox,!!r.required):null),p.value.length||p.setValue([{value:"",memo:""}]),this.page.groups[n].questions[i]={...e,SubQuestionGroup:[{...e.SubQuestionGroup[0],required:!!r.required,placeholder:r.placeholder??null,type:r.fieldType,validation:r.validation,options:r.options?.map((h,y)=>({label:h.name,hasMemo:h.hasMemo,value:`${y+1}`,code:`${y+1}`,name:h.name}))??null,optionsForNormal:r.options?.map((h,y)=>({code:`${y+1}`,name:h.name,hasMemo:h.hasMemo}))}],description:r.des??null,form:c.controls[e.questionId],title:r.title},(0,et.k)(700).pipe((0,nt.U)(1)).subscribe(()=>this.page.groups[n].questions[i].show=!0)}}})}deleteSubQuestion(e,n){const i=this.page?.groups[e].questions.filter((r,c)=>c!==n);this.page.groups[e].questions=i??[]}trim(e){const n=e.target;n.value=n.value.trim()}static#t=this.\u0275fac=function(n){return new(n||o)(t.GI1(U.Y))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-dynamic-form-basic-type"]],inputs:{model:"model",pageIndex:"pageIndex",page:"page",form:"form",isCompleteClicked:"isCompleteClicked"},outputs:{valueChange:"valueChange"},features:[t.eg9],decls:2,vars:2,consts:[[4,"ngFor","ngForOf"],["class","question-card mt-6 bg-white",3,"formGroup",4,"ngIf"],[1,"question-card","mt-6","bg-white",3,"formGroup"],[1,"question-card__question","pt-6","pb-4"],[4,"ngIf"],["class","p-relative d-flex justify-content-between align-items-start px-8 pt-3 pb-5",3,"error","formGroup",4,"ngIf"],[1,"p-relative","d-flex","justify-content-between","align-items-start","px-8","pt-3","pb-5",3,"formGroup"],[1,"w-100","d-flex","flex-column"],[1,"d-flex","mb-2"],[1,"text-grey-black","fs-lg","pr-2"],["class","text-red-middle align-top ml-1",4,"ngIf"],[1,"text-grey-dark","fs-xsm","ml-2"],[1,"question-card__option-group"],[1,"d-flex","align-items-end","pt-3"],[1,"mr-2","h-8",3,"type","size","click"],[1,"h-8",3,"type","size","click"],[1,"text-red-middle","align-top","ml-1"],["class","w-100 d-flex flex-column align-items-start",4,"ngIf"],[1,"w-100","d-flex","flex-column","align-items-start"],["class","fs-md text-grey-dark mt-3 mb-2",4,"ngIf"],[3,"ngSwitch"],["class","w-100",3,"formControl","options","isError","name",4,"ngSwitchCase"],["class","w-40p",3,"formControl","options","placeholder","isDynamic","isError",4,"ngSwitchCase"],["class","w-80p",3,"formControl","options","isError",4,"ngSwitchCase"],["class","w-40p",3,"formControl","id","options","isDynamic","isError","placeholder","hasFilter",4,"ngSwitchCase"],["class","h-11 w-40p","position","right","valeFontSize","1rem",3,"formControl","isDynamic","isError","isDisabled",4,"ngSwitchCase"],["class","h-11 w-40p","position","right","valeFontSize","1rem",3,"formControl","isRange","isDynamic","isError","isDisabled",4,"ngSwitchCase"],["class","w-80p",3,"formControl","isDynamic","isError",4,"ngSwitchCase"],["class","w-80p",3,"formControl","isDynamic","maxHeight","isError",4,"ngSwitchCase"],["class","d-flex mt-1",4,"ngIf"],[1,"fs-md","text-grey-dark","mt-3","mb-2"],[1,"w-100",3,"formControl","options","isError","name"],[1,"w-40p",3,"formControl","options","placeholder","isDynamic","isError"],[1,"w-80p",3,"formControl","options","isError"],[1,"w-40p",3,"formControl","id","options","isDynamic","isError","placeholder","hasFilter"],["position","right","valeFontSize","1rem",1,"h-11","w-40p",3,"formControl","isDynamic","isError","isDisabled"],["position","right","valeFontSize","1rem",1,"h-11","w-40p",3,"formControl","isRange","isDynamic","isError","isDisabled"],[1,"w-80p",3,"formControl","isDynamic","isError"],[1,"w-80p",3,"formControl","isDynamic","maxHeight","isError"],[1,"d-flex","mt-1"],["class","error-message mr-3",4,"ngIf"],[1,"error-message","mr-3"]],template:function(n,i){1&n&&(t.I0R(0,"div"),t.yuY(1,fn,2,1,"ng-container",0),t.C$Y()),2&n&&(t.E7m("@fadeInOut",void 0),t.yG2(),t.E7m("ngForOf",null==i.page?null:i.page.groups))},dependencies:[_.ay,_.u_,_.Ko,_.Wm,tt,T.Y,ot,N,V,D,s.ue,s.u,s.ug,s.uW,F,B],styles:['.question-card[_ngcontent-%COMP%]{border-radius:10px;box-shadow:0 0 12px #0000000a}.question-card__question[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{min-height:96px}.question-card__question[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{position:fixed;top:50%;left:1rem;transform:translateY(-50%);content:"";position:absolute;width:0;height:85%;border-left:5px solid var(--primary-background-hover);border-top:4px solid transparent;border-bottom:4px solid transparent}.question-card__question[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   div[_ngcontent-%COMP%]:last-of-type{transition:.2s;opacity:1!important;margin-left:0;color:green}.question-card__question[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   div[_ngcontent-%COMP%]:last-of-type > p[_ngcontent-%COMP%]{opacity:1!important}.question-card__question[_ngcontent-%COMP%] > li.error[_ngcontent-%COMP%]:before{border-left:4px solid var(--warn-color)}.question-card__question[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-of-type{min-width:150px;margin-left:1rem}.question-card__question[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-of-type > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{transition:.2s;letter-spacing:1px}.question-card__question[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-of-type{opacity:.2}.question-card__option-group[_ngcontent-%COMP%]{width:calc(100% - 1.6rem)}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{margin-bottom:0}app-select[_ngcontent-%COMP%], app-multi-select[_ngcontent-%COMP%], app-date-picker[_ngcontent-%COMP%]{max-width:400px;min-width:260px}app-radio[_ngcontent-%COMP%], app-checkbox-set[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{max-width:854px;min-width:260px}'],data:{animation:[(0,O.s7)(),(0,O.aS)(),(0,O.Ke)(),(0,O.co)()]}})}return o})();function yn(o,a){1&o&&t.wR5(0,"em",9)}function bn(o,a){if(1&o&&(t.I0R(0,"em",10),t.OEk(1),t.C$Y()),2&o){const e=t.GaO(2).$implicit;t.yG2(),t.cNF(e.order)}}function Mn(o,a){1&o&&(t.I0R(0,"span",23),t.OEk(1,"*"),t.C$Y())}function On(o,a){if(1&o&&(t.I0R(0,"p",24),t.OEk(1),t.C$Y()),2&o){const e=t.GaO(3).$implicit;t.yG2(),t.oRS(" ",e.description," ")}}function xn(o,a){if(1&o&&t.wR5(0,"app-radio-set",37),2&o){const e=t.GaO(2),n=e.$implicit,i=e.index,r=t.GaO(3).$implicit,c=t.GaO(3);let p;t.E7m("formControl",n.form)("options",n.optionsForNormal)("isError",n.form.invalid&&c.form.touched&&c.isCompleteClicked)("name",(null!==(p=null==r?null:r.questionId)&&void 0!==p?p:"")+"-"+i)}}function vn(o,a){if(1&o&&t.wR5(0,"app-select",38),2&o){const e=t.GaO(2).$implicit;let n;t.E7m("formControl",e.form)("isDynamic",!0)("options",e.optionsForNormal)("placeholder",null!==(n=e.placeholder)&&void 0!==n?n:"\u8acb\u9078\u64c7")}}function wn(o,a){if(1&o&&t.wR5(0,"app-checkbox-set",39),2&o){const e=t.GaO(2).$implicit,n=t.GaO(3).$implicit,i=t.GaO(3);t.E7m("formControl",e.form)("options",e.optionsForNormal)("hasOtherInput",i.hasMemo(e))("name",n.questionId+e.answerId)("isError",e.form.invalid&&i.form.touched&&i.isCompleteClicked)}}function In(o,a){if(1&o&&t.wR5(0,"app-multi-select",40),2&o){const e=t.GaO(2).$implicit,n=t.GaO(3).$implicit;let i,r;t.E7m("formControl",e.form)("isDynamic",!0)("id",null!==(i=n.title)&&void 0!==i?i:"")("options",e.optionsForNormal)("placeholder",null!==(r=e.placeholder)&&void 0!==r?r:"\u53ef\u591a\u9078")("hasFilter",!0)}}function kn(o,a){if(1&o&&t.wR5(0,"app-date-picker",41),2&o){const e=t.GaO(2).$implicit,n=t.GaO(6);t.E7m("formControl",e.form)("isDynamic",!0)("isError",e.form.invalid&&n.form.touched&&n.isCompleteClicked)("isDisabled",e.form.disabled)}}function Pn(o,a){if(1&o&&t.wR5(0,"app-date-picker",42),2&o){const e=t.GaO(2).$implicit,n=t.GaO(6);t.E7m("formControl",e.form)("isDynamic",!0)("isRange",!0)("isError",e.form.invalid&&n.form.touched&&n.isCompleteClicked)("isDisabled",e.form.disabled)}}function En(o,a){if(1&o&&t.wR5(0,"app-input",43),2&o){const e=t.GaO(2).$implicit,n=t.GaO(6);let i;t.E7m("formControl",e.form)("isDynamic",!0)("placeholder",null!==(i=e.placeholder)&&void 0!==i?i:"\u8acb\u8f38\u5165\u5167\u5bb9\u6587\u5b57")("isError",e.form.invalid&&n.form.touched&&n.isCompleteClicked)}}function Gn(o,a){if(1&o&&t.wR5(0,"app-fit-content-textarea",44),2&o){const e=t.GaO(2).$implicit,n=t.GaO(6);t.E7m("formControl",e.form)("isDynamic",!0)("isError",e.form.invalid&&n.form.touched&&n.isCompleteClicked)}}function Tn(o,a){if(1&o&&(t.I0R(0,"li",47)(1,"span"),t.OEk(2),t.C$Y()()),2&o){const e=t.GaO().$implicit,n=t.GaO(3).$implicit;t.E7m("@downInCompressOut",void 0),t.yG2(2),t.oRS(" ",n.form.errors?n.form.errors[e.type]:""," ")}}function Dn(o,a){if(1&o&&(t.SAx(0),t.yuY(1,Tn,3,2,"li",46),t.k70()),2&o){const e=a.$implicit,n=t.GaO(3).$implicit;t.yG2(),t.E7m("ngIf",!!n.form.errors&&n.form.errors[e.type])}}function Fn(o,a){if(1&o&&(t.I0R(0,"ul",45),t.yuY(1,Dn,2,1,"ng-container",0),t.C$Y()),2&o){const e=t.GaO(2).$implicit;t.yG2(),t.E7m("ngForOf",e.validationView)}}function Rn(o,a){if(1&o&&(t.I0R(0,"li",26),t.SAx(1,27),t.yuY(2,xn,1,4,"app-radio-set",28)(3,vn,1,4,"app-select",29)(4,wn,1,5,"app-checkbox-set",30)(5,In,1,6,"app-multi-select",31)(6,kn,1,4,"app-date-picker",32)(7,Pn,1,5,"app-date-picker",33)(8,En,1,4,"app-input",34)(9,Gn,1,3,"app-fit-content-textarea",35),t.k70(),t.yuY(10,Fn,2,1,"ul",36),t.C$Y()),2&o){const e=t.GaO().$implicit,n=t.GaO(6);t.E7m("@downInCompressOut",void 0),t.yG2(),t.E7m("ngSwitch",e.type),t.yG2(),t.E7m("ngSwitchCase",n.fieldType.Radio),t.yG2(),t.E7m("ngSwitchCase",n.fieldType.Select),t.yG2(),t.E7m("ngSwitchCase",n.fieldType.Checkbox),t.yG2(),t.E7m("ngSwitchCase",n.fieldType.MultiSelect),t.yG2(),t.E7m("ngSwitchCase",n.fieldType.DatePicker),t.yG2(),t.E7m("ngSwitchCase",n.fieldType.DatePickerRange),t.yG2(),t.E7m("ngSwitchCase",n.fieldType.Input),t.yG2(),t.E7m("ngSwitchCase",n.fieldType.TextArea),t.yG2(),t.E7m("ngIf",e.form.invalid&&n.form.touched&&n.isCompleteClicked)}}function $n(o,a){if(1&o&&(t.SAx(0),t.yuY(1,Rn,11,11,"li",25),t.k70()),2&o){const e=a.$implicit;t.yG2(),t.E7m("ngIf",e.show)}}function Sn(o,a){if(1&o&&(t.I0R(0,"li",13)(1,"div",14)(2,"div",15)(3,"p",16),t.OEk(4),t.I0R(5,"span",17),t.OEk(6,"-"),t.C$Y(),t.OEk(7),t.C$Y(),t.I0R(8,"div",18)(9,"span",19),t.OEk(10),t.yuY(11,Mn,2,0,"span",20),t.C$Y(),t.yuY(12,On,2,1,"p",21),t.C$Y()()(),t.I0R(13,"ul",22),t.yuY(14,$n,2,1,"ng-container",0),t.C$Y()()),2&o){const e=t.GaO(2).$implicit,n=t.GaO(2).$implicit,i=t.GaO();t.eAK("error",e.form.invalid&&(null==i.form?null:i.form.touched)&&i.isCompleteClicked),t.E7m("formGroup",e.form),t.yG2(4),t.cNF(null==n?null:n.order),t.yG2(3),t.cNF(e.order+1),t.yG2(3),t.oRS("",e.title," "),t.yG2(),t.E7m("ngIf",i.isQuestionRequired(e)),t.yG2(),t.E7m("ngIf",e.description),t.yG2(2),t.E7m("ngForOf",e.SubQuestionGroup)}}function Yn(o,a){if(1&o&&(t.SAx(0),t.yuY(1,Sn,15,9,"li",12),t.k70()),2&o){const e=t.GaO().$implicit;t.yG2(),t.E7m("ngIf",e)}}function An(o,a){if(1&o&&(t.SAx(0),t.yuY(1,Yn,2,1,"ng-container",11),t.k70()),2&o){const e=a.$implicit;t.yG2(),t.E7m("ngIf",e.show)}}function qn(o,a){if(1&o&&(t.I0R(0,"section",2)(1,"div",3)(2,"div",4),t.yuY(3,yn,1,0,"em",5)(4,bn,2,1,"em",6),t.I0R(5,"h4",7),t.OEk(6),t.C$Y()()(),t.I0R(7,"ul",8),t.yuY(8,An,2,1,"ng-container",0),t.C$Y()()),2&o){const e=t.GaO().$implicit;t.E7m("formGroup",e.form),t.yG2(3),t.E7m("ngIf",e.form.valid),t.yG2(),t.E7m("ngIf",!e.form.valid),t.yG2(2),t.cNF(e.name),t.yG2(2),t.E7m("ngForOf",e.questions)}}function Nn(o,a){if(1&o&&(t.SAx(0),t.yuY(1,qn,9,5,"section",1),t.k70()),2&o){const e=a.$implicit;t.yG2(),t.E7m("ngIf",0!==e.questions.length)}}let Vn=(()=>{class o{constructor(){this.valueChange=new t._w7,this.remarkValueChange=new t._w7,this.isCompleteClicked=!1}get fieldStatusType(){return l.Mp}get fieldType(){return g}get progress(){return l.Mv}ngOnInit(){}isRequired(e){return e.SubQuestionGroup.some(n=>n.required)}onRemarkValueChange(e,n){const i=e.find(r=>+r.type===this.answerStatus);i&&this.remarkValueChange.emit({remark:i,questionId:n})}hasMemo(e){return e.options.some(n=>n.some(i=>i.hasMemo))}trim(e){const n=e.target;n.value=n.value.trim()}isQuestionRequired(e){return Object.values(e.SubQuestionGroup).some(n=>n.required)}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-dynamic-form-group-type"]],inputs:{progressStatus:"progressStatus",answerStatus:"answerStatus",pageIndex:"pageIndex",page:"page",form:"form",submitBody:"submitBody",isCompleteClicked:"isCompleteClicked"},outputs:{valueChange:"valueChange",remarkValueChange:"remarkValueChange"},decls:2,vars:2,consts:[[4,"ngFor","ngForOf"],["class","question-card mt-6 pt-3 bg-white",3,"formGroup",4,"ngIf"],[1,"question-card","mt-6","pt-3","bg-white",3,"formGroup"],[1,"question-card__header"],[1,"d-flex","align-items-center","px-8","pb-3","p-relative"],["class","complete icon-circle fw-7 h-8 w-8 bg-green-light text-center",4,"ngIf"],["class","d-flex align-items-center justify-content-center mr-2_5 fs-lgx fw-4",4,"ngIf"],[1,"fs-lg","fw-4","text-grey-iron"],[1,"question-card__question","d-flex","flex-wrap","mb-3"],[1,"complete","icon-circle","fw-7","h-8","w-8","bg-green-light","text-center"],[1,"d-flex","align-items-center","justify-content-center","mr-2_5","fs-lgx","fw-4"],[4,"ngIf"],["class","p-3 ml-3 w-50p",3,"error","formGroup",4,"ngIf"],[1,"p-3","ml-3","w-50p",3,"formGroup"],[1,"d-flex","flex-column"],[1,"d-flex","text-grey-black"],[1,"text-grey-dark","text-nowrap","fw-7"],[1,"mx-0_5"],[1,"d-flex","flex-column","ml-3"],[1,"fs-lg","text-grey-black"],["class","text-red-middle",4,"ngIf"],["class","fs-xsm text-grey-dark mt-1",4,"ngIf"],[1,"question-card__option-group","mt-1","mb-3"],[1,"text-red-middle"],[1,"fs-xsm","text-grey-dark","mt-1"],["class","d-flex flex-column align-items-start p-3",4,"ngIf"],[1,"d-flex","flex-column","align-items-start","p-3"],[3,"ngSwitch"],["class","w-100",3,"formControl","options","isError","name",4,"ngSwitchCase"],["class","w-100 mt-2",3,"formControl","isDynamic","options","placeholder",4,"ngSwitchCase"],["class","w-100",3,"formControl","options","hasOtherInput","name","isError",4,"ngSwitchCase"],["class","w-100 mt-2",3,"formControl","isDynamic","id","options","placeholder","hasFilter",4,"ngSwitchCase"],["class","h-11 w-100","position","right","valeFontSize","1rem",3,"formControl","isDynamic","isError","isDisabled",4,"ngSwitchCase"],["class","h-11 w-100","position","right","valeFontSize","1rem",3,"formControl","isDynamic","isRange","isError","isDisabled",4,"ngSwitchCase"],["class","w-100",3,"formControl","isDynamic","placeholder","isError",4,"ngSwitchCase"],["class","w-80p",3,"formControl","isDynamic","isError",4,"ngSwitchCase"],["class","d-flex mt-1",4,"ngIf"],[1,"w-100",3,"formControl","options","isError","name"],[1,"w-100","mt-2",3,"formControl","isDynamic","options","placeholder"],[1,"w-100",3,"formControl","options","hasOtherInput","name","isError"],[1,"w-100","mt-2",3,"formControl","isDynamic","id","options","placeholder","hasFilter"],["position","right","valeFontSize","1rem",1,"h-11","w-100",3,"formControl","isDynamic","isError","isDisabled"],["position","right","valeFontSize","1rem",1,"h-11","w-100",3,"formControl","isDynamic","isRange","isError","isDisabled"],[1,"w-100",3,"formControl","isDynamic","placeholder","isError"],[1,"w-80p",3,"formControl","isDynamic","isError"],[1,"d-flex","mt-1"],["class","error-message mr-3",4,"ngIf"],[1,"error-message","mr-3"]],template:function(n,i){1&n&&(t.I0R(0,"div"),t.yuY(1,Nn,2,1,"ng-container",0),t.C$Y()),2&n&&(t.E7m("@fadeInOut",void 0),t.yG2(),t.E7m("ngForOf",null==i.page?null:i.page.groups))},dependencies:[_.ay,_.u_,_.Ko,_.Wm,T.Y,ot,N,V,D,s.ue,s.u,s.ug,s.uW,F,B],styles:[".question-card[_ngcontent-%COMP%]{border-radius:10px;box-shadow:1px 2px 2px #0000001a;border:1px solid var(--grey-background-hover);transition:.2s}.question-card__header[_ngcontent-%COMP%]{border-bottom:1px solid #f4f4f4}.question-card__header[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{position:absolute;left:-4px;top:-4px;height:2rem;width:2rem;min-height:2rem;min-width:2rem;border-radius:0 4px 4px 0;border:1px solid #e7e7e7;background-color:#fff;box-shadow:1px 1px 1px #0000001a}.question-card__header[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]:hover{opacity:1}.question-card__header[_ngcontent-%COMP%]   em.complete[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#44b787;border:1px solid #d0ede1;font-size:20px;border:1px solid var(--primary-fluorescent)}.question-card__header[_ngcontent-%COMP%]   em.complete[_ngcontent-%COMP%]:before{transform:scale(.8)}.question-card__header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-left:.625rem;margin-top:1px;letter-spacing:.5px}.question-card__question[_ngcontent-%COMP%]{padding-top:.5rem}.question-card__question[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{min-width:350px;width:95%;max-width:700px;transition:.2s;border-radius:10px;box-sizing:border-box}.question-card__question[_ngcontent-%COMP%] > li.error[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border-left-color:var(--warn-color)}.question-card__question[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-left:.5rem;border-left:6px solid var(--primary-background-hover)}.question-card__option-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type{border-bottom:none}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{margin-bottom:0}p[_ngcontent-%COMP%]{letter-spacing:.5px}app-multi-select[_ngcontent-%COMP%], app-date-picker[_ngcontent-%COMP%], app-input[_ngcontent-%COMP%], app-fit-content-textarea[_ngcontent-%COMP%]{width:calc(100% - 3rem)}"],data:{animation:[(0,O.s7)(),(0,O.Ke)()]}})}return o})();function Bn(o,a){if(1&o&&(t.I0R(0,"h5",10)(1,"span",11),t.OEk(2),t.wVc(3,"translate"),t.C$Y(),t.I0R(4,"span",12),t.OEk(5),t.C$Y(),t.OEk(6),t.C$Y()),2&o){const e=t.GaO();t.yG2(2),t.oRS("",t.kDX(3,3,"cab.undone-1")," "),t.yG2(3),t.cNF(e.unfinishedFieldCount),t.yG2(),t.oRS(" / ",e.totalFieldCount," ")}}function Qn(o,a){if(1&o){const e=t.KQA();t.I0R(0,"app-dynamic-form-group-type",23),t.qCj("valueChange",function(i){t.usT(e);const r=t.GaO(4);return t.CGJ(r.onFormValeChange(i))})("remarkValueChange",function(i){t.usT(e);const r=t.GaO(4);return t.CGJ(r.onRemarkValueChange(i))}),t.C$Y()}if(2&o){const e=t.GaO(2),n=e.$implicit,i=e.index,r=t.GaO(2);t.E7m("page",n)("form",null==r.dynamic?null:r.dynamic.form)("isCompleteClicked",r.isCompleteClicked)("progressStatus",null==r.dynamic?null:r.dynamic.status)("pageIndex",i)("answerStatus",r.dynamic&&r.dynamic.status&&+r.dynamic.status===r.progressStatus.Draft?r.answerStatus.Draft:r.answerStatus.RequiredForApprove)("submitBody",r.getBody)}}function Ln(o,a){if(1&o){const e=t.KQA();t.I0R(0,"app-dynamic-form-basic-type",24),t.qCj("valueChange",function(i){t.usT(e);const r=t.GaO(4);return t.CGJ(r.onFormValeChange(i))}),t.C$Y()}if(2&o){const e=t.GaO(2),n=e.$implicit,i=e.index,r=t.GaO(2);t.E7m("page",n)("form",null==r.dynamic?null:r.dynamic.form)("isCompleteClicked",r.isCompleteClicked)("pageIndex",i)("model",r.dynamic)}}function jn(o,a){if(1&o&&(t.SAx(0)(1,19),t.yuY(2,Qn,1,7,"app-dynamic-form-group-type",21)(3,Ln,1,5,"app-dynamic-form-basic-type",22),t.k70()()),2&o){const e=t.GaO().$implicit,n=t.GaO(2);t.yG2(),t.E7m("ngSwitch",+e.styleType),t.yG2(),t.E7m("ngSwitchCase",+n.pagType.Default),t.yG2(),t.E7m("ngSwitchCase",+n.pagType.BasicInfo)}}function zn(o,a){if(1&o&&(t.I0R(0,"div",19),t.yuY(1,jn,4,3,"ng-container",20),t.C$Y()),2&o){const e=a.index,n=t.GaO(2);t.E7m("@slideIn",void 0)("ngSwitch",+n.tabForm.value),t.yG2(),t.E7m("ngSwitchCase",+e)}}function Kn(o,a){if(1&o){const e=t.KQA();t.I0R(0,"button",25),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.tabForm&&null!==i.tabForm.value&&i.tabForm.setValue(+i.tabForm.value-1))}),t.OEk(1),t.wVc(2,"translate"),t.C$Y()}2&o&&(t.yG2(),t.oRS(" ",t.kDX(2,1,"common.last-page")," "))}function Hn(o,a){if(1&o){const e=t.KQA();t.I0R(0,"button",26),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.tabForm&&null!==i.tabForm.value&&i.tabForm.setValue(+i.tabForm.value+1))}),t.OEk(1),t.wVc(2,"translate"),t.C$Y()}2&o&&(t.yG2(),t.oRS(" ",t.kDX(2,1,"common.next-page")," "))}function Un(o,a){if(1&o){const e=t.KQA();t.I0R(0,"button",26),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.submit())}),t.OEk(1),t.wVc(2,"translate"),t.C$Y()}2&o&&(t.yG2(),t.oRS(" ",t.kDX(2,1,"common.complete")," "))}function Xn(o,a){if(1&o&&(t.I0R(0,"div",13),t.wR5(1,"app-tabs",14),t.yuY(2,zn,2,3,"div",15),t.I0R(3,"div",16),t.yuY(4,Kn,3,3,"button",17)(5,Hn,3,3,"button",18)(6,Un,3,3,"button",18),t.C$Y()()),2&o){const e=t.GaO();t.E7m("formGroup",e.dynamic.form),t.yG2(),t.E7m("tabs",e.tabs)("isEvenlyDistribute",!1)("tabPadding","0 20px")("tabTextAlign","between")("tabMinWidth","180px")("formControl",e.tabForm)("containerPadding","0 0"),t.yG2(),t.E7m("ngForOf",e.question_pages),t.yG2(2),t.E7m("ngIf",e.tabForm&&null!==e.tabForm.value&&0!=+e.tabForm.value),t.yG2(),t.E7m("ngIf",!e.isLastPage),t.yG2(),t.E7m("ngIf",e.isLastPage)}}let rt=(()=>{class o extends j.Q{constructor(e,n,i,r,c,p,u,h,y,w,fo,Co,yo){super(),this.$window=e,this.$layout=n,this.$overlay=i,this.$cab=r,this.$user=c,this.fb=p,this.router=u,this.activateRouter=h,this.$translate=y,this.sanitizer=w,this.datePipe=fo,this.http=Co,this.$dynamicValidator=yo,this.supplementaryData={projectId:"",cabId:"",remark:null,attachment:null},this.tabs=[],this.tabForm=new s.Ku(0),this.isFileSavedLocal=!1,this.isCompleteClicked=!1,this.unfinishedFieldCount=0,this.totalFieldCount=0,this.subscription=new st.wH,this.hideExpressions=[],this.projectId="",this.questionVersion="",this.cabId="",this.docId="",this.isFileReEditMode=!1,this.preReServeFileControl=new s.WC({}),this.fileSizeLimitMb=30,this.iconClass={valid:"icon-confirmed-round text-green-middle ml-12 fs-lgx",invalid:"page-icon icon-exclamation d-flex align-items-center justify-content-center text-white ml-11 fw-9 fs-lg"},this.warningBeforeNavigate="common.cancel-edit-no-save-draft"}get isChairman(){return!!this.user?.role.includes(l.SG.Chairman)}get isCommittee(){return!!this.user?.role.includes(l.SG.Committee)}get isLastPage(){return!!this.question_pages&&(this.tabForm&&this.tabForm.value?+this.tabForm.value:0)==this.question_pages.length-1}get isReviewPage(){return this.tabForm.value===this.tabs.length}get isLastFileError(){return this.latestFile.value.isSizeError||this.latestFile.value.isTypeError}get isSupplementStatus(){return!!this.dynamic?.status&&+this.dynamic.status===l.Mv.RequiredForApprove}get isFileInputting(){return this.latestFile.get("fieldStatus")?.value===l.Mp.Inputting}get getBody(){return{...this.dynamic?.form.getRawValue(),answers:this.dynamic?.getProjectAnswers(this.dynamic?.form),projectId:this.projectId,docId:this.docId,cabId:this.cabId,cab:this.cabType,questionVersion:this.questionVersion,attachment:this.fileControl?.getRawValue().map(e=>({...e,type:e.type||0===e.type?e.type:+this.dynamic.status===l.Mv.Draft?f.Draft:f.RequiredForApprove,fileName:encodeURI(e.fileName)})).filter(e=>e.fileName)}}get fileControl(){return this.dynamic?.form.get("attachment")}get latestFile(){return this.fileControl.controls[this.fileControl.controls.length-1]}get mode(){return l.kD}get fieldType(){return g}get fieldStatusType(){return l.Mp}get pagType(){return E}get progressStatus(){return l.Mv}get answerStatus(){return f}get fieldStatus(){return l.Mp}ngOnInit(){this.$layout.doSidebarExpandSubject.next(!1),this.$layout.warningBeforeNavigateSubject.next(this.warningBeforeNavigate),this.init()}init(e){this.projectId=this.activateRouter.snapshot.params.projectId,this.cabId=this.activateRouter.snapshot.params.cabId,this.questionVersion=this.activateRouter.snapshot.params.questionVersion,this.cabType=this.activateRouter.snapshot.params.cab,this.docId=this.activateRouter.snapshot.params.docId,this.formMode=this.activateRouter.snapshot.params.formMode;const n=this.activateRouter.snapshot.params.status;e||(0,ct.y)([this.http.get("../../../../assets/mock-data/cab-answer.json").pipe((0,lt.a)(i=>(this.handleApiError(i,"common.get-fail"),(0,pt.c)(()=>i)))),this.http.get("../../../../assets/mock-data/cab-template.json"),this.http.get("../../../../assets/mock-data/user-data.json"),this.http.get("../../../../assets/mock-data/cab-records.json")]).subscribe({next:([i,r,c,p])=>{this.subscription.unsubscribe();const u=i;(c.userId!==u.creator.id||+n!==l.Mv.Draft&&+n!==l.Mv.RequiredForApprove)&&(this.$overlay.addToast(l.qY.Info,{title:"common.no-edit-permission"}),this.toReview()),this.progressLabel=dt.get(+u.status),this.formMode=u.answers&&u.attachment?this.formMode:l.kD.Add,this.dynamic=new Ot(r,this.$translate,this.datePipe,this.$dynamicValidator,u,this.fb),+this.dynamic.status===l.Mv.RequiredForApprove&&(this.supplementaryData=this.getSupplementaryData(i)),this.user=c,this.isCreator=c.userId===u.creator.id,this.formValueForCompare=JSON.parse(JSON.stringify(+this.dynamic.status===l.Mv.RequiredForApprove?this.supplementaryData:this.dynamic?.form.getRawValue())),this.question_pages=this.chunkByPage(this.dynamic.getDataForQuestion(r).groupsView,10),this.question_pages&&(this.tabs=this.question_pages.map((h,y)=>({titleI18n:this.$translate.instant(0===y?"cab.basic-info":"cab.group-type"),iconClasses:"",value:y}))),this.subscribeForm(),this.subscribeTab(),this.onFormValeChange(this.dynamic.form)},error:i=>this.$overlay.addToast(l.qY.Error,{title:"common.get-fail"})})}showRecord(){this.$overlay.addDialog(yt,{card:this.record})}onTempSave(){if(this.isChanged()){const e={...this.getBody,type:S.Draft},n={...this.supplementaryData,projectId:this.dynamic.projectId,cabId:this.dynamic.cabId};(+this.dynamic.status===l.Mv.RequiredForApprove?this.$cab.putSupplementDraft(n):this.formMode===l.kD.Add?this.$cab.postApplicationFormDraft(e):this.$cab.putApplicationFormDraft(e)).subscribe({next:i=>{this.$overlay.addToast(l.qY.Success,{title:"common.update-success"}),this.formValueForCompare=JSON.parse(JSON.stringify(+this.dynamic.status===l.Mv.RequiredForApprove?this.supplementaryData:this.dynamic?.form.getRawValue())),this.formMode===l.kD.Add&&this.init(!0),+this.dynamic.status===l.Mv.RequiredForApprove&&this.init()},error:i=>{this.handleSubmitError(i)}})}else this.$overlay.addToast(l.qY.Info,{title:"common.no-update"})}isOnProgressAnswer(e){return+this.progressStatus===l.Mv.Draft?+e===f.Draft:+e===f.RequiredForApprove}getEditorInfo(e){return`${e?.uploadDate??""} ${(this.$translate.currentLang===l.uM.Cn?e?.departmentCn:e?.departmentEn)??""} ${(this.$translate.currentLang===l.uM.Cn?e?.sectionCn:e.sectionEn)??""} ${e?.userName??""}`}reEdit(e){this.isFileReEditMode=!0,e.fieldStatus=l.Mp.Inputting,this.preReServeFileControl=this.latestFile}isPageValid(e){return!this.question_pages[e].groups.some(n=>n.form.invalid)}toRecords(){this.isChanged()?this.$overlay.addDialog(bt.Y,{title:this.warningBeforeNavigate},{callback:{confirm:()=>this.toRecordsPage()}}):this.toRecordsPage()}onRemarkValueChange({remark:e,questionId:n}){if(+this.dynamic.status===l.Mv.RequiredForApprove){if(null===this.supplementaryData.remark||-1===this.supplementaryData.remark.findIndex(c=>Object.keys(c)[0]===n)){null===this.supplementaryData.remark&&(this.supplementaryData.remark=[]);const c={};c[n]={type:+this.dynamic.status===l.Mv.Draft?f.Draft:f.RequiredForApprove,fieldStatus:l.Mp.Inputting,content:null,department:"",departmentCn:"",departmentEn:"",section:"",sectionCn:"",sectionEn:""},this.supplementaryData.remark.push(c)}const i=this.supplementaryData.remark.findIndex(c=>Object.keys(c)[0]===n),r={};r[n]={...e,type:e.type,content:""===e.content?null:e.content},this.supplementaryData.remark[i]=r}}toRecordsPage(){}toReview(e){this.dynamic?.form.invalid&&(this.dynamic?.form.markAllAsTouched(),this.isCompleteClicked=!0,this.showPageIcon(),this.toErrorTab(),this.$overlay.addToast(l.qY.Warn,{title:"validators.form-invalid"}))}isAlreadyHasFile(e){return e.type&&this.dynamic&&(+e.type===f.Draft&&+this.dynamic.status===l.Mv.Draft||+e.type===f.RequiredForApprove&&+this.dynamic.status===l.Mv.RequiredForApprove)}openSupplementUpload(){this.dynamic?.getEmptyFileFormGroup(this.dynamic.status)&&this.fileControl.push(new s.WC({file:new s.Ku(""),fileName:new s.Ku(""),url:new s.Ku(""),department:new s.Ku(""),departmentCn:new s.Ku(""),departmentEn:new s.Ku(""),section:new s.Ku(""),sectionCn:new s.Ku(""),sectionEn:new s.Ku(""),userId:new s.Ku(""),userName:new s.Ku(""),email:new s.Ku(""),isSizeError:new s.Ku(!1),isTypeError:new s.Ku(!1),uploadDate:new s.Ku(""),type:new s.Ku(""),fieldStatus:new s.Ku(l.Mp.Inputting)}))}cancel(){this.latestFile.get("fieldStatus")?.setValue(l.Mp.Complete),this.isFileReEditMode?this.latestFile.patchValue(this.preReServeFileControl):this.fileControl.controls.pop()}putFileWithProject(){this.$cab.putApplicationForm(this.getBody).subscribe({next:()=>{this.$overlay.addToast(l.qY.Success,{title:"common.post-success"}),this.formValueForCompare=JSON.parse(JSON.stringify(+this.dynamic.status===l.Mv.RequiredForApprove?this.supplementaryData:this.dynamic?.form.getRawValue())),this.latestFile.get("fieldStatus")?.setValue(l.Mp.Complete),this.latestFile.get("type")?.setValue(`${f.RequiredForApprove}`)},error:e=>{this.handleSubmitError(e)}})}submit(){if(console.log("aa-form-0",this.question_pages[1],this.dynamic?.form),this.dynamic?.form.invalid)this.isCompleteClicked=!0,this.dynamic?.form.markAllAsTouched(),console.log("aa-form-1",this.dynamic?.form),this.showPageIcon(),this.toErrorTab();else{const e={...this.getBody,type:S.Complete},n={...this.supplementaryData,projectId:this.dynamic.projectId,cabId:this.dynamic.cabId};(+this.dynamic.status===l.Mv.RequiredForApprove?this.$cab.putSupplementDraft(n):this.formMode===l.kD.Add?this.$cab.postApplicationFormDraft(e):this.$cab.putApplicationFormDraft(e)).subscribe({next:i=>{this.$overlay.addToast(l.qY.Success,{title:"common.update-success"}),this.toReview(i)},error:i=>{this.handleSubmitError(i)}})}}getSupplementaryData(e){const n=[];Object.entries(e.answers).forEach(r=>{const c=r[1].remark;if(null!==c){const p=c.findIndex(u=>+u.type===f.RequiredForApprove);if(-1!==p){const u={};u[r[0]]=c[p],n.push(u)}}});const i=e.attachment.find(r=>+r.type===f.RequiredForApprove);return{projectId:"",cabId:"",remark:0===n.length?null:n,attachment:i??null}}handleSubmitError(e){this.$overlay.addToast(l.qY.Error,e.error.message?{title:e.error.message}:{title:"common.update-fail"})}clearFile(){this.supplementaryData.attachment=null;const e=this.fileControl.controls[this.fileControl.controls.length-1];e?.get("fileName")?.setValue(""),e?.get("file")?.setValue(""),e?.get("url")?.setValue(""),e?.get("isSizeError")?.setValue(!1),e?.get("isTypeError")?.setValue(!1),e?.get("type")?.setValue(""),e?.get("fieldStatus")?.setValue(l.Mp.Inputting),this.fileControl.updateValueAndValidity(),this.onFormValeChange(this.dynamic.form)}onFormValeChange(e){this.setHideExpressions(this.hideExpressions),this.showInvalidMark(),this.$layout.warningBeforeNavigateSubject.next(this.isChanged()?this.warningBeforeNavigate:"")}showInvalidMark(){this.showPageIcon(),this.unfinishedFieldCount=this.getUnfinishedRequiredFieldCount()}upload(e){const n=e.target.files;if(n&&n.length>0){if(this.preUploadErrorHandle(n))return;this.$cab.upload(n[0]).subscribe({next:i=>{this.isFileSavedLocal=!0;const r=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(n[0]));this.supplementaryData.attachment={...i,type:f.RequiredForApprove},this.setFileControlValue(i,r),this.$overlay.addToast(l.qY.Success,{title:"common.file-save-temporarily"}),e.target.value="",this.onFormValeChange(this.dynamic.form)},error:()=>{e.target.value="",this.fileControl.controls[0].get("isError")?.setValue(!0),this.$overlay.addToast(l.qY.Error,{title:"common.file-upload-failed"})}}),this.showPageIcon()}}preUploadErrorHandle(e){const n=e[0].type.split("/")[1].toLocaleLowerCase(),i=e[0].size>1024*this.fileSizeLimitMb*1024,r=n!==l.y4.PDF&&n!==l.y4.PPT&&n!==l.y4.PPTX&&n!==l.y4.PPT_MSPOWERPOINT&&n!==l.y4.PPT_POWERPOINT&&n!==l.y4.PPT_VND_POWERPOINT&&n!==l.y4.PPT_X_MSPOWERPOINT;return this.fileControl.controls[0].get("isSizeError")?.setValue(i),this.fileControl.controls[0].get("isTypeError")?.setValue(r),this.isLastFileError&&(r&&this.$overlay.addToast(l.qY.Error,{title:"common.upload-type-wrong"}),i&&this.$overlay.addToast(l.qY.Error,{title:"common.upload-size-wrong"})),this.isLastFileError}setFileControlValue(e,n){this.latestFile?.patchValue(e),this.latestFile?.get("fileName")?.setValue(decodeURI(e.fileName)),this.latestFile?.get("type")?.setValue(+this.dynamic.status===l.Mv.Draft?f.Draft:f.RequiredForApprove),this.latestFile?.get("file")?.setValue(e.file),this.latestFile?.get("uploadDate")?.setValue(e.uploadDate),this.latestFile?.get("isSizeError")?.setValue(!1),this.latestFile?.get("isTypeError")?.setValue(!1),this.latestFile?.get("url")?.setValue(n)}getUnfinishedRequiredFieldCount(){this.totalFieldCount=0;let e=this.question_pages?this.question_pages?.reduce((n,i)=>{let r=0;return i.groups.forEach(c=>{c.questions.filter(p=>p.show).forEach(p=>{p.SubQuestionGroup.filter(u=>u.show&&u.required).forEach(u=>{this.totalFieldCount=this.totalFieldCount+1,u.form.invalid&&(r+=1)})})}),n+r},0):0;return this.fileControl.controls.every(n=>n.value.fileName)||(e+=1),e}subscribeTab(){this.tabForm.valueChanges.pipe((0,b.a)(this.onDestroy$)).subscribe(e=>this.$window.scrollToTopSubject.next())}subscribeForm(){this.dynamic?.form.valueChanges.pipe((0,b.a)(this.onDestroy$)).subscribe(e=>this.onFormValeChange(this.dynamic.form))}downloadFile(e){this.isFileSavedLocal?e.event.preventDefault():this.$cab.download(e.file).pipe((0,b.a)(this.onDestroy$)).subscribe({next:n=>this.save(n),error:n=>this.$overlay.addToast(l.qY.Error,{title:"common.get-file-fail"})})}downloadFileTemp(){this.$cab.downloadTemp().pipe((0,b.a)(this.onDestroy$)).subscribe({next:e=>this.save(e),error:e=>this.$overlay.addToast(l.qY.Error,{title:"common.get-file-fail"})})}save(e){const n=e.headers.headers.get("content-disposition")[0];decodeURI(n.substring(n.indexOf("filename=")+9,n.length)).replace(/"/g,"")}setHideExpressions(e){e.forEach(n=>{const i=""===n[0].questionId||n.some(r=>{const c=z.get(r.questionId)?.get("answers")?.get(r.answerId)?.value.value;return"string"!=typeof c&&"number"!=typeof c?c.some(u=>(""===u?0:u)===+r.value):(""===c?0:c)===+r.value});this.question_pages.forEach(r=>r.groups.forEach(c=>c.questions.forEach(p=>{p.SubQuestionGroup.forEach(u=>{p.questionId===n[0].selfQuestionId&&u.answerId===n[0].selfAnswerId&&(u.show=i,u.form.get("value")?.setValidators(i?[s.AQ.required]:null),u.form.get("value")?.updateValueAndValidity()),p.questionId===n[0].selfQuestionId&&(p.show=p.SubQuestionGroup.some(h=>h.show))})})))})}showPageIcon(){this.question_pages?.forEach((e,n)=>{const i=e.groups.every(r=>r.form.valid||"DISABLED"===r.form.status)&&(n!==this.question_pages.length-1||this.dynamic?.form.get("attachment")?.valid);this.tabs[n]={...this.tabs[n],iconClasses:i?this.iconClass.valid:this.dynamic?.form.touched&&this.isCompleteClicked?this.iconClass.invalid:""}})}chunkByPage(e,n){const i=[];let r=0;return e.forEach(c=>{const p=c.questions;i[0===i.length?0:i.length-1]||i.push([]);const u=i[0===i.length?0:i.length-1];0===u.length||r+p.length<n?(u.push(c),r+=p.length):(i.push([]),i[i.length-1].push(c),r=0)}),i.map((c,p)=>({styleType:0===p?E.BasicInfo:E.Default,groups:c}))}toErrorTab(){const e=this.question_pages.findIndex(n=>n.groups.some(i=>i.form.invalid));-1!==e&&(this.tabForm.setValue(e),this.$window.scrollToTopSubject.next())}isChanged(){return!!this.dynamic&&(+this.dynamic.status===l.Mv.Draft?!this.deepEqual(this.dynamic.form.getRawValue(),this.formValueForCompare):!this.deepEqual(this.supplementaryData,this.formValueForCompare))}deepEqual(e,n){if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return e===n;const i=Object.keys(e),r=Object.keys(n);if(i.length!==r.length)return!1;for(const c of i)if(!this.deepEqual(e[c],n[c]))return!1;return!0}handleApiError(e,n){this.$overlay.addToast(l.qY.Error,e.error&&e.error.message?{title:e.error.message}:{title:n})}static#t=this.\u0275fac=function(n){return new(n||o)(t.GI1(A.s),t.GI1(xt.O),t.GI1(U.Y),t.GI1(vt),t.GI1(wt.u),t.GI1(s.im),t.GI1(P.E5),t.GI1(P.gV),t.GI1(M.qS),t.GI1(It.mI),t.GI1(_.y),t.GI1(X.KK),t.GI1(J))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-dynamic-form-page"]],features:[t.eg9],decls:17,vars:7,consts:[[1,"d-flex","flex-column","justify-content-center","w-100"],[1,"header-container"],[1,"page-header","mb-0"],[1,"text-grey-black"],[1,"d-flex","align-items-center","justify-content-between","mt-5"],["class","fs-lgx",4,"ngIf"],[1,"d-flex","align-items-center"],[3,"bgColor","icon","click"],["class","background-section pb-2",3,"formGroup",4,"ngIf"],[3,"click"],[1,"fs-lgx"],[1,"fw-3","fs-lg"],[1,"text-red-middle","mx-0_5"],[1,"background-section","pb-2",3,"formGroup"],[3,"tabs","isEvenlyDistribute","tabPadding","tabTextAlign","tabMinWidth","formControl","containerPadding"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"w-100","d-flex","justify-content-end","mt-6"],["class","btn-flat btn-normal text-green-middle border-green-middle w-30 h-10 fs-xsm px-5",3,"click",4,"ngIf"],["class","btn-flat bg-green-middle w-30 h-10 fs-xsm px-5 ml-2",3,"click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"page","form","isCompleteClicked","progressStatus","pageIndex","answerStatus","submitBody","valueChange","remarkValueChange",4,"ngSwitchCase"],[3,"page","form","isCompleteClicked","pageIndex","model","valueChange",4,"ngSwitchCase"],[3,"page","form","isCompleteClicked","progressStatus","pageIndex","answerStatus","submitBody","valueChange","remarkValueChange"],[3,"page","form","isCompleteClicked","pageIndex","model","valueChange"],[1,"btn-flat","btn-normal","text-green-middle","border-green-middle","w-30","h-10","fs-xsm","px-5",3,"click"],[1,"btn-flat","bg-green-middle","w-30","h-10","fs-xsm","px-5","ml-2",3,"click"]],template:function(n,i){if(1&n&&(t.I0R(0,"div",0)(1,"div",1)(2,"div")(3,"div",2)(4,"p",3),t.OEk(5),t.wVc(6,"translate"),t.C$Y()(),t.I0R(7,"p"),t.OEk(8,"* \u53ef\u7de8\u8f2f\u984c\u76ee\u3002"),t.C$Y(),t.I0R(9,"p"),t.OEk(10,"* \u6309\u4e0b [ \u5b8c\u6210 ] \uff0c\u89f8\u767c\u9a57\u8b49\u8207\u932f\u8aa4\u8a0a\u606f\u3002"),t.C$Y()()()(),t.I0R(11,"div",4),t.yuY(12,Bn,7,5,"h5",5),t.I0R(13,"div",6)(14,"app-button",7),t.qCj("click",function(){return i.submit()}),t.C$Y()()(),t.yuY(15,Xn,7,12,"div",8),t.I0R(16,"app-go-top-button",9),t.qCj("click",function(){return i.$window.scrollToTopSubject.next()}),t.C$Y()),2&n){let r;t.yG2(5),t.oRS(" ",t.kDX(6,5,null!==(r=null==i.dynamic?null:i.dynamic.projectName)&&void 0!==r?r:"common.page-name")," "),t.yG2(7),t.E7m("ngIf",i.dynamic&&+i.dynamic.status!==i.progressStatus.RequiredForApprove),t.yG2(2),t.E7m("bgColor","primary-color")("icon","circle"),t.yG2(),t.E7m("ngIf",null==i.dynamic?null:i.dynamic.form)}},dependencies:[_.ay,_.u_,_.Ko,_.Wm,Rt,$t,St.k,s.ue,s.u,s.ug,s.uW,Cn,Vn,M.sD],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%] > div[_ngcontent-%COMP%]:first-of-type{flex-direction:row;padding:0 45px}[_nghost-%COMP%] > div[_ngcontent-%COMP%]:nth-of-type(2), [_nghost-%COMP%] > div[_ngcontent-%COMP%]:nth-of-type(3), [_nghost-%COMP%] > div[_ngcontent-%COMP%]:nth-of-type(4){padding:0 45px}[_nghost-%COMP%] > form[_ngcontent-%COMP%]{width:70%}[_nghost-%COMP%]   .question-card[_ngcontent-%COMP%]{border-radius:10px;box-shadow:1px 1px 5px #0000001a}[_nghost-%COMP%]   .question-card__header[_ngcontent-%COMP%]{border-bottom:1px solid #f4f4f4}[_nghost-%COMP%]   .question-card__header[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{height:2rem;width:2rem;min-height:2rem;min-width:2rem;border-radius:50%;border:2px solid #2c2c2c}[_nghost-%COMP%]   .question-card__header[_ngcontent-%COMP%]   em.complete[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#44b787;border:1px solid #d0ede1;font-size:16px}[_nghost-%COMP%]   .question-card__header[_ngcontent-%COMP%]   em.complete[_ngcontent-%COMP%]:before{transform:scale(.8)}[_nghost-%COMP%]   .question-card__header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:28px!important}[_nghost-%COMP%]   .question-card__question[_ngcontent-%COMP%]   li.error[_ngcontent-%COMP%]{background-color:#fff0f0}[_nghost-%COMP%]   .question-card__question[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #f4f4f4}[_nghost-%COMP%]   .question-card__upload[_ngcontent-%COMP%]{border-radius:10px;margin:35.5px 0 36.5px}[_nghost-%COMP%]   .question-card__upload[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%]   .question-card__upload.error[_ngcontent-%COMP%]{background-color:#fff0f0}.header-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;flex-wrap:wrap;width:100%}.header-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{margin-top:1.625rem}.header-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{letter-spacing:0;color:#6d6d6d;text-decoration:underline}.header-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#44b787}.status-label[_ngcontent-%COMP%]{border-radius:3px}  .page-icon{min-width:18px;min-height:18px;margin:1px 2px;border-radius:50%;background-color:red}  .page-icon:before{transform:scale(.7)}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], label[_ngcontent-%COMP%], pre[_ngcontent-%COMP%]{margin-bottom:0}a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#44b787}button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.requiredForApprove[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#44b787;text-decoration:underline}.requiredForApprove[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{opacity:.7}.requiredForApprove[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{max-width:136px}.requiredForApprove[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{border-radius:3px}"],data:{animation:[(0,O.co)()]}})}return o})();var k=d(7744),Jn=d(5480);function Wn(o,a){if(1&o&&(t.I0R(0,"button",7),t.OEk(1),t.C$Y()),2&o){const e=t.GaO();t.yG2(),t.cNF(e.tabName)}}function Zn(o,a){if(1&o&&(t.I0R(0,"p",8),t.OEk(1),t.C$Y()),2&o){const e=t.GaO();t.yG2(),t.cNF(e.des)}}const to=[[["","id","config"]],"*"],eo=["#config","*"];let at=(()=>{class o{constructor(){this.title="",this.tabName="",this.des=""}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-presentation-section"]],inputs:{title:"title",tabName:"tabName",des:"des"},ngContentSelectors:eo,decls:11,vars:3,consts:[[1,"d-flex","flex-row"],[1,"d-flex","align-items-center","w-100","py-1","mb-8"],[1,"title","d-flex","flex-row","align-items-center","mr-2"],[1,"px-2"],["class","btn-flat d-flex align-items-center text-white bg-green-middle py-1 px-2 w-fit pe-pointer",4,"ngIf"],["class"," text-black",4,"ngIf"],[1,"d-flex","flex-row","align-items-start","ml-3"],[1,"btn-flat","d-flex","align-items-center","text-white","bg-green-middle","py-1","px-2","w-fit","pe-pointer"],[1,"text-black"]],template:function(n,i){1&n&&(t.kPM(to),t.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),t.OEk(4),t.C$Y(),t.yuY(5,Wn,2,1,"button",4),t.C$Y(),t.yuY(6,Zn,2,1,"p",5),t.C$Y(),t.I0R(7,"form"),t._Xx(8),t.C$Y()(),t.I0R(9,"div",6),t._Xx(10,1),t.C$Y()),2&n&&(t.yG2(4),t.cNF(i.title),t.yG2(),t.E7m("ngIf",i.tabName),t.yG2(),t.E7m("ngIf",!!i.des))},dependencies:[_.u_,s.sz,s.u,s.SC],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;padding:1rem 1rem 3rem;border-radius:10px;margin-bottom:2rem;background:#fff;border:1px solid var(--primary-select-color)}[_nghost-%COMP%]:hover{box-shadow:0 5px 5px #0000000d;border:1px solid var(--primary-color)}.title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{border-left:1px solid #44b787;border-top:1px solid #44b787;border-bottom:1px solid #44b787;background-color:#fff}button[_ngcontent-%COMP%]{height:26px;border-radius:0 4px 4px 0}"]})}return o})();const no=()=>[];let oo=(()=>{class o{constructor(){this.options=[],this.configForm=new s.WC({disable:new s.Ku(!1)})}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-normal-select-presentation-section"]],inputs:{options:"options"},decls:17,vars:15,consts:[["title","\u4e0b\u62c9\u55ae\u9078",3,"tabName"],[1,"d-flex","flex-row","flex-wrap"],[1,"d-flex","flex-row","align-items-center","text-grey-iron","mr-5","mb-3"],[1,"w-12"],[1,"w-40","ml-3",3,"options"],[1,"w-40","ml-3",3,"options","disabled"]],template:function(n,i){1&n&&(t.I0R(0,"app-presentation-section",0)(1,"ul",1)(2,"li",2)(3,"p",3),t.OEk(4),t.wVc(5,"translate"),t.C$Y(),t.wR5(6,"app-select",4),t.C$Y(),t.I0R(7,"li",2)(8,"p",3),t.OEk(9),t.wVc(10,"translate"),t.C$Y(),t.wR5(11,"app-select",5),t.C$Y(),t.I0R(12,"li",2)(13,"p",3),t.OEk(14),t.wVc(15,"translate"),t.C$Y(),t.wR5(16,"app-select",4),t.C$Y()()()),2&n&&(t.E7m("tabName","< app-select >"),t.yG2(4),t.cNF(t.kDX(5,8,"\u9810\u8a2d")),t.yG2(2),t.E7m("options",i.options),t.yG2(3),t.cNF(t.kDX(10,10,"\u4e0d\u555f\u7528")),t.yG2(2),t.E7m("options",i.options)("disabled",!0),t.yG2(3),t.cNF(t.kDX(15,12,"\u7121\u8cc7\u6599")),t.yG2(2),t.E7m("options",t.q4q(14,no)))},dependencies:[T.Y,at,M.sD]})}return o})();const Q=()=>[],co=[{path:"",component:rt,data:{title:"Cloud Ready - Home"}},{path:`${k.SC.CustomComponent}`,component:(()=>{class o{constructor(){this.options=[{code:"0",name:"\u5c0f\u753a\u7576"},{code:"1",name:"\u74dc\u725b\u5e36\u6211\u53bb\u6563\u6b65"},{code:"2",name:"\u4e9e\u6d32\u6700\u5927\u6897\u5716\u5c08\u9580\u7db2\u7ad9\u3002\u63d0\u4f9b\u6bcf\u65e5\u6709\u8da3\u6897\u5716",hasMemo:!0},{code:"3",name:"\u4e2d\u82f1\u593e\u96dc\u7684\u6bd4\u8f03 high class \u55ce\uff1f"},{code:"4",name:"\u300c\u4e0d\u597d\u610f\u601d\uff0c\u6211\u660e\u5929\u7684 schedule \u6eff\u4e86\uff0c\u8b93\u6211 book \u5f8c\u5929\u7684\u6642\u9593\u597d\u55ce\uff1f\u300d"},{code:"12",name:"\u9805\u76ee1333333333333333333333333333"},{code:"15",name:" \u6700\u5f8c\u4e00\u9805"}],this.schedule={doctorNo:"001",doctorName:"\u9805\u76ee\u4e00",workDate:"20230101",rank:"1",rankName:"\u65e9\u73ed",assistNo:"001",assistName:"\u5b50\u9805\u76ee\u4e00",remark:"\u5099\u8a3b"}}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-select-page"]],decls:75,vars:49,consts:[[1,"d-flex","flex-column","justify-content-center","w-100"],[1,"page-header","p-relative","fs-xxl"],[1,"mb-5"],[1,"background-section","pb-40","pt-3"],[3,"options"],[3,"title","tabName"],["id","config"],[1,"d-flex","flex-row","align-items-start","flex-wrap"],[1,"d-flex","align-items-start","mr-4","mb-3"],[1,"w-12","mr-3","mt-3","text-nowrap"],[1,"w-56",3,"options","id","hasFilter"],[1,"d-flex","align-items-center","mr-4","mb-3"],[1,"w-12","mr-3","text-nowrap"],[1,"w-56",3,"options","id","disabled"],[1,"d-flex","align-items-center","mb-3"],[1,"w-56",3,"options","id"],[1,"w-40p","d-flex","align-items-start"],[3,"options","id","name","hasOtherInput"],[3,"options","disabled","id","name","hasOtherInput"],[1,"w-20p","d-flex","align-items-start"],[3,"options","id","name"],["name","radio-enable",3,"options"],["name","radio-disable",3,"options","disabled"],["name","radio-no-data",3,"options","noData"],[3,"title","des","tabName"],[1,"d-flex","flex-wrap","w-100"],[1,"w-30p","d-flex","align-items-center","mr-5","mb-2"],[1,"w-100"],[1,"w-40p","d-flex","align-items-center","mr-5","mb-2"],[1,"mr-3","text-nowrap"],[1,"w-100",3,"isRange"],[1,"w-40p","d-flex","align-items-center"],[1,"w-100",3,"isDisabled"],[1,"w-30p","d-flex","align-items-center"],[3,"id"],[1,"w-40p","d-flex","align-items-center","ml-5"],[3,"id","disabled"]],template:function(n,i){1&n&&(t.I0R(0,"div",0)(1,"div",1),t.wR5(2,"app-bread-crumbs"),t.OEk(3),t.wVc(4,"translate"),t.C$Y(),t.I0R(5,"div",2)(6,"p"),t.OEk(7),t.C$Y()()(),t.I0R(8,"div",3),t.wR5(9,"app-normal-select-presentation-section",4),t.I0R(10,"app-presentation-section",5),t.wR5(11,"div",6),t.I0R(12,"ul",7)(13,"li",8)(14,"p",9),t.OEk(15,"\u9810\u8a2d"),t.C$Y(),t.wR5(16,"app-multi-select",10),t.C$Y(),t.I0R(17,"li",11)(18,"p",12),t.OEk(19,"\u4e0d\u555f\u7528"),t.C$Y(),t.wR5(20,"app-multi-select",13),t.C$Y(),t.I0R(21,"li",14)(22,"p",12),t.OEk(23,"\u7121\u8cc7\u6599"),t.C$Y(),t.wR5(24,"app-multi-select",15),t.C$Y()()(),t.I0R(25,"app-presentation-section",5)(26,"div",16)(27,"p",12),t.OEk(28,"\u9810\u8a2d"),t.C$Y(),t.wR5(29,"app-checkbox-set",17),t.C$Y(),t.I0R(30,"div",16)(31,"p",12),t.OEk(32,"\u4e0d\u555f\u7528"),t.C$Y(),t.wR5(33,"app-checkbox-set",18),t.C$Y(),t.I0R(34,"div",19)(35,"p",12),t.OEk(36,"\u7121\u8cc7\u6599"),t.C$Y(),t.wR5(37,"app-checkbox-set",20),t.C$Y()(),t.I0R(38,"app-presentation-section",5)(39,"div",16)(40,"p",12),t.OEk(41,"\u9810\u8a2d"),t.C$Y(),t.wR5(42,"app-radio-set",21),t.C$Y(),t.I0R(43,"div",16)(44,"p",12),t.OEk(45,"\u4e0d\u555f\u7528"),t.C$Y(),t.wR5(46,"app-radio-set",22),t.C$Y(),t.I0R(47,"div",19)(48,"p",12),t.OEk(49,"\u7121\u8cc7\u6599"),t.C$Y(),t.wR5(50,"app-radio-set",23),t.C$Y()(),t.I0R(51,"app-presentation-section",24)(52,"div",25)(53,"div",26)(54,"p",12),t.OEk(55,"\u55ae\u65e5"),t.C$Y(),t.wR5(56,"app-date-picker",27),t.C$Y(),t.I0R(57,"div",28)(58,"p",29),t.OEk(59,"\u7bc4\u570d\u65e5\u671f"),t.C$Y(),t.wR5(60,"app-date-picker",30),t.C$Y(),t.I0R(61,"div",31)(62,"p",29),t.OEk(63,"\u4e0d\u555f\u7528"),t.C$Y(),t.wR5(64,"app-date-picker",32),t.C$Y()()(),t.I0R(65,"app-presentation-section",5)(66,"div",25)(67,"div",33)(68,"p",12),t.OEk(69,"\u9810\u8a2d"),t.C$Y(),t.wR5(70,"app-toggle",34),t.C$Y(),t.I0R(71,"div",35)(72,"p",29),t.OEk(73,"\u4e0d\u555f\u7528"),t.C$Y(),t.wR5(74,"app-toggle",36),t.C$Y()()()()),2&n&&(t.yG2(3),t.oRS(" ",t.kDX(4,44,"nav.custom-component-sample")," "),t.yG2(4),t.cNF("\u7e7c\u627f ControlValueAccessor\uff0c\u53ef\u76f4\u63a5\u8207 ReactiveForm \u4f7f\u7528\u3002"),t.yG2(2),t.E7m("options",i.options),t.yG2(),t.E7m("title","\u4e0b\u62c9\u591a\u9078")("tabName","< app-multi-select >"),t.yG2(6),t.E7m("options",i.options)("id","multi-select-enable")("hasFilter",!0),t.yG2(4),t.E7m("options",i.options)("id","multi-select-disable")("disabled",!0),t.yG2(4),t.E7m("options",t.q4q(46,Q))("id","multi-select-no-data"),t.yG2(),t.E7m("title","\u6838\u53d6\u65b9\u584a")("tabName","< app-checkbox-set >"),t.yG2(4),t.E7m("options",i.options)("id","checkbox-enable")("name","checkbox-enable")("hasOtherInput",!0),t.yG2(4),t.E7m("options",i.options)("disabled",!0)("id","checkbox-disabled")("name","checkbox-disabled")("hasOtherInput",!0),t.yG2(4),t.E7m("options",t.q4q(47,Q))("id","checkbox-no-data")("name","checkbox-no-data"),t.yG2(),t.E7m("title","\u55ae\u9078\u6309\u9215")("tabName","< app-radio >"),t.yG2(4),t.E7m("options",i.options),t.yG2(4),t.E7m("options",i.options)("disabled",!0),t.yG2(4),t.E7m("options",t.q4q(48,Q))("noData",!0),t.yG2(),t.E7m("title","\u65e5\u671f\u9078\u64c7\u5668")("des","\u4f7f\u7528\u5957\u4ef6 moment.js\u3002")("tabName","< app-date-picker >"),t.yG2(9),t.E7m("isRange",!0),t.yG2(4),t.E7m("isDisabled",!0),t.yG2(),t.E7m("title","\u958b\u95dc")("tabName","< app-toggle >"),t.yG2(5),t.E7m("id","toggle-enable"),t.yG2(4),t.E7m("id","toggle-disable")("disabled",!0))},dependencies:[Jn.I,N,Z.U,V,D,B,at,oo,M.sD],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column;overflow:auto}[_nghost-%COMP%] > div[_ngcontent-%COMP%]:first-of-type{flex-direction:row;padding:0 45px}[_nghost-%COMP%] > form[_ngcontent-%COMP%]{width:70%}[_nghost-%COMP%]   .background-section[_ngcontent-%COMP%]{width:calc(100% - 47px);padding-top:0;padding-right:0}"]})}return o})()},{path:`${k.SC.Button}`,component:(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-button-page"]],decls:2,vars:0,template:function(n,i){1&n&&(t.I0R(0,"p"),t.OEk(1,"button-page works!"),t.C$Y())}})}return o})()},{path:`${k.SC.Input}`,component:(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-input-page"]],decls:2,vars:0,template:function(n,i){1&n&&(t.I0R(0,"p"),t.OEk(1,"input-page works!"),t.C$Y())}})}return o})()},{path:`${k.SC.File}`,component:(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-file-page"]],decls:2,vars:0,template:function(n,i){1&n&&(t.I0R(0,"p"),t.OEk(1,"file-page works!"),t.C$Y())}})}return o})()},{path:`${k.SC.DynamicForm}`,component:rt}];let lo=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.a4G({type:o});static#n=this.\u0275inj=t.s3X({imports:[P.qQ.forChild(co),P.qQ]})}return o})();var po=d(1455),mo=d(6212),uo=d(1752),_o=d(6960),go=d(5292);let ho=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.a4G({type:o});static#n=this.\u0275inj=t.s3X({providers:[_.y,J],imports:[_.MD,lo,M.O0,po.k,mo.C,s.sl,uo.o,_o.Y,go.E]})}return o})()}}]);