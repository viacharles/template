"use strict";(self.webpackChunktemplate_sample=self.webpackChunktemplate_sample||[]).push([[256],{7256:(Ro,L,d)=>{d.r(L),d.d(L,{FormElementsModule:()=>Go});var u=d(1368),E=d(2308),s=d(6504),j=d(3152),c=d(9788),ae=d(6928),re=d(9336),se=d(9144),le=d(3800),x=d(3616),R=function(o){return o[o.Admin=0]="Admin",o[o.Security=1]="Security",o[o.Arch=2]="Arch",o[o.Devops=3]="Devops",o[o.Sre=4]="Sre",o}(R||{});R||(R={});var $=function(o){return o[o.Draft=0]="Draft",o[o.Complete=1]="Complete",o}($||{}),P=function(o){return o[o.BasicInfo=0]="BasicInfo",o[o.Default=1]="Default",o}(P||{}),h=function(o){return o[o.Draft=0]="Draft",o[o.RequiredForApprove=1]="RequiredForApprove",o}(h||{});const z=new Map([]),pe=new Map([[c.Mv.Draft,{backgroundColor:"green-light",textColor:"green-middle",title:"common.draft"}],[c.Mv.SubmitForReview,{backgroundColor:"orange-middle",textColor:"white",title:"common.on-submit"}],[c.Mv.Approved,{backgroundColor:"green-middle",textColor:"white",title:"common.approved"}],[c.Mv.UnderReview,{backgroundColor:"orange-middle",textColor:"white",title:"common.on-review"}],[c.Mv.RequiredForApprove,{backgroundColor:"green-light",textColor:"green-middle",title:"common.already-required-for-approve"}],[c.Mv.SupplementForApprove,{backgroundColor:"green-middle",textColor:"white",title:"common.already-supplement-for-approve"}],[c.Mv.Rejected,{backgroundColor:"red-middle",textColor:"white",title:"common.rejected"}],[c.Mv.BackSubmitForReview,{backgroundColor:"orange-middle",textColor:"white",title:"common.on-submit"}]]);var K=d(9608),e=d(4496),G=d(9488),y=d(6230),U=d(632);function me(o,r){if(1&o&&(e.I0R(0,"p"),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&o){const t=e.GaO();let n;e.yG2(),e.oRS(" ",e.kDX(2,1,null!==(n=t.card.header.title)&&void 0!==n?n:"")," ")}}function de(o,r){if(1&o&&(e.I0R(0,"p"),e.OEk(1),e.C$Y()),2&o){const t=e.GaO().$implicit;e.yG2(),e.cNF(t.content)}}function ue(o,r){if(1&o&&(e.wR5(0,"div",12),e.wVc(1,"safeHtml")),2&o){const t=e.GaO().$implicit;let n;e.E7m("innerHTML",e.kDX(1,1,null!==(n=t.innerHTML)&&void 0!==n?n:""),e.E3n)}}function _e(o,r){if(1&o&&(e.SAx(0),e.I0R(1,"li",10),e.yuY(2,de,2,1,"p",4)(3,ue,2,3,"ng-template",null,11,e.gJz),e.C$Y(),e.k70()),2&o){const t=r.$implicit,n=e.Gew(4);e.yG2(2),e.E7m("ngIf",!t.innerHTML)("ngIfElse",n)}}function ge(o,r){if(1&o&&(e.I0R(0,"ul",8),e.yuY(1,_e,5,2,"ng-container",9),e.C$Y()),2&o){const t=e.GaO();e.yG2(),e.E7m("ngForOf",null==t.card?null:t.card.list)}}function he(o,r){if(1&o&&(e.wR5(0,"div",13),e.wVc(1,"safeHtml")),2&o){const t=e.GaO();e.E7m("innerHTML",e.kDX(1,1,t.card.header.innerHTML||""),e.E3n)}}let fe=(()=>{class o extends K.o{constructor(t){super(t)}get card(){return this.data.card}static#e=this.\u0275fac=function(n){return new(n||o)(e.GI1(G.Q))};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-cab-record-dialog"]],features:[e.eg9],decls:9,vars:3,consts:[["padding","1.8rem 1.675rem"],["id","body",1,"w-100","d-flex","flex-column"],[1,"w-100","d-flex","align-items-center"],[1,"w-100","d-flex","justify-content-between"],[4,"ngIf","ngIfElse"],[1,"icon-cancel","text-green-middle","fs-md","pe-pointer","ml-2",3,"click"],["class","mt-2",4,"ngIf"],["tHead",""],[1,"mt-2"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-start","mt-2"],["tBody",""],[3,"innerHTML"],[1,"w-100",3,"innerHTML"]],template:function(n,i){if(1&n&&(e.I0R(0,"app-dialog-container",0)(1,"div",1)(2,"header",2)(3,"div",3),e.yuY(4,me,3,3,"p",4),e.I0R(5,"em",5),e.qCj("click",function(){return i.cancel()}),e.C$Y()()(),e.yuY(6,ge,2,1,"ul",6),e.C$Y()(),e.yuY(7,he,2,3,"ng-template",null,7,e.gJz)),2&n){const a=e.Gew(8);e.yG2(4),e.E7m("ngIf",!i.card.header.innerHTML)("ngIfElse",a),e.yG2(2),e.E7m("ngIf",!(null==i.card||null==i.card.list||!i.card.list.length))}},dependencies:[u.ay,u.u_,G.Q,y.sD,U.K],styles:["[_nghost-%COMP%]{display:flex;width:100%;height:100%}#body[_ngcontent-%COMP%]{min-width:700px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:3.5rem 3.375rem;border-radius:10px;background-color:#fff}.container[_ngcontent-%COMP%]:hover{transition:.1s ease;filter:drop-shadow(0px 0px 4px rgba(0,0,0,.2))}.container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   em.open[_ngcontent-%COMP%]{transition:.2s ease-out;transform:rotate(180deg)}  .status-label{border-radius:3px}ul[_ngcontent-%COMP%]{margin-bottom:0}"]})}return o})();var Ce=d(4708);class be{static noWhitespaceValidator(r){return 0!==(r.value||"").trim().length?null:{whitespace:!0}}static passwordValidator(r){return/^(?=.*[a-zA-Z])(?=.*[0-9])[A-Za-z\d$@$!%*?&_+^(){}|,.[\]]{8,}$/.test(r.value)?null:{passwordInvalid:!0}}static emailUserValidator(r){const t=r.value;return RegExp("^[\\w\\-\\_\\.]+$").test(t)?null:{userInvalid:!0}}static validDomainValidator(r){return RegExp("cathay.*.com.?t?w?").test(r.value)?null:{invalid:!0}}static customEmailValidator(r){return RegExp(/^[^,+=[\]{}*&^%$#@!~?]+@(cathaysec\.com\.tw|cathaylife\.com\.vn|cathaylife\.com\.tw|cathaybk\.com\.tw|cathay-ins\.com\.tw|cathayholdings\.com\.tw)$/).test(r.value)||RegExp(".*@tpisoftware.com").test(r.value)?null:{emailFormat:!0}}static confirmPasswordValidator(){return()=>null}static duplicateCheckValidator(r){return t=>r.includes(t.value)?{duplicated:!0}:null}static maxCharNumberValidator(r){return t=>{let n=0;return t.value&&(n=t.value.split("").reduce((i,a)=>i+(/[\u4e00-\u9fa5]/.test(a)?2:1),0)),n>r?{charMax:!0}:null}}static atLeastOneValue(){return r=>Object.values(r.value).some(n=>null!==n&&""!==n)?null:{atLeastOneValue:!0}}static allSubQuestionsValid(r){return t=>t instanceof s.WC||t instanceof s.Sg?(t instanceof s.WC?Object.values(t.controls):t.controls).every(a=>a instanceof s.WC||a instanceof s.Sg?this.allSubQuestionsValid(a):a.valid)?null:{allSubInvalid:"not all SubQuestions invalid"}:null}}var m=function(o){return o.REQUIRED="validator.required",o.MAX_LENGTH="validator.max-length",o.MIN_LENGTH="validator.min-length",o.MAX_MIN_LENGTH="validator.max-min-length",o.MAX_ITEMS="validator.max-items",o.MIN_ITEMS="validator.min-items",o.MAX_MIN_ITEMS="validator.max-min-items",o.NUMBER_ONLY="validator.number-only",o.CN_ONLY="validator.cn-only",o.EN_NUMBER_ONLY="validator.en-number-only",o.FORMAT_ERROR="validator.format",o.EMAIL_ERROR="validator.email",o}(m||{}),g=function(o){return o.Select="select",o.MultiSelect="multiselect",o.Radio="radio",o.Toggle="toggle",o.Checkbox="checkbox",o.TextArea="textarea",o.Input="input",o.DatePicker="datepicker",o.DatePickerRange="datepicker-range",o}(g||{}),Y=function(o){return o.Default="default",o.Range="range",o}(Y||{}),v=function(o){return o.Text="text",o.Number="number",o.Email="email",o.Password="password",o.Tel="tel",o.Url="url",o.Search="search",o.Date="date",o.Time="time",o.DateTimeLocal="datetime-local",o.Month="month",o.Week="week",o.Color="color",o}(v||{});class ye{constructor(r,t,n,i,a,l){this.$translate=t,this.datePipe=n,this.$dynamicValidator=i,this.fb=l,this.projectName="",this.hideExpressions=[],this.form=new s.k1({}),this.maxOptionInLine=3,this.docId=r?.docId,this.templateId=r.id,this.questionVersion=r?.version,a&&(this.docId=a.docId,this.cab=a.cab,this.status=a.status,this.creator=a?.creator,this.editor=a?.editor,this.tenantCn=a?.tenantCn,this.cabId=a?.cabId,this.projectName=a?.projectName,this.projectId=a?.projectId,this.projectVersion=a.version,this.project_origin=a),this.question_origin=r,this.fb&&(this.form=this.initialForm(r,a,this.status))}initialForm({id:r,docId:t,groups:n},i,a){let l=new s.k1({});if(this.fb){l=this.fb.group({}),l.patchValue({cabId:r,docId:t}),l.addControl("answers",this.fb.array(n.map(_=>this.getQuestionGroupForm(_)))),l.addControl("attachment",this.fb.array([this.getEmptyFileFormGroup(this.status)])),a&&+a===c.Mv.RequiredForApprove&&(l.get("answers")?.controls[0]).disable();const p=i?.answers;p&&this.patchFormValue(l,p,i.attachment)}return l}patchFormValue(r,t,n){if(Object.keys(t).forEach(i=>{const{groupId:a,remark:l,values:p}=t[i],C=r.controls.answers.controls.find(({controls:b})=>b.id.value===a)?.controls[i];C&&(C.get("remark")?.patchValue(null===l?[]:l.map(b=>({...b,fieldStatus:+this.status===c.Mv.Draft?c.Mp.Inputting:c.Mp.Complete}))),Object.keys(p).forEach(b=>{const M=C.controls.answers?.controls[b];M&&M.patchValue(p[b])}))}),n){const i=r.get("attachment");n.sort((a,l)=>new Date(a.uploadDate)<new Date(l.uploadDate)?1:-1).forEach((a,l)=>{!i.controls[l]||i.controls[l].get("fileName")?.value&&i.controls[l].get("file")?.value?i.controls.some(p=>a.file===p.get("file")?.value)||i.controls?.unshift(new s.k1({file:new s.yM(a.file,+a.type===h.Draft?s.AQ.required:null),fileName:new s.yM(decodeURI(a.fileName),+a.type===h.Draft?s.AQ.required:null),url:new s.yM(""),userId:new s.yM(a.userId),department:new s.yM(a.department),departmentCn:new s.yM(a.departmentCn),departmentEn:new s.yM(a.departmentEn),section:new s.yM(a.section),sectionCn:new s.yM(a.sectionCn),sectionEn:new s.yM(a.sectionEn),uploadDate:new s.yM(a.uploadDate),isSizeError:new s.yM(!1),isTypeError:new s.yM(!1),type:new s.yM(a.type),fieldStatus:new s.yM(c.Mp.Complete)})):(i.controls[l].patchValue({...a,fieldStatus:c.Mp.Complete}),i.controls[l].get("file")?.setValue(a.file??""),i.controls[l].get("fileName")?.setValue(decodeURI(a.fileName)??""),i.controls[l].get("uploadDate")?.setValue(a.uploadDate??""))})}}getProjectAnswers(r){const t=r.getRawValue(),n={};return t.answers.forEach(i=>{Object.entries(i).filter(l=>"id"!==l[0]).forEach(l=>{Object.entries(l[1].answers).forEach(p=>{const _=l[1].remark;let C=[];null===_||_.length?C=_:(Object.values(l[1].remark).forEach(M=>C.push(M)),C=C.filter(M=>""!==M.content)),n[l[0]]={remark:null===C||0===C.length?null:C,values:l[1].answers,groupId:i.id,sectionId:""}})})}),n}getEmptyFileFormGroup(r){return new s.k1({file:new s.yM("",+r===c.Mv.Draft?s.AQ.required:null),fileName:new s.yM("",+r===c.Mv.Draft?s.AQ.required:null),url:new s.yM(""),department:new s.yM(""),departmentCn:new s.yM(""),departmentEn:new s.yM(""),section:new s.yM(""),sectionCn:new s.yM(""),sectionEn:new s.yM(""),userId:new s.yM(""),userName:new s.yM(""),email:new s.yM(""),isSizeError:new s.yM(!1),isTypeError:new s.yM(!1),uploadDate:new s.yM(""),fieldStatus:new s.yM(c.Mp.Inputting),type:new s.yM("")})}getQuestionGroupForm({id:r,questions:t}){if(this.fb){const n=this.fb.group({id:[r,[s.AQ.required]]});return Object.keys(t).forEach(i=>{const{disabled:a,SubQuestionGroup:l}=t[i];n.addControl(i,this.fb.group({remark:[[{content:"",fieldStatus:+this.status===c.Mv.Draft?c.Mp.Inputting:c.Mp.Complete}]],answers:this.getSubQuestionGroup(l)},{validator:be.allSubQuestionsValid()})),a&&n.controls[i].disable()}),n}return new s.k1({})}getSubQuestionGroup(r){if(this.fb){const t=this.fb.group({});return Object.keys(r).forEach(n=>{const{type:i,required:a,disabled:l}=r[n];t.addControl(n,this.fb.control([],this.getValidations(r[n],i===g.MultiSelect||i===g.Checkbox,a))),l&&t.controls[n].disable()}),t}return new s.k1({})}getValidations(r,t,n){const i=r.validation?.map(a=>this.getDynamicValidate(r,a));return[...n?[this.DynamicRequiredValidate(t)]:[],...i??[]]}getDynamicValidate(r,t){return n=>{const i=t.value;switch(t.type){case m.EMAIL_ERROR:return n.value&&n.value.length>0&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.value[0].value)?{email:t.type}:null;case m.EN_NUMBER_ONLY:return this.$dynamicValidator.DynamicEnNumberOnly(n);case m.MAX_ITEMS:return this.$dynamicValidator.DynamicMaxItems(n,+i);case m.MIN_ITEMS:return this.$dynamicValidator.DynamicMinItems(n,+i);case m.MAX_MIN_ITEMS:return this.$dynamicValidator.DynamicMaxMinItems(n,i[0],i[1]);case m.MAX_LENGTH:return this.$dynamicValidator.DynamicMaxLength(n,+i);case m.MIN_LENGTH:return this.$dynamicValidator.DynamicMinLength(n,+i);case m.MAX_MIN_LENGTH:return this.$dynamicValidator.DynamicMaxMinLength(n,i[0],i[1]);case m.NUMBER_ONLY:return this.$dynamicValidator.DynamicNumberOnly(n);default:return null}}}DynamicRequiredValidate(r=!1){return({value:t})=>{const n=r?t.length>0:!!t[0]&&t[0].value.length>0,i={};return i[`${m.REQUIRED}`]=this.$translate.instant(m.REQUIRED),n?null:i}}getDataForQuestion(r){return{...r,fileForm:this.form.get("attachment"),groupsView:r.groups.map((t,n)=>({...t,form:this.getGroupForm(n),questions:Object.entries(t.questions).sort((i,a)=>i[1].order-a[1].order).map(i=>(z.set(i[0],this.getQuestionForm(n,i[0])),{...i[1],show:!0,questionId:i[0],form:this.getQuestionForm(n,i[0]),SubQuestionGroupForm:this.getQuestionForm(n,i[0]).get("answers"),SubQuestionGroup:Object.entries(i[1].SubQuestionGroup).map(a=>{const l={...a[1],show:!0,answerId:a[0],form:this.getSubQuestionValueForm(n,i[0],a[0]),options:this.chunkArray(a[1].options,this.maxOptionInLine),optionsForNormal:a[1].options?.map(p=>({code:p.value,name:p.label,hasMemo:p.memo})),validationView:this.getValidationView(a[1])};return""===i[0]&&this.hideExpressions.push([...a[1].hideExpression.map(p=>({...p,selfQuestionId:i[0],selfAnswerId:a[0]}))]),l})}))}))}}getValidationView(r){return[...r.required?[{type:m.REQUIRED}]:[],...(r.validation??[]).flatMap(t=>t?[t]:[])]}getGroupForm(r){return this.form.get("answers").controls[r]}getQuestionForm(r,t){return this.form.get("answers").controls[r].get(t)}getSubQuestionValueForm(r,t,n){return this.form.get("answers").controls[r].get(t).get("answers")?.get(n)}chunkArray(r,t){const n=[];if(r&&r.length>0)for(let i=0;i<r.length;i+=t)n.push(r.slice(i,i+t));return n}}var A=d(3168),xe=d(8240),H=d(4048),X=d(7048);let Oe=(()=>{class o{constructor(t){this.http=t,this.cabBaseUrl="/api/cab"}postNewBasicInfo(t){return this.http.post(this.cabBaseUrl+"/basic",t)}getApplicationQuestion(t,n){const i=[];return i.push(`cab=${t}`),n&&i.push(`version=${n}`),this.http.get(this.cabBaseUrl+"/template"+(i.length>0?`?${i.join("&")}`:""))}getApplicationForm(t,n){return this.http.get(this.cabBaseUrl+`/answer/${t}/${n}`)}getApplicationList(){return this.http.get(this.cabBaseUrl+"/answer/list")}postApplicationFormDraft(t){return this.http.post(this.cabBaseUrl+"/draft",t)}putApplicationFormDraft(t){return this.http.put(this.cabBaseUrl+"/draft",t)}postApplicationForm(t){return this.http.post(this.cabBaseUrl+"/answer",t)}putApplicationForm(t){return this.http.put(this.cabBaseUrl+"/answer",t)}upload(t){const n=new FormData;return n.append("file",t),this.http.post(this.cabBaseUrl+"/upload",n)}download(t){return this.http.get(this.cabBaseUrl+`/download/file/${t}`,{responseType:"blob",observe:"response"})}downloadTemp(){return this.http.get(this.cabBaseUrl+"/download/temp",{responseType:"blob",observe:"response"})}putSupplementDraft(t){return this.http.post(this.cabBaseUrl+"/supplement/draft",t)}completeSupplement(t,n){return this.http.post(this.cabBaseUrl+"/supplement",{projectId:t,cabId:n})}getReviewerAdvice(t){return this.http.get(this.cabBaseUrl+`/comment/${t}`)}updateReviewerAdvice(t,n){return this.http.put(this.cabBaseUrl+`/comment/${t}`,n)}postReviewerAdvice(t,n){return this.http.post(this.cabBaseUrl+`/comment/${t}`,n)}postCabSchedule(t){return this.http.post(this.cabBaseUrl+"/schedule",t)}putCabSchedule(t){return this.http.put(this.cabBaseUrl+"/schedule",t)}deleteCabSchedule(t){return this.http.put(this.cabBaseUrl+"/schedule/cancel",t)}getCabRecords(t){return this.http.get(this.cabBaseUrl+`/records/${t}`)}getReviewerPosition(){return this.http.get(this.cabBaseUrl+"/reviewer")}getCabRoles(){return this.http.get(this.cabBaseUrl+"/roles")}putCabRoles(t){return this.http.put(this.cabBaseUrl+"/roles",t)}static#e=this.\u0275fac=function(n){return new(n||o)(e.CoB(X.KK))};static#t=this.\u0275prov=e.wxM({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var ve=d(5560),Me=d(4476);let J=(()=>{class o{constructor(t){this.$translate=t}DynamicEnNumberOnly(t){const n=t.value.every(({value:a})=>/^[a-zA-Z0-9]+$/.test(`${a}`)),i={};return i[`${m.EN_NUMBER_ONLY}`]=this.$translate.instant(m.EN_NUMBER_ONLY),n?null:i}DynamicNumberOnly(t){const n=t.value.every(({value:a})=>/^[0-9]+$/.test(`${a}`)),i={};return i[`${m.NUMBER_ONLY}`]=this.$translate.instant(m.NUMBER_ONLY),n?null:i}DynamicMaxMinLength(t,n,i){const a=t.value,l=!(a.length>0)||a[0].value.length<=i&&a[0].value.length>=n,p={};return p[`${m.MAX_MIN_LENGTH}`]=`${this.$translate.instant(m.MAX_MIN_LENGTH)}(${n}-${i})`,l?null:p}DynamicMaxLength(t,n){const i=!(t.value.length>0)||t.value[0].value.length<=n,a={};return a[`${m.MAX_LENGTH}`]=`${this.$translate.instant(m.MAX_LENGTH)}(${n})`,i?null:a}DynamicMinLength(t,n){const i=!(t.value.length>0)||t.value[0].value.length>=n,a={};return a[`${m.MIN_LENGTH}`]=`${this.$translate.instant(m.MIN_LENGTH)}(${n})`,i?null:a}DynamicMaxMinItems(t,n,i){const a=t.value.length<=i&&t.value.length>=n,l={};return l[`${m.MAX_MIN_ITEMS}`]=`${this.$translate.instant(m.MAX_MIN_ITEMS)}(${n}-${i})`,a?null:l}DynamicMaxItems(t,n){const i=t.value.length<=n,a={};return a[`${m.MAX_ITEMS}`]=`${this.$translate.instant(m.MAX_ITEMS)}(${n})`,i?null:a}DynamicMinItems(t,n){const i=t.value.length>=n,a={};return a[`${m.MIN_ITEMS}`]=`${this.$translate.instant(m.MIN_ITEMS)}(${n})`,i?null:a}static#e=this.\u0275fac=function(n){return new(n||o)(e.CoB(y.qS))};static#t=this.\u0275prov=e.wxM({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var f=d(2756),w=d(5264);function we(o,r){if(1&o&&e.wR5(0,"em"),2&o){const t=e.GaO(3).$implicit;e.m8U(t.iconClasses)}}function Ie(o,r){if(1&o&&(e.I0R(0,"div",7),e.OEk(1),e.wVc(2,"translate"),e.yuY(3,we,1,3,"em",8),e.C$Y()),2&o){const t=e.GaO(2).$implicit;e.yG2(),e.oRS(" ",e.kDX(2,2,t.titleI18n)," "),e.yG2(2),e.E7m("ngIf",t.iconClasses)}}function ke(o,r){if(1&o&&(e.wR5(0,"div",10),e.wVc(1,"safeHtml")),2&o){const t=e.GaO(3).$implicit;e.E7m("@upInCompressOut",void 0)("innerHTML",e.kDX(1,2,t.innerHTML),e.E3n)}}function Ee(o,r){if(1&o&&e.yuY(0,ke,2,4,"div",9),2&o){const t=e.GaO(2).$implicit;e.E7m("ngIf",t.innerHTML)}}function Pe(o,r){if(1&o){const t=e.KQA();e.SAx(0),e.I0R(1,"input",3),e.iHE("ngModelChange",function(i){e.usT(t);const a=e.GaO(2);return e.kNx(a.model,i)||(a.model=i),e.CGJ(i)}),e.C$Y(),e.I0R(2,"label",4),e.qCj("click",function(){e.usT(t);const i=e.GaO().$implicit,a=e.GaO();return e.CGJ(a.toggle(i))}),e.yuY(3,Ie,4,4,"div",5),e.C$Y(),e.yuY(4,Ee,1,1,"ng-template",null,6,e.gJz),e.k70()}if(2&o){const t=e.Gew(5),n=e.GaO(),i=n.$implicit,a=n.index,l=e.GaO();let p,_;e.yG2(),e.E7m("value",i.value)("id","tab"+a),e.OKB("ngModel",l.model),e.yG2(),e.qim("w-90p h-100 d-flex align-items-center justify-content-",l.tabTextAlign," text-",l.tabTextAlign," py-2_5 mb-0 fs-xsm fw-7 pe-pointer mx-2"),e.m4B("padding",null!==(p=l.tabPadding)&&void 0!==p?p:"0 0")("width",null!==(_=l.tabWidth)&&void 0!==_?_:"auto"),e.E7m("for","tab"+a),e.yG2(),e.E7m("ngIf",!i.innerHTML)("ngIfElse",t)}}function Ge(o,r){if(1&o&&(e.I0R(0,"li"),e.yuY(1,Pe,6,14,"ng-container",2),e.C$Y()),2&o){const t=r.$implicit,n=e.GaO();e.m8U(n.isEvenlyDistribute?"isEvenly":"notEvent"),e.yG2(),e.E7m("ngIf",!t.hide)}}let Fe=(()=>{class o extends f.E{constructor(){super(),this.tabs=[],this.isEvenlyDistribute=!0,this.tabTextAlign="center",this.defaultTab=0,this.tabIndex=new e._w7,this.model="",this.disabled=!1}ngOnChanges({defaultTab:t}){t&&(this.model=`${this.defaultTab}`,this.notifyValueChange())}toggle(t){this.notifyValueChange(`${t.value}`),this.tabIndex.emit(t.value)}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-tabs"]],inputs:{tabs:"tabs",isEvenlyDistribute:"isEvenlyDistribute",tabTextAlign:"tabTextAlign",containerPadding:"containerPadding",tabWidth:"tabWidth",tabPadding:"tabPadding",tabContainerPadding:"tabContainerPadding",defaultTab:"defaultTab"},outputs:{tabIndex:"tabIndex"},features:[e.M5G([(0,f.I)(o)]),e.eg9,e.SYr],decls:3,vars:6,consts:[[1,"w-100","d-flex","flex-wrap","pb-0","mb-0"],[3,"class",4,"ngFor","ngForOf"],[4,"ngIf"],["type","radio","name","tabGroup",1,"d-none",3,"value","id","ngModel","ngModelChange"],[3,"for","click"],["class","text d-flex align-items-center",4,"ngIf","ngIfElse"],["tInnerHtml",""],[1,"text","d-flex","align-items-center"],[3,"class",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"]],template:function(n,i){1&n&&(e.I0R(0,"div")(1,"ul",0),e.yuY(2,Ge,2,4,"li",1),e.C$Y()()),2&n&&(e.uQ9("tab-container mt-2_5 mb-3 ",i.containerPadding?"":"pl-4 pr-20",""),e.m4B("padding",i.containerPadding),e.yG2(2),e.E7m("ngForOf",i.tabs))},dependencies:[u.ay,u.u_,s.ot,s.ye,s.ue,s._G,y.sD,U.K],styles:['.tab-container[_ngcontent-%COMP%]{border-bottom:1px solid #e7e7e7}.tab-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tab-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#44b787!important}.tab-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;height:3px;width:100%;color:#44b787;background-color:#44b787}.tab-container[_ngcontent-%COMP%]   li.isEvenly[_ngcontent-%COMP%]{flex:1}.tab-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:relative;width:auto}.tab-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#e7e7e7}.tab-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover     p{color:#44b787!important}.tab-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:first-of-type{margin-left:0!important}.tab-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{border-radius:50%}p[_ngcontent-%COMP%]{margin:0}'],data:{animation:[(0,w.IH)()]}})}return o})(),De=(()=>{class o{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-go-top-button"]],decls:1,vars:0,consts:[[1,"bg-green-middle","rounded-circle","border-none"]],template:function(n,i){1&n&&e.wR5(0,"button",0)},styles:['@keyframes _ngcontent-%COMP%_subExpand{0%{height:0;transform:translateY(-60%);opacity:0}60%{height:50%;transform:translateY(-30%);opacity:0;position:relative}to{height:auto;transform:translateY(0);opacity:1;z-index:0;position:relative}}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fade-up-in{0%{margin-top:10px;opacity:0}to{margin-top:0;opacity:1}}@keyframes _ngcontent-%COMP%_fade-up-out{0%{margin-top:0;opacity:1}to{margin-top:-20px;opacity:0}}@keyframes _ngcontent-%COMP%_spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_floatPopIn{0%{margin-top:0;opacity:0}30%{margin-top:-20px;opacity:.5}to{margin-top:0;opacity:1}}@keyframes _ngcontent-%COMP%_popIn{0%{margin-top:0;opacity:0}40%{margin-top:-20px;opacity:.3}90%{margin-top:0;opacity:.4}to{margin-top:0;opacity:1}}[_nghost-%COMP%]{display:flex;position:fixed;bottom:20px;animation:_ngcontent-%COMP%_rightIn 2s forwards}button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:50px;height:50px;padding-top:7px;border:none;animation:_ngcontent-%COMP%_fade-in 2s}button[_ngcontent-%COMP%]:after{content:"";display:flex;width:18px;height:18px;border-top:3px solid #fff;border-right:3px solid #fff;border-end-end-radius:3px;border-start-start-radius:3px;transform:rotate(-45deg)}@keyframes _ngcontent-%COMP%_rightIn{0%{right:-50px}to{right:17px}}']})}return o})();var W=d(4081),F=d(4576),Z=d(2908);function Te(o,r){1&o&&e.wR5(0,"em",12)}function Re(o,r){if(1&o&&(e.I0R(0,"p"),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&o){const t=e.GaO(2);e.eAK("hasMemo",t.option.hasMemo),e.yG2(),e.oRS(" ",e.kDX(2,3,t.option.name),"")}}function Se(o,r){if(1&o){const t=e.KQA();e.I0R(0,"input",13),e.iHE("ngModelChange",function(i){e.usT(t);const a=e.GaO(2);return e.kNx(a.memo,i)||(a.memo=i),e.CGJ(i)}),e.qCj("input",function(i){e.usT(t);const a=e.GaO(2);return e.CGJ(a.onMemoInput(i))}),e.wVc(1,"translate"),e.C$Y()}if(2&o){e.GaO();const t=e.Gew(2),n=e.GaO();let i;e.E7m("type",null!==(i=n.option.memoInputType)&&void 0!==i?i:"text"),e.OKB("ngModel",n.memo),e.E7m("placeholder",e.kDX(1,4,n.option.memoPlaceholder?n.option.memoPlaceholder:"cab.comment-send-placeholder"))("disabled",n.disabled||!t.checked)}}function $e(o,r){if(1&o&&(e.I0R(0,"div",14),e.OEk(1),e.C$Y()),2&o){const t=e.GaO(2);e.yG2(),e.cNF(t.errorMessage)}}function Ye(o,r){if(1&o){const t=e.KQA();e.SAx(0),e.I0R(1,"input",2,3),e.qCj("change",function(i){e.usT(t);const a=e.GaO();return e.CGJ(a.disabled?null:a.change(i))}),e.C$Y(),e.I0R(3,"label",4)(4,"div",5),e.wR5(5,"em",6),e.yuY(6,Te,1,0,"em",7),e.C$Y(),e.I0R(7,"div",8),e.yuY(8,Re,3,5,"p",9)(9,Se,2,6,"input",10),e.C$Y(),e.yuY(10,$e,2,1,"div",11),e.C$Y(),e.k70()}if(2&o){const t=e.GaO();e.yG2(),e.E7m("value",t.option.code)("disabled",t.disabled)("name","checkbox-"+t.name)("id",t.id)("checked",void 0===t.checked?t.model===t.option.code:t.checked),e.yG2(2),e.eAK("noData",t.noData)("error",t.isError)("isInGroup",t.isInGroup),e.E7m("for",t.id),e.yG2(3),e.E7m("ngIf",t.noData),e.yG2(2),e.E7m("ngIf",null==t.option?null:t.option.name),e.yG2(),e.E7m("ngIf",t.option.hasMemo),e.yG2(),e.E7m("ngIf",t.errorMessage&&t.isError)}}function Ae(o,r){1&o&&e.wR5(0,"em",12)}function Ne(o,r){if(1&o&&(e.wR5(0,"input",15),e.I0R(1,"label",16)(2,"div",5),e.yuY(3,Ae,1,0,"em",7),e.C$Y()()),2&o){const t=e.GaO();e.yG2(3),e.E7m("ngIf",t.noData)}}let N=(()=>{class o extends f.E{constructor(){super(...arguments),this.id="",this.name="checkbox",this.disabled=!1,this.noData=!1,this.isError=!1,this.memo="",this.errorMessage="",this.isInGroup=!1,this.valueChange=new e._w7,this.memoChange=new e._w7}get currentValue(){return{value:this.checked?this.option.code:null,memo:this.memo}}onMemoInput(t){this.disabled||(this.notifyValueChange(this.currentValue),this.valueChange.emit(this.currentValue),this.memoChange.emit(this.memo))}change(t){this.checked=t.target.checked,this.notifyValueChange(this.currentValue),this.valueChange.emit(this.currentValue)}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.otF(o)))(i||o)}})();static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-checkbox"]],inputs:{id:"id",name:"name",checked:"checked",option:"option",disabled:"disabled",noData:"noData",isError:"isError",memo:"memo",errorMessage:"errorMessage",isInGroup:"isInGroup"},outputs:{valueChange:"valueChange",memoChange:"memoChange"},features:[e.M5G([(0,f.I)(o)]),e.eg9],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["tNoData",""],["type","checkbox",1,"d-none",3,"value","disabled","name","id","checked","change"],["tCheckbox",""],[1,"d-flex","align-items-start","pr-2","pe-pointer",3,"for"],[1,"checkbox","d-flex","align-items-center","justify-content-center","ml-2","mr-2_5"],[1,"icon-check-thick"],["class","icon-minus",4,"ngIf"],[1,"d-flex","flex-wrap"],[3,"hasMemo",4,"ngIf"],["class","input","id","otherInput",3,"type","ngModel","placeholder","disabled","ngModelChange","input",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"icon-minus"],["id","otherInput",1,"input",3,"type","ngModel","placeholder","disabled","ngModelChange","input"],[1,"error-message"],["type","checkbox",1,"d-none"],[1,"d-flex","align-items-start","pr-2","pe-pointer"]],template:function(n,i){if(1&n&&e.yuY(0,Ye,11,16,"ng-container",0)(1,Ne,4,1,"ng-template",null,1,e.gJz),2&n){const a=e.Gew(2);e.E7m("ngIf",i.option)("ngIfElse",a)}},dependencies:[u.u_,s.ot,s.ue,s._G,y.sD],styles:["[_nghost-%COMP%]{display:flex}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{width:100%;padding-top:2px;padding-bottom:2px;border-radius:4px}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   .isInGroup[_ngcontent-%COMP%]{margin-bottom:5px;margin-right:2px}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{position:relative;width:1rem;min-width:1rem;margin-top:.25rem;height:1rem;background-color:#fff;border-radius:3px;border:1px solid #a4a4a4;transition:.2s ease}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]:first-of-type{font-size:9px;visibility:hidden;color:#fff}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]:nth-of-type(2){position:absolute;left:-1px;color:#a4a4a4}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]:nth-of-type(2):hover{opacity:1}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#2c2c2c;word-break:break-all}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   p.hasMemo[_ngcontent-%COMP%]{margin-right:10px;word-break:keep-all}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:9rem;height:1.4rem;border:none;border-bottom:1px solid #a4a4a4;border-radius:5px;transition:.1s ease;margin:2px 2px 2px 0}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:disabled):hover{border:1.5px solid var(--primary-color)}input[_ngcontent-%COMP%] + label.noData[_ngcontent-%COMP%]{cursor:default}input[_ngcontent-%COMP%] + label.noData[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a4a4a4}input[_ngcontent-%COMP%] + label.error[_ngcontent-%COMP%]{background-image:none;background-color:transparent!important;padding-right:8px!important;border:none}input[_ngcontent-%COMP%] + label.error[_ngcontent-%COMP%]:not(:disabled):hover{background-color:var(--warn-background-hover)!important}input[_ngcontent-%COMP%] + label.error[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{border-color:var(--warn-color)!important}input[_ngcontent-%COMP%] + label.error[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:not(:disabled):hover{border:1.5px solid var(--warn-color)!important}input[_ngcontent-%COMP%]:not(:disabled) + label[_ngcontent-%COMP%]:not(.noData):hover{background-color:var(--primary-background-hover)}input[_ngcontent-%COMP%]:not(:disabled) + label[_ngcontent-%COMP%]:not(.noData):hover   .checkbox[_ngcontent-%COMP%]{border:1.5px solid #44b787}input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{border:1px solid var(--primary-color);background-color:var(--primary-color)}input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]:first-of-type{visibility:visible}input[_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]{cursor:default}input[_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{background-color:#f4f4f4}input[_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a4a4a4}"]})}return o})();function qe(o,r){if(1&o){const t=e.KQA();e.I0R(0,"app-checkbox",5),e.qCj("valueChange",function(i){e.usT(t);const a=e.GaO().index,l=e.GaO(2);return e.CGJ(l.change(i,a))})("memoChange",function(i){e.usT(t);const a=e.GaO().index,l=e.GaO(2);return e.CGJ(l.onMemoChange(i,a))}),e.C$Y()}if(2&o){const t=e.GaO(),n=t.$implicit,i=t.index,a=e.GaO(2);let l;e.E7m("option",n)("name","checkbox-"+a.name)("id",a.name+"-"+i)("memo",null!==(l=n.memo)&&void 0!==l?l:"")("disabled",a.disabled)("isError",a.isError)("checked",n.isSelect)("isInGroup",!0)}}function Ve(o,r){if(1&o&&(e.SAx(0),e.yuY(1,qe,1,8,"app-checkbox",4),e.k70()),2&o){const t=r.$implicit;e.yG2(),e.E7m("ngIf",!0===t.show||void 0===t.show)}}function Be(o,r){if(1&o&&(e.SAx(0),e.yuY(1,Ve,2,1,"ng-container",3),e.k70()),2&o){const t=e.GaO();e.yG2(),e.E7m("ngForOf",t.checkboxes)}}function Qe(o,r){if(1&o&&(e.I0R(0,"div",6),e.OEk(1),e.C$Y()),2&o){const t=e.GaO();e.yG2(),e.cNF(t.errorMessage)}}const Le=()=>({name:"\u7121\u8cc7\u6599",code:""});function je(o,r){if(1&o&&e.wR5(0,"app-checkbox",7),2&o){const t=e.GaO();e.E7m("option",e.q4q(3,Le))("noData",!0)("name","checkbox-"+t.name)}}let D=(()=>{class o extends f.E{constructor(){super(...arguments),this.name="checkbox",this.options=[],this.disabled=!1,this.direction="row",this.hasOtherInput=!1,this.isError=!1,this.errorMessage="",this.checkboxes=[],this.model=[],this.form=new s.WC({checks:new s.Sg([])})}get f(){return this.form.get("checks")}ngOnInit(){const t=setTimeout(()=>{this.setCheckboxIfChecked(),clearTimeout(t)},100)}ngAfterViewInit(){this.options&&this.options?.length>0&&this.model&&this.model?.length>0&&this.init()}ngOnChanges({options:t}){t&&t.currentValue&&(this.options=t.currentValue,this.setCheckboxIfChecked())}onMemoChange(t,n){this.checkboxes[n].memo=t;const i=this.model.findIndex(l=>l.value===this.checkboxes[n].code),a=this.model;a[i].memo=t,this.notifyValueChange(a)}change(t,n){if(null!==t.value)if(this.model&&this.model.some(i=>i.value===t.value)){if(t.memo!==this.model.find(i=>i.value===t.value)?.memo){const i=this.model.findIndex(a=>a.value===t.value);this.model[i].memo=t.memo}}else this.model.push({value:t.value,memo:t.memo});else this.writeValue(this.model.filter(i=>i.value&&i.value!==this.checkboxes[n].code));this.notifyValueChange(this.model)}setCheckboxIfChecked(){this.checkboxes=this.options.map(t=>{const n=this.model.find(i=>+i.value==+t.code);return{...t,memo:n?n.memo:"",isSelect:!!this.model&&this.model.some(i=>t.code===("object"==typeof i&&null!==i?i.value:i))}})}init(){const t=setTimeout(()=>{this.setCheckboxIfChecked(),clearTimeout(t)})}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.otF(o)))(i||o)}})();static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-checkbox-set"]],inputs:{name:"name",options:"options",disabled:"disabled",direction:"direction",hasOtherInput:"hasOtherInput",isError:"isError",errorMessage:"errorMessage"},features:[e.M5G([(0,f.I)(o)]),e.eg9,e.SYr],decls:5,vars:6,consts:[[4,"ngIf","ngIfElse"],["class","error-message",4,"ngIf"],["tNoData",""],[4,"ngFor","ngForOf"],[3,"option","name","id","memo","disabled","isError","checked","isInGroup","valueChange","memoChange",4,"ngIf"],[3,"option","name","id","memo","disabled","isError","checked","isInGroup","valueChange","memoChange"],[1,"error-message"],[3,"option","noData","name"]],template:function(n,i){if(1&n&&(e.I0R(0,"div"),e.yuY(1,Be,2,1,"ng-container",0),e.C$Y(),e.yuY(2,Qe,2,1,"div",1)(3,je,1,4,"ng-template",null,2,e.gJz)),2&n){const a=e.Gew(4);e.uQ9("d-flex flex-",i.direction," flex-wrap"),e.yG2(),e.E7m("ngIf",!!i.options.length)("ngIfElse",a),e.yG2(),e.E7m("ngIf",i.errorMessage&&i.isError)}},dependencies:[u.ay,u.u_,N],styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%]:first-of-type{margin-left:-.5rem}[_nghost-%COMP%] > div[_ngcontent-%COMP%]:first-of-type > div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:9rem;height:2rem;margin:2px 2px 2px 5px;border-radius:5px}"]})}return o})();function ze(o,r){if(1&o&&(e.I0R(0,"div",2),e.OEk(1),e.C$Y()),2&o){const t=e.GaO();e.yG2(),e.cNF(t.errorMessage)}}let T=(()=>{class o extends f.E{constructor(){super(...arguments),this.type="text",this.id="input",this.placeholder="\u8acb\u8f38\u5165...",this.disabled=!1,this.isError=!1,this.isDynamic=!1,this.size=c.ui.M}input(t){this.trim(t);const n=t.target.value;this.notifyValueChange(this.isDynamic?[{value:n,memo:""}]:n)}trim(t){const n=t.target;n.value=n.value.trim()}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.otF(o)))(i||o)}})();static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-input"]],inputs:{type:"type",id:"id",placeholder:"placeholder",errorMessage:"errorMessage",disabled:"disabled",isError:"isError",isDynamic:"isDynamic",size:"size"},features:[e.M5G([(0,f.I)(o)]),e.eg9],decls:2,vars:10,consts:[["pattern","[0-9]+(\\.[0-9]{1,2})?",3,"ngModel","type","disabled","placeholder","keyup"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(n,i){1&n&&(e.I0R(0,"input",0),e.qCj("keyup",function(l){return i.input(l)}),e.C$Y(),e.yuY(1,ze,2,1,"div",1)),2&n&&(e.uQ9("input w-100 ",i.size,""),e.eAK("error",i.isError),e.E7m("ngModel",i.isDynamic?i.model[0].value:i.model)("type",i.type)("disabled",i.disabled)("placeholder",i.placeholder),e.yG2(),e.E7m("ngIf",i.errorMessage&&i.isError))},dependencies:[u.u_,s.ot,s.ue,s.E1,s._G],styles:["input.s[_ngcontent-%COMP%]{height:1.8rem;padding-left:.5rem;border-radius:var(--form-radius-s)}"]})}return o})();var Ke=d(4996);function Ue(o,r){if(1&o&&e.wR5(0,"em"),2&o){const t=e.GaO();e.uQ9(" ",t.icon," fs-xs fw-7 mr-2")}}const He=["*"];let ee=(()=>{class o extends W.Q{constructor(){super(...arguments),this.title="",this.icon="",this.type=c._o.Default,this.size=c.ui.M,this.hasBg=!0}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.otF(o)))(i||o)}})();static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-borderless-button"]],inputs:{title:"title",icon:"icon",type:"type",size:"size",hasBg:"hasBg"},features:[e.eg9],ngContentSelectors:He,decls:4,vars:7,consts:[[3,"class",4,"ngIf"]],template:function(n,i){1&n&&(e.kPM(),e.I0R(0,"button"),e.yuY(1,Ue,1,3,"em",0),e.I0R(2,"p"),e._Xx(3),e.C$Y()()),2&n&&(e.qim("",i.type," ",i.size," d-flex align-items-center"),e.eAK("hasBg",i.hasBg),e.yG2(),e.E7m("ngIf",i.icon))},dependencies:[u.u_],styles:["[_nghost-%COMP%]{display:inline-block}button[_ngcontent-%COMP%]{color:#6d6d6d;letter-spacing:1px;border-radius:6px;outline:none;white-space:nowrap;border:none;background-color:transparent;box-sizing:border-box;transition:.05s;border:1px solid transparent}button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{letter-spacing:2px}button.primary[_ngcontent-%COMP%]{color:var(--primary-text-color)}button.primary.hasBg[_ngcontent-%COMP%]{filter:brightness(99%);background-color:var(--primary-background-hover)}button.warn[_ngcontent-%COMP%]{color:var(--warn-color)}button.warn.hasBg[_ngcontent-%COMP%]{filter:brightness(99%);background-color:var(--warn-background-hover)}button.default[_ngcontent-%COMP%]{color:#2c2c2c}button.default.hasBg[_ngcontent-%COMP%]{filter:brightness(99%);background-color:#f4f4f4}button.s[_ngcontent-%COMP%]{padding-right:.3rem;padding-left:.3rem;font-weight:400;font-size:1rem;border-radius:var(--form-radius-s)}button.m[_ngcontent-%COMP%]{padding-right:.4rem;padding-left:.4rem;font-weight:400;font-size:1.1rem;border-radius:var(--form-radius-m)}button[_ngcontent-%COMP%]:hover{background-color:#f4f4f4}button[_ngcontent-%COMP%]:hover.hasBg{filter:saturate(130%) brightness(103%)!important}"]})}return o})();const Xe=()=>({name:"\u6709\u8aaa\u660e\u6b04\u4f4d",code:!0});function Je(o,r){if(1&o&&e.wR5(0,"app-checkbox",8),2&o){const t=e.GaO().index;e.E7m("option",e.q4q(2,Xe))("id",""+t)}}function We(o,r){if(1&o){const t=e.KQA();e.I0R(0,"li",4),e.wR5(1,"app-input",5),e.yuY(2,Je,1,3,"app-checkbox",6),e.I0R(3,"app-icon-button",7),e.qCj("click",function(){const a=e.usT(t).index,l=e.GaO();return e.CGJ(l.listForm.controls.list.removeAt(a))}),e.C$Y()()}if(2&o){const t=r.index,n=e.GaO();e.E7m("@verticalShortenOut",void 0)("formGroup",n.listForm.controls.list.controls[t]),e.yG2(),e.E7m("size",n.sizeType.S),e.yG2(),e.E7m("ngIf","icon-add"),e.yG2(),e.E7m("classes","icon-cancel-thick text-grey-black fs-xs fw-9")("size",n.sizeType.S)}}let Ze=(()=>{class o extends f.E{constructor(){super(),this.list=[],this.onAddEmptyItem=new e._w7,this.listFormInit=new s.WC({list:new s.Sg([])}),this.listForm=this.listFormInit}get sizeType(){return c.ui}ngOnInit(){this.recCreateListForm([])}ngOnChanges({list:t}){t&&t.currentValue&&this.recCreateListForm(t.currentValue)}addEmptyItem(){this.listForm.controls.list.controls.push(new s.WC({content:new s.Ku(""),hasMemo:new s.Ku(!1)})),this.listForm.controls.list.controls[this.listForm.controls.list.controls.length-1].valueChanges.pipe((0,x.a)(this.onDestroy$)).subscribe(t=>{this.listForm.controls.list.updateValueAndValidity()}),this.listForm.controls.list.updateValueAndValidity(),this.onAddEmptyItem.emit()}recCreateListForm(t){this.listForm=this.listFormInit,t.length?t.forEach((n,i)=>{console.log("aa-item",n),this.listForm.get("list").controls.push(new s.WC({content:new s.Ku(n.name),hasMemo:new s.Ku(n.hasMemo)})),this.listForm.controls.list.controls[i].valueChanges.pipe((0,x.a)(this.onDestroy$)).subscribe(a=>{this.listForm.controls.list.updateValueAndValidity()})}):this.addEmptyItem(),this.listForm.controls.list.valueChanges.pipe((0,x.a)(this.onDestroy$)).subscribe(n=>{this.notifyValueChange(n),console.log("aa-listForm",this.listForm.value)}),this.listForm.controls.list.updateValueAndValidity()}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-dynamic-input-list"]],inputs:{list:"list"},outputs:{onAddEmptyItem:"onAddEmptyItem"},features:[e.M5G([(0,f.I)(o)]),e.eg9,e.SYr],decls:5,vars:5,consts:[[1,"ml-1","mb-1",3,"icon","size","click"],[1,"d-flex",3,"formGroup"],[1,"d-flex","flex-column",3,"formArrayName"],["class","d-flex align-items-center p-1",3,"formGroup",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","p-1",3,"formGroup"],["formControlName","content",3,"size"],["class","ml-2","formControlName","hasMemo",3,"option","id",4,"ngIf"],[1,"ml-2",3,"classes","size","click"],["formControlName","hasMemo",1,"ml-2",3,"option","id"]],template:function(n,i){1&n&&(e.I0R(0,"app-borderless-button",0),e.qCj("click",function(){return i.addEmptyItem()}),e.OEk(1,"\n\u65b0\u589e\u9805\u76ee"),e.C$Y(),e.I0R(2,"form",1)(3,"ul",2),e.yuY(4,We,4,6,"li",3),e.C$Y()()),2&n&&(e.E7m("icon","icon-add")("size",i.sizeType.S),e.yG2(2),e.E7m("formGroup",i.listForm),e.yG2(),e.E7m("formArrayName","list"),e.yG2(),e.E7m("ngForOf",i.listForm.controls.list.controls))},dependencies:[u.ay,u.u_,s.sz,s.ue,s.u,s.uW,s.Wo,s.uE,Ke.i,ee,N,T],styles:["ul[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:auto;border-radius:var(--form-radius-sm)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f4f4f4}"],data:{animation:[(0,w.aS)()]}})}return o})();function et(o,r){if(1&o&&(e.I0R(0,"div",17)(1,"p",7),e.OEk(2,"\u9a57\u8b49"),e.C$Y(),e.wR5(3,"app-checkbox-set",18),e.C$Y()),2&o){const t=e.GaO();e.E7m("@verticalShortenOut",void 0),e.yG2(3),e.E7m("options",t.validationOptions)("name","validations")}}function tt(o,r){if(1&o){const t=e.KQA();e.I0R(0,"div",19)(1,"p",7),e.OEk(2,"\u9078\u9805"),e.C$Y(),e.I0R(3,"app-dynamic-input-list",20),e.qCj("onAddEmptyItem",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.onAddEmptyItem())}),e.C$Y()()}if(2&o){const t=e.GaO();e.yG2(3),e.E7m("list",t.data.SubQuestionGroup[0].optionsForNormal)}}let nt=(()=>{class o extends K.o{constructor(t){super(t),this.dialog=t,this.questionForm=new s.WC({required:new s.Ku(!1,s.AQ.required),title:new s.Ku("",s.AQ.required),des:new s.Ku(""),placeholder:new s.Ku(""),fieldType:new s.Ku(null,s.AQ.required),validation:new s.Ku([]),options:new s.Ku([])}),this.validationForm=new s.WC({}),this.fieldTypeList=[{code:g.Checkbox,name:"field."+g.Checkbox},{code:g.DatePicker,name:"field."+g.DatePicker},{code:g.DatePickerRange,name:"field."+g.DatePickerRange},{code:g.Input,name:"field."+g.Input},{code:g.MultiSelect,name:"field."+g.MultiSelect},{code:g.Radio,name:"field."+g.Radio},{code:g.Select,name:"field."+g.Select},{code:g.TextArea,name:"field."+g.TextArea},{code:g.Toggle,name:"field."+g.Toggle}],this.validationOptionsSource=[{code:m.EMAIL_ERROR,name:m.EMAIL_ERROR},{code:m.EN_NUMBER_ONLY,name:m.EN_NUMBER_ONLY},{code:m.NUMBER_ONLY,name:m.NUMBER_ONLY,memoInputType:v.Number},{code:m.MAX_ITEMS,name:m.MAX_ITEMS,hasMemo:!0,memoPlaceholder:"\u8acb\u586b\u6578\u5b57",memoInputType:v.Number},{code:m.MIN_ITEMS,name:m.MIN_ITEMS,hasMemo:!0,memoPlaceholder:"\u8acb\u586b\u6578\u5b57",memoInputType:v.Number},{code:m.MAX_MIN_ITEMS,name:m.MAX_MIN_ITEMS,hasMemo:!0,memoType:Y.Range,memoInputType:v.Number},{code:m.MAX_LENGTH,name:m.MAX_LENGTH,hasMemo:!0,memoPlaceholder:"\u8acb\u586b\u6578\u5b57",memoInputType:v.Number},{code:m.MIN_LENGTH,name:m.MIN_LENGTH,hasMemo:!0,memoPlaceholder:"\u8acb\u586b\u6578\u5b57",memoInputType:v.Number},{code:m.MAX_MIN_LENGTH,name:m.MAX_MIN_LENGTH,hasMemo:!0,memoType:Y.Range,memoInputType:v.Number}],this.validationOptions=[],this.showOptionField=!1}onInit(){this.reCreateValidationForm(),this.subscribeQuestionForm(),this.data&&this.setValue(this.data),console.log("aa-dialog",this.data)}submit(){console.log("aa-form value",this.questionForm.value)}setValue(t){console.log("aa-setValue",t),this.questionForm.patchValue({required:t.SubQuestionGroup[0].required,title:t.title,des:t.description,placeholder:t.SubQuestionGroup[0].placeholder,fieldType:t.SubQuestionGroup[0].type,validation:t.SubQuestionGroup[0].validationView?.map(n=>({type:n.type,value:n.value})),options:t.SubQuestionGroup[0].optionsForNormal.map(n=>({content:n.name,hasMemo:!!n.memo}))})}onAddEmptyItem(){}reCreateValidationForm(){this.validationForm=new s.WC({}),this.validationOptions.forEach(t=>{t.hasMemo&&this.validationForm.addControl(t.code,new s.Ku("",[s.AQ.required,...t.memoInputType===v.Number?[s.AQ.pattern("^[0-9]*$")]:[]]))})}subscribeQuestionForm(){this.questionForm.controls.fieldType.valueChanges.pipe((0,x.a)(this.onDestroy$)).subscribe(t=>{this.questionForm.controls.validation.setValue([]),this.reSetValidationOptions(t),this.reCreateValidationForm(),(t===g.MultiSelect||t===g.Checkbox||t===g.Radio||t===g.Select)&&(this.showOptionField=!0)})}reSetValidationOptions(t){const n=[...this.validationOptionsSource];this.validationOptions=t===g.MultiSelect||t===g.Checkbox?n.filter(i=>i.code===m.MAX_ITEMS||i.code===m.MIN_ITEMS||i.code===m.MAX_MIN_ITEMS):t===g.Input||t===g.TextArea?n.filter(i=>i.code===m.MAX_LENGTH||i.code===m.MIN_LENGTH||i.code===m.MAX_MIN_LENGTH||i.code===m.CN_ONLY||i.code===m.EMAIL_ERROR||i.code===m.EN_NUMBER_ONLY||i.code===m.NUMBER_ONLY):[]}static#e=this.\u0275fac=function(n){return new(n||o)(e.GI1(G.Q))};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-dynamic-field-edit-dialog"]],features:[e.eg9],decls:30,vars:9,consts:[[3,"width","maxWidth","minWidth","closed"],["id","title",1,"fs-lg","fw-4"],["id","body",1,"w-100","d-flex","flex-wrap","px-3",3,"formGroup"],[1,"w-100","d-flex","align-items-center","mr-2","mb-3"],[1,"mr-2"],["formControlName","required"],[1,"w-45p","mr-3","mb-3"],[1,"mb-2"],["formControlName","title"],["formControlName","des"],["formControlName","placeholder"],["formControlName","fieldType",3,"options"],["class","w-100 mr-2 mb-3",4,"ngIf"],["class","w-100 mr-3 mb-3",4,"ngIf"],["id","footer",1,"w-100","d-flex","justify-content-end","mt-2"],[1,"btn","btn-flat","bg-primary-color","text-white","ml-2",3,"disabled","click"],[1,"icon-check","fs-xsm","mr-1"],[1,"w-100","mr-2","mb-3"],["formControlName","validation",3,"options","name"],[1,"w-100","mr-3","mb-3"],["formControlName","options",3,"list","onAddEmptyItem"]],template:function(n,i){1&n&&(e.I0R(0,"app-dialog-container",0),e.qCj("closed",function(){return i.close()}),e.I0R(1,"h4",1),e.OEk(2),e.C$Y(),e.I0R(3,"form",2)(4,"div",3)(5,"p",4),e.OEk(6,"\u5fc5\u586b"),e.C$Y(),e.wR5(7,"app-toggle",5),e.C$Y(),e.I0R(8,"div",6)(9,"p",7),e.OEk(10,"\u984c\u76ee\u6a19\u984c"),e.C$Y(),e.wR5(11,"app-input",8),e.C$Y(),e.I0R(12,"div",6)(13,"p",7),e.OEk(14,"\u526f\u6a19\u984c\u8aaa\u660e\u6587\u5b57"),e.C$Y(),e.wR5(15,"app-input",9),e.C$Y(),e.I0R(16,"div",6)(17,"p",7),e.OEk(18,"\u6b04\u4f4d\u5167\u8aaa\u660e\u6587\u5b57"),e.C$Y(),e.wR5(19,"app-input",10),e.C$Y(),e.I0R(20,"div",6)(21,"p",7),e.OEk(22,"\u6b04\u4f4d\u985e\u578b"),e.C$Y(),e.wR5(23,"app-select",11),e.C$Y(),e.yuY(24,et,4,3,"div",12)(25,tt,4,1,"div",13),e.C$Y(),e.I0R(26,"div",14)(27,"button",15),e.qCj("click",function(){return i.submit()}),e.wR5(28,"em",16),e.OEk(29," \u5132\u5b58 "),e.C$Y()()()),2&n&&(e.E7m("width","70%")("maxWidth","673px")("minWidth","350px"),e.yG2(2),e.oRS(" \u7de8\u8f2f\u984c\u76ee: ",i.data.title," "),e.yG2(),e.E7m("formGroup",i.questionForm),e.yG2(20),e.E7m("options",i.fieldTypeList),e.yG2(),e.E7m("ngIf",i.validationOptions.length),e.yG2(),e.E7m("ngIf",i.showOptionField),e.yG2(2),e.E7m("disabled",i.questionForm.invalid))},dependencies:[u.u_,F.Y,Z.U,D,s.sz,s.ue,s.u,s.uW,s.Wo,T,Ze,G.Q],styles:["h4[_ngcontent-%COMP%]{word-break:break-all}"],data:{animation:[(0,w.aS)()]}})}return o})();var ot=d(4548),it=d(3992);const at=["tTextArea"];function rt(o,r){if(1&o&&(e.I0R(0,"div",3),e.OEk(1),e.C$Y()),2&o){const t=e.GaO();e.yG2(),e.cNF(t.errorMessage)}}let te=(()=>{class o extends f.E{constructor(t,n){super(),this.selfElem=t,this.renderer=n,this.placeholder="common.question-basic-content-placeholder",this.minHeight="",this.maxHeight="",this.disabled=!1,this.isError=!1,this.isDynamic=!1}ngOnChanges({show:t,clear:n}){t&&this.setHeightByShow("ngOnChanges"),n&&(this.model="",this.setHeightByShow("ngOnChanges"))}ngAfterViewInit(){this.show&&(0,ot.k)(1e3).pipe((0,it.U)(1)).subscribe(()=>this.setHeightByShow("ngAfterViewInit"))}resize(t){this.renderer.setStyle(this.selfElem.nativeElement,"height","auto"),this.renderer.setStyle(this.selfElem.nativeElement,"height",t.scrollHeight+"px"),this.preReserveHeight=t.scrollHeight;const n=t.value;this.notifyValueChange(this.isDynamic?[{value:n,memo:""}]:n)}setHeightByShow(t){this.show?(this.renderer.setStyle(this.selfElem.nativeElement,"height","auto"),this.renderer.setStyle(this.selfElem.nativeElement,"height",this.tTextArea?.nativeElement.scrollHeight+"px")):this.renderer.setStyle(this.selfElem.nativeElement,"height","0")}static#e=this.\u0275fac=function(n){return new(n||o)(e.GI1(e.GMv),e.GI1(e.q87))};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-fit-content-textarea"]],viewQuery:function(n,i){if(1&n&&e.CC$(at,5),2&n){let a;e.wto(a=e.Gqi())&&(i.tTextArea=a.first)}},inputs:{placeholder:"placeholder",errorMessage:"errorMessage",minHeight:"minHeight",maxHeight:"maxHeight",show:"show",clear:"clear",disabled:"disabled",isError:"isError",isDynamic:"isDynamic"},features:[e.M5G([(0,f.I)(o)]),e.eg9,e.SYr],decls:4,vars:12,consts:[[1,"textarea","w-100","overflow-auto",3,"placeholder","ngModel","disabled","ngModelChange"],["tTextArea",""],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(n,i){if(1&n){const a=e.KQA();e.I0R(0,"textarea",0,1),e.iHE("ngModelChange",function(p){return i.isDynamic||e.kNx(i.model,p)||(i.model=p),p}),e.qCj("ngModelChange",function(){e.usT(a);const p=e.Gew(1);return e.CGJ(i.resize(p))}),e.wVc(2,"translate"),e.C$Y(),e.yuY(3,rt,2,1,"div",2)}2&n&&(e.m4B("min-height",i.minHeight?i.minHeight:"6rem")("max-height",i.maxHeight?i.maxHeight:"unset"),e.eAK("error",i.isError),e.E7m("placeholder",e.kDX(2,10,i.placeholder)),e.OKB("ngModel",i.isDynamic?i.model[0].value:i.model),e.E7m("disabled",i.disabled),e.yG2(3),e.E7m("ngIf",i.errorMessage&&i.isError))},dependencies:[u.u_,s.ot,s.ue,s._G,y.sD],styles:["[_nghost-%COMP%]{display:flex}"]})}return o})();var O=d(4124),st=d(5908),lt=d.n(st),ct=d(6700);function pt(o,r){if(1&o){const t=e.KQA();e.I0R(0,"em",11),e.qCj("click",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.switch(0,-1))}),e.C$Y()}}function mt(o,r){if(1&o){const t=e.KQA();e.I0R(0,"em",12),e.qCj("click",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.switch(0,1))}),e.C$Y()}}function dt(o,r){if(1&o&&(e.I0R(0,"th",13),e.OEk(1),e.C$Y()),2&o){const t=r.$implicit;e.yG2(),e.oRS(" ",t," ")}}function ut(o,r){if(1&o){const t=e.KQA();e.I0R(0,"td",15)(1,"div",16),e.qCj("mouseenter",function(){const a=e.usT(t).$implicit,l=e.GaO(3);return e.CGJ(l.selectRange.start?l.hover(a):null)})("click",function(){const a=e.usT(t).$implicit,l=e.GaO(3);return e.CGJ(l.isInThisMonth(a)?l.onSelectDate(a):null)}),e.OEk(2),e.wVc(3,"date"),e.C$Y()()}if(2&o){const t=r.$implicit,n=e.GaO(3);e.yG2(),e.eAK("start-selected",n.isRange&&n.selectRange.start===t)("between",n.isBetween(t))("end-hovered",n.selectRange.start&&n.hoverDate===t)("disabled",!n.isInThisMonth(t)||n.isBeforeStart(t))("selected",t===n.selectedDate),e.yG2(),e.oRS(" ",e.g7$(3,11,t,"d")," ")}}function _t(o,r){if(1&o&&(e.I0R(0,"tr"),e.yuY(1,ut,4,14,"td",14),e.C$Y()),2&o){const t=r.$implicit;e.yG2(),e.E7m("ngForOf",t)}}const gt=()=>["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u65e5"];function ht(o,r){if(1&o){const t=e.KQA();e.SAx(0,2),e.I0R(1,"div",3)(2,"div",4),e.yuY(3,pt,1,0,"em",5),e.I0R(4,"div",6),e.qCj("click",function(i){e.usT(t);const a=e.GaO();return e.CGJ(a.isRange?null:a.toYearType(i))}),e.OEk(5),e.C$Y(),e.yuY(6,mt,1,0,"em",7),e.C$Y()(),e.I0R(7,"table",8)(8,"thead")(9,"tr"),e.yuY(10,dt,2,1,"th",9),e.C$Y()(),e.I0R(11,"tbody"),e.yuY(12,_t,2,1,"tr",10),e.C$Y()(),e.k70()}if(2&o){const t=e.GaO();e.yG2(3),e.E7m("ngIf",!t.thisMonthLimit),e.yG2(),e.eAK("isRange",t.isRange),e.yG2(),e.cNF(t.title),e.yG2(),e.E7m("ngIf",!t.thisMonthLimit),e.yG2(4),e.E7m("ngForOf",e.q4q(7,gt)),e.yG2(2),e.E7m("ngForOf",t.datesInMonth)}}function ft(o,r){if(1&o){const t=e.KQA();e.I0R(0,"em",11),e.qCj("click",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.switch(-1,0))}),e.C$Y()}}function Ct(o,r){if(1&o){const t=e.KQA();e.I0R(0,"em",12),e.qCj("click",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.switch(1,0))}),e.C$Y()}}function bt(o,r){if(1&o){const t=e.KQA();e.I0R(0,"td",15)(1,"div",20),e.qCj("mouseenter",function(){const a=e.usT(t).$implicit,l=e.GaO(3);return e.CGJ(l.hover(a))})("click",function(i){const l=e.usT(t).$implicit,p=e.GaO(3);return e.CGJ(p.onSelectMonth(i,l))}),e.OEk(2),e.C$Y()()}if(2&o){const t=r.$implicit,n=e.GaO(3);e.yG2(),e.eAK("selected",t===n.selectedMonth),e.yG2(),e.oRS(" ",t," \u6708 ")}}function yt(o,r){if(1&o&&(e.I0R(0,"tr"),e.yuY(1,bt,3,3,"td",14),e.C$Y()),2&o){const t=r.$implicit;e.yG2(),e.E7m("ngForOf",t)}}function xt(o,r){if(1&o&&(e.I0R(0,"div",17)(1,"div",4),e.yuY(2,ft,1,0,"em",5),e.I0R(3,"div",18),e.OEk(4),e.wVc(5,"slice"),e.C$Y(),e.yuY(6,Ct,1,0,"em",7),e.C$Y()(),e.I0R(7,"table",19)(8,"tbody"),e.yuY(9,yt,2,1,"tr",10),e.C$Y()()),2&o){const t=e.GaO();e.yG2(2),e.E7m("ngIf",!t.thisMonthLimit),e.yG2(2),e.cNF(e.I7O(5,4,t.title,0,4)),e.yG2(2),e.E7m("ngIf",!t.thisMonthLimit),e.yG2(3),e.E7m("ngForOf",t.yearMonths)}}let Ot=(()=>{class o extends j.Q{constructor(t){super(),this.datePipe=t,this.isRange=!1,this.thisMonthLimit=!1,this.select=new e._w7,this.datesInMonth=[],this.yearMonths=[],this.current=(new Date).toISOString(),this.currentSubject=new ct.g(this.current),this.current$=this.currentSubject.asObservable(),this.hoverDate="",this.selectedDate="",this.selectedMonth="",this.selectRange={start:"",end:""},this.isDateType=!0,this.format="yyyy/MM/dd"}get title(){const t=this.current.split("/");return`${t[0]}\u5e74${t[1]}\u6708`}ngOnInit(){this.current$.pipe((0,x.a)(this.onDestroy$)).subscribe(t=>{this.current=t,this.datesInMonth=this.chunkByNumber(this.getDatesInMonth(this.current),7),this.yearMonths=this.chunkByNumber(this.getMonths(),3)}),this.switch(0,0)}isInThisMonth(t){return new Date(t).getMonth()===new Date(this.current).getMonth()}hover(t){this.hoverDate=t}isBetween(t){const n=O.L.formatMoment(this.selectRange.start),i=O.L.formatMoment(this.hoverDate);return O.L.formatMoment(t).isBetween(n,i)}isBeforeStart(t){return O.L.formatMoment(this.selectRange.start).isAfter(O.L.formatMoment(t))}onSelectDate(t){this.selectedDate=t,this.isRange?this.selectRange.start?this.selectRange.start===this.selectedDate?this.selectRange.start="":(this.selectRange.end=this.selectedDate,this.select.emit(this.selectRange)):this.selectRange.start=this.selectedDate:this.select.emit(this.selectedDate)}onSelectMonth(t,n){t.stopPropagation(),this.isDateType=!this.isDateType,this.switch(0,+n-(new Date(this.current).getMonth()+1))}toYearType(t){t.stopPropagation(),this.isDateType=!1}switch(t,n){const i=lt()(this.current,"YYYY/MM").add(t,"years").add(n,"months").format("YYYY/MM");this.currentSubject.next(i)}chunkByNumber(t,n){const i=[];for(let a=0;a<t.length;a+=n)i.push(t.slice(a,a+n));return i}getDatesInMonth(t){const n=[],i=O.L.formatBoundaryDate(O.L.formatBoundaryDate(t,0,"month",!0),0,"week",!0),a=O.L.formatBoundaryDate(O.L.formatBoundaryDate(t,0,"month",!1),0,"week",!1);for(;n.length<O.L.getOffset(i,a,"day");)n.push(O.L.formatSpecDate(i,n.length+1,"day"));return n}getMonths(){return Array.from(Array(12).keys()).map(t=>`${t+1}`)}static#e=this.\u0275fac=function(n){return new(n||o)(e.GI1(u.y))};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-calendar"]],inputs:{isRange:"isRange",thisMonthLimit:"thisMonthLimit"},outputs:{select:"select"},features:[e.eg9],decls:3,vars:2,consts:[["class","d-flex flex-column",4,"ngIf","ngIfElse"],["tMonthType",""],[1,"d-flex","flex-column"],[1,"month-type","d-flex","flex-row","align-items-center","justify-content-between","p-1"],[1,"month-toggle"],["class","fas fa-angle-left text-grey-dark fs-lgxx pe-pointer",3,"click",4,"ngIf"],[1,"title","ml-3","p-1",3,"click"],["class","fas fa-angle-right text-grey-dark fs-lgxx ml-3 pe-pointer",3,"click",4,"ngIf"],[1,"month-type"],["class","text-center align-middle text-grey-iron h-9",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"fas","fa-angle-left","text-grey-dark","fs-lgxx","pe-pointer",3,"click"],[1,"fas","fa-angle-right","text-grey-dark","fs-lgxx","ml-3","pe-pointer",3,"click"],[1,"text-center","align-middle","text-grey-iron","h-9"],["class","text-center align-middle",4,"ngFor","ngForOf"],[1,"text-center","align-middle"],[1,"h-7","w-100","d-flex","align-items-center","justify-content-center",3,"mouseenter","click"],[1,"year-type","d-flex","flex-row","align-items-center","justify-content-between","p-1"],[1,"title","ml-3","p-1"],[1,"year-type","w-100"],[1,"d-flex","align-items-center","justify-content-center",3,"mouseenter","click"]],template:function(n,i){if(1&n&&e.yuY(0,ht,13,8,"ng-container",0)(1,xt,10,8,"ng-template",null,1,e.gJz),2&n){const a=e.Gew(2);e.E7m("ngIf",i.isDateType)("ngIfElse",a)}},dependencies:[u.ay,u.u_,u.qq,u.y],styles:[".title[_ngcontent-%COMP%]{font-size:1rem;font-weight:400;letter-spacing:1px;color:#2c2c2c;border-radius:4px}.title[_ngcontent-%COMP%]:not(.isRange):hover{cursor:pointer;background-color:#e7e7e7}table[_ngcontent-%COMP%]{margin-top:5px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:1rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{cursor:pointer;width:35px;height:35px;min-width:35px;min-height:35px;padding:1px 4px;color:#000;border-radius:7rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--primary-color)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div.end-hovered[_ngcontent-%COMP%]{border-radius:0 7rem 7rem 0;background-color:var(--primary-color)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div.start-selected[_ngcontent-%COMP%]{border-radius:7rem 0 0 7rem;background-color:var(--primary-color)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div.between[_ngcontent-%COMP%]{border-radius:0;background-color:var(--primary-background-hover)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div.disabled[_ngcontent-%COMP%]{cursor:default;color:#e7e7e7;background-color:unset}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   div.selected[_ngcontent-%COMP%]{color:#fff;background-color:var(--primary-color)}.month-toggle[_ngcontent-%COMP%]{display:flex}.month-toggle[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:25px;min-width:25px;height:25px;min-height:25px;border-radius:50%}.month-toggle[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]:first-of-type{margin-top:3px;padding-right:2px}.month-toggle[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]:last-of-type{margin-top:3px;padding-left:2px}.month-toggle[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]:hover{background-color:#e7e7e7}.year-type[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:hover{cursor:default;background-color:transparent}.year-type[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:42px;height:42px;min-width:42px;min-height:42px;margin:0 6px;white-space:nowrap}"]})}return o})();const vt=["tCalendarContainer"];function Mt(o,r){if(1&o&&(e.I0R(0,"h5",7),e.OEk(1),e.C$Y()),2&o){const t=e.GaO();e.m4B("font-size",t.valueFontSize),e.yG2(),e.oRS(" ",t.isDynamic?t.model[0].value:t.model," ")}}function wt(o,r){if(1&o&&(e.I0R(0,"p",8),e.OEk(1),e.C$Y()),2&o){const t=e.GaO();e.m4B("font-size",t.placeholderFontSize),e.yG2(),e.oRS(" ",t.placeholder," ")}}function It(o,r){if(1&o){const t=e.KQA();e.I0R(0,"em",9),e.qCj("click",function(i){e.usT(t);const a=e.GaO();return e.CGJ(a.clear(i))}),e.C$Y()}}function kt(o,r){1&o&&e.wR5(0,"em",10)}function Et(o,r){if(1&o){const t=e.KQA();e.I0R(0,"div",11,12)(2,"app-calendar",13),e.qCj("select",function(i){e.usT(t);const a=e.GaO();return e.CGJ(a.select(i))}),e.C$Y()()}if(2&o){const t=e.GaO();e.E7m("@fadeInOutSize",void 0),e.yG2(2),e.E7m("isRange",t.isRange)}}let q=(()=>{class o extends f.E{set tCalendarContainer(t){t&&this.setCalendarPosition(t.nativeElement)}constructor(t,n,i,a){super(),this.selfElement=t,this.renderer=n,this.$window=i,this.datePipe=a,this.isRange=!1,this.valueFontSize="",this.placeholder="YYYY/MM/DD",this.placeholderFontSize="",this.isError=!1,this.position="default",this.thisMonthLimit=!1,this.isDynamic=!1,this.selectDate=new e._w7,this.calendarShow=new e._w7,this.show=!1,this.format="yyyy/MM/dd"}ngOnInit(){this.$window.click$.pipe((0,x.a)(this.onDestroy$)).subscribe(t=>{this.selfElement.nativeElement.contains(t.target)||(this.show=!1)}),this.placeholder=this.isRange?"YYYY/MM/DD ~ YYYY/MM/DD":"YYYY/MM/DD"}showCalendar(){this.isDisabled||(this.show=!0,this.calendarShow.emit(this.show))}clear(t){t.stopPropagation(),this.notifyValueChange(this.isDynamic?[{value:"",memo:""}]:"")}select(t){this.show=!1;const n=this.isRange?this.datePipe.transform(t.start,this.format)+" ~ "+this.datePipe.transform(t.end,this.format):this.datePipe.transform(t,this.format);this.notifyValueChange(this.isDynamic?[{value:n,memo:""}]:n),this.selectDate.emit(n),this.calendarShow.emit(this.show)}setCalendarPosition(t){if(t)switch(this.renderer.setStyle(t,"top",-t.clientHeight/3+"px"),this.position){case"right":this.renderer.setStyle(t,"right",-t.clientWidth-10+"px"),this.renderer.setStyle(t,"left","unset");break;case"left":this.renderer.setStyle(t,"left",-t.clientWidth-10+"px"),this.renderer.setStyle(t,"right","unset")}}static#e=this.\u0275fac=function(n){return new(n||o)(e.GI1(e.GMv),e.GI1(e.q87),e.GI1(A.s),e.GI1(u.y))};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-date-picker"]],viewQuery:function(n,i){if(1&n&&e.CC$(vt,5),2&n){let a;e.wto(a=e.Gqi())&&(i.tCalendarContainer=a.first)}},inputs:{isRange:"isRange",valueFontSize:"valueFontSize",placeholder:"placeholder",placeholderFontSize:"placeholderFontSize",isError:"isError",position:"position",isDisabled:"isDisabled",thisMonthLimit:"thisMonthLimit",isDynamic:"isDynamic"},outputs:{selectDate:"selectDate",calendarShow:"calendarShow"},features:[e.M5G([(0,f.I)(o)]),e.eg9],decls:9,vars:10,consts:[[1,"position-relative","mb-1","w-100"],[1,"input","w-100","d-flex","align-items-center","justify-content-between",3,"click"],["class","has-value",3,"fontSize",4,"ngIf","ngIfElse"],["tPlaceholder",""],[1,"d-flex"],["class","cancel icon-cancel-thick"],["class","calendar-container position-absolute bg-gray-white",4,"ngIf"],[1,"has-value"],[1,"text-grey-iron","fs-xsm","mb-0"],[1,"cancel","icon-cancel-thick",3,"click"],[1,"icon-calendar","no-func"],[1,"calendar-container","position-absolute","bg-gray-white"],["tCalendarContainer",""],[3,"isRange","select"]],template:function(n,i){if(1&n&&(e.I0R(0,"div",0)(1,"div",1),e.qCj("click",function(){return i.showCalendar()}),e.yuY(2,Mt,2,3,"h5",2)(3,wt,2,3,"ng-template",null,3,e.gJz),e.I0R(5,"div",4),e.yuY(6,It,1,0,"em",5)(7,kt,1,0),e.C$Y()(),e.yuY(8,Et,3,2,"div",6),e.C$Y()),2&n){const a=e.Gew(4);e.yG2(),e.eAK("disabled",i.isDisabled)("error",i.isError)("focus",i.show),e.yG2(),e.E7m("ngIf",i.model)("ngIfElse",a),e.yG2(4),e.C0Y(6,i.model?6:7),e.yG2(2),e.E7m("ngIf",i.show)}},dependencies:[u.u_,Ot],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}.input[_ngcontent-%COMP%]{cursor:pointer;width:140px;height:3rem;padding:.375rem .4rem .375rem .75rem;border:1px solid #a4a4a4;border-radius:var(--form-radius-m)}.input.disabled[_ngcontent-%COMP%]{cursor:auto;background-color:#f4f4f4}.input.disabled[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:#a4a4a4}.input.focus[_ngcontent-%COMP%]{border-width:2px;border-bottom-color:var(--primary-color)}.input.error[_ngcontent-%COMP%]{border:1px solid #ef6149}.input.error[_ngcontent-%COMP%]:hover{background-color:var(--warn-background-hover);border-width:1.5px}.input.error[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:#ef6149}.input[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:1.2rem;color:#2c2c2c;transition:.3s}.input[_ngcontent-%COMP%]   em.cancel[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-right:.15rem;width:17px;height:17px;font-size:.5rem;font-weight:700;color:#2c2c2c;border-radius:50%}.input[_ngcontent-%COMP%]   em.cancel[_ngcontent-%COMP%]:hover{font-size:.4rem;background-color:var(--primary-background-hover);color:#2c2c2c}.calendar-container[_ngcontent-%COMP%]{z-index:70;top:36px;left:0;padding:18px 24px;box-shadow:0 1px 6px #0003;background-color:#fff;border-radius:10px;box-sizing:content-box;transition:border .2s;border:1.5px solid transparent}.calendar-container[_ngcontent-%COMP%]:hover{border:1.5px solid var(--primary-color)}h5[_ngcontent-%COMP%]{font-size:16px;font-weight:400}h5[_ngcontent-%COMP%]{margin-bottom:0}"],data:{animation:[(0,w.qe)()]}})}return o})();function ne(o,r){if("object"!=typeof o||"object"!=typeof r)return!1;const t=Object.keys(o),n=Object.keys(r);if(t.length!==n.length)return!1;for(let i of t)if("object"==typeof o[i]&&"object"==typeof r[i]){if(!ne(o[i],r[i]))return!1}else if(o[i]!==r[i])return!1;return!0}const Pt=["tOptions"];function Gt(o,r){if(1&o){const t=e.KQA();e.I0R(0,"div",13),e.qCj("click",function(i){const l=e.usT(t).$implicit,p=e.GaO(2);return e.CGJ(p.cancelSelect(l,i))}),e.OEk(1),e.I0R(2,"span",14),e.OEk(3,"\u79fb\u9664"),e.C$Y()()}if(2&o){const t=r.$implicit;e.yG2(),e.oRS(" ",t.name," ")}}function Ft(o,r){if(1&o&&(e.I0R(0,"div",11),e.yuY(1,Gt,4,1,"div",12),e.C$Y()),2&o){const t=e.GaO();e.yG2(),e.E7m("ngForOf",t.checkedOptions)}}function Dt(o,r){if(1&o&&(e.I0R(0,"p",15),e.OEk(1),e.C$Y()),2&o){const t=e.GaO();e.yG2(),e.cNF(t.placeholder)}}function Tt(o,r){if(1&o){const t=e.KQA();e.I0R(0,"em",16),e.qCj("click",function(i){e.usT(t);const a=e.GaO();return e.CGJ(a.cancelAll(i))}),e.C$Y()}}function Rt(o,r){if(1&o){const t=e.KQA();e.I0R(0,"label",23)(1,"input",24),e.qCj("blur",function(i){e.usT(t);const a=e.GaO(2);return e.CGJ(a.filter(i))})("keyup",function(i){e.usT(t);const a=e.GaO(2);return e.CGJ(a.filter(i))}),e.C$Y()()}if(2&o){const t=e.GaO(2);e.yG2(),e.E7m("placeholder",t.filterPlaceholder)}}function St(o,r){1&o&&(e.I0R(0,"div",25)(1,"p",26),e.OEk(2),e.C$Y()()),2&o&&(e.yG2(2),e.cNF("\u6c92\u6709\u9078\u9805"))}function $t(o,r){if(1&o&&(e.SAx(0),e.I0R(1,"label",27),e.wR5(2,"app-checkbox",28),e.C$Y(),e.k70()),2&o){const t=r.$implicit,n=r.index,i=e.GaO(2);e.yG2(),e.uQ9(" ",t.show?"d-flex":"d-none"," flex-row align-items-center pe-pointer"),e.E7m("for",i.id+n),e.yG2(),e.E7m("id",i.id+n)("name",i.id)("formControlName",n)("option",t)("checked",t.isSelect)}}function Yt(o,r){if(1&o&&(e.I0R(0,"div",null,17),e.yuY(2,Rt,2,1,"label",18),e.I0R(3,"div",19,20),e.yuY(5,St,3,1,"div",21)(6,$t,3,9,"ng-container",22),e.C$Y()()),2&o){const t=e.GaO();e.uQ9("dropdown p-absolute overflow-hide w-100 bg-white ",null!=t.optionsInDropdown&&t.optionsInDropdown.length?"":"py-2",""),e.yG2(2),e.E7m("ngIf",!(null==t.optionsInDropdown||!t.optionsInDropdown.length)&&t.hasFilter),e.yG2(3),e.E7m("ngIf",!(null!=t.optionsInDropdown&&t.optionsInDropdown.length)),e.yG2(),e.E7m("ngForOf",t.optionsInDropdown)}}function At(o,r){if(1&o&&(e.I0R(0,"div",29),e.OEk(1),e.C$Y()),2&o){const t=e.GaO();e.yG2(),e.cNF(t.errorMessage)}}let V=(()=>{class o extends f.E{get f(){return this.form.controls}get size(){return c.ui}constructor(t,n,i,a){super(),this.selfElem=t,this.$window=n,this.fb=i,this.cdr=a,this.isDynamic=!1,this.id="",this.hasFilter=!1,this.isError=!1,this.disabled=!1,this.placeholder="\u53ef\u8907\u9078",this.filterPlaceholder="\u8acb\u8f38\u5165\u95dc\u9375\u5b57\u641c\u5c0b",this.select=new e._w7,this.form=this.fb.group({checks:new s.Sg([])}),this.showDropdown=!1,this.checkedOptions=null}ngOnInit(){this.$window.click$.pipe((0,x.a)(this.onDestroy$)).subscribe(t=>{this.selfElem.nativeElement.contains(t.target)||(this.showDropdown=!1)})}ngOnChanges({options:t}){if(!this.preOption||t&&ne(t.currentValue,this.preOption)){const n=t.currentValue;this.preOption=n,this.checkedOptions&&this.reCreateForm(n),this.optionsInDropdown=n.map(i=>({...i,show:!0}))}}ngAfterViewInit(){this.options&&this.options?.length>0&&this.model&&this.model?.length>0&&this.init()}filter(t){(!(t instanceof KeyboardEvent)||"Enter"===t.code&&!t.isComposing)&&(this.optionsInDropdown=this.optionsInDropdown?.map(n=>(n.show=n.name.includes(t.target.value),n)))}cancelSelect(t,n){n&&(n.stopPropagation(),n.preventDefault());const i=this.optionsInDropdown.findIndex(a=>a.code===t.code);this.f.checks.controls[i].setValue(!1)}cancelAll(t){t.preventDefault(),this.f.checks.setValue(Array(this.f.checks.controls.length).fill(!1))}reCreateForm(t){this.form=this.fb.group({checks:new s.Sg([])}),this.optionsInDropdown?.forEach(n=>this.f.checks.push(new s.Ku(n.isSelect??null))),this.f.checks.valueChanges.subscribe(n=>{this.checkedOptions=this.getCheckedOptions(t,n),this.optionsInDropdown=this.optionsInDropdown?.map(a=>({...a,isSelect:this.checkedOptions?.some(l=>l.code===a.code)}));const i=this.isDynamic?this.checkedOptions?.map(a=>({value:a.code,memo:""})):this.getValueArray(this.checkedOptions);this.notifyValueChange(i),this.select.emit(i)})}onModelChanged({}){}getCheckedOptions(t,n){return n.map((a,l)=>("boolean"!=typeof a&&null!==a?a.value:a)&&t?{name:this.optionsInDropdown[l].name,code:this.optionsInDropdown[l].code}:null).filter(a=>!!a)}getValueArray(t){return t?t.map(n=>n.code):null}init(){this.checkedOptions=this.options.filter(t=>this.model?.some(n=>(this.isDynamic?n.value:n)===t.code)),this.model&&(this.optionsInDropdown=this.optionsInDropdown?.map(t=>({...t,isSelect:this.checkedOptions?.some(n=>n.code===t.code)})),this.reCreateForm(this.options)),this.cdr.detectChanges()}static#e=this.\u0275fac=function(n){return new(n||o)(e.GI1(e.GMv),e.GI1(A.s),e.GI1(s.im),e.GI1(e.kD9))};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-multi-select"]],viewQuery:function(n,i){if(1&n&&e.CC$(Pt,5),2&n){let a;e.wto(a=e.Gqi())&&(i.tOptions=a)}},inputs:{isDynamic:"isDynamic",id:"id",options:"options",hasFilter:"hasFilter",isError:"isError",errorMessage:"errorMessage",disabled:"disabled",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder"},outputs:{select:"select"},features:[e.M5G([(0,f.I)(o)]),e.eg9,e.SYr],decls:12,vars:16,consts:[[1,"multi-select","p-relative"],["type","checkbox",1,"d-none",3,"id","ngModel","disabled","ngModelChange"],["tInput",""],[1,"w-100","h-auto","input","d-flex","pe-pointer",3,"for"],["class","w-100 h-auto overflow-auto d-flex flex-wrap",4,"ngIf","ngIfElse"],["tPlaceholder",""],[1,"fas","fa-caret-down","p-absolute","text-grey-black"],["class","icon-cancel-thick p-absolute text-grey-black fs-xs",3,"click",4,"ngIf"],[3,"formGroup"],[3,"class",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"w-100","h-auto","overflow-auto","d-flex","flex-wrap"],["class","select-label p-relative d-flex align-items-end text-grey-black border-grey-iron w-fit ml-1 text-nowrap",3,"click",4,"ngFor","ngForOf"],[1,"select-label","p-relative","d-flex","align-items-end","text-grey-black","border-grey-iron","w-fit","ml-1","text-nowrap",3,"click"],[1,"p-absolute"],[1,"ml-3","text-grey-iron"],[1,"icon-cancel-thick","p-absolute","text-grey-black","fs-xs",3,"click"],["tOptions",""],["class","w-100 p-1",4,"ngIf"],["formArrayName","checks",1,"options","overflow-auto"],["tOptionContainer",""],["class","d-flex flex-row align-items-center py-2 pl-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"w-100","p-1"],["type","text",1,"input","w-100",3,"placeholder","blur","keyup"],[1,"d-flex","flex-row","align-items-center","py-2","pl-3"],[1,"text-grey-iron"],[3,"for"],[3,"id","name","formControlName","option","checked"],[1,"error-message"]],template:function(n,i){if(1&n&&(e.I0R(0,"div",0)(1,"input",1,2),e.iHE("ngModelChange",function(l){return e.kNx(i.showDropdown,l)||(i.showDropdown=l),l}),e.C$Y(),e.I0R(3,"label",3),e.yuY(4,Ft,2,1,"div",4)(5,Dt,2,1,"ng-template",null,5,e.gJz),e.wR5(7,"em",6),e.yuY(8,Tt,1,0,"em",7),e.C$Y(),e.I0R(9,"form",8),e.yuY(10,Yt,7,6,"div",9),e.C$Y(),e.yuY(11,At,2,1,"div",10),e.C$Y()),2&n){const a=e.Gew(6);e.yG2(),e.E7m("id",i.id),e.OKB("ngModel",i.showDropdown),e.E7m("disabled",i.disabled),e.yG2(2),e.eAK("error",i.isError)("focus",i.showDropdown),e.E7m("for",i.id),e.yG2(),e.E7m("ngIf",!(null==i.checkedOptions||!i.checkedOptions.length))("ngIfElse",a),e.yG2(3),e.eAK("up",null==i.checkedOptions?null:i.checkedOptions.length),e.yG2(),e.E7m("ngIf",null==i.checkedOptions?null:i.checkedOptions.length),e.yG2(),e.E7m("formGroup",i.form),e.yG2(),e.E7m("ngIf",i.showDropdown),e.yG2(),e.E7m("ngIf",i.errorMessage&&i.isError)}},dependencies:[u.ay,u.u_,s.sz,s.SU,s.ue,s.u,s._G,s.uW,s.Wo,s.uE,N],styles:[".multi-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{box-sizing:border-box;padding:.1rem 1.9375rem .1rem .25rem;border:1px solid #a4a4a4;border-radius:var(--form-radius-m)}.multi-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]:first-of-type{top:50%;right:13px;font-size:1.2rem;transform:translateY(-50%) scaleX(.7)}.multi-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]:first-of-type.up{top:-1px;right:13px;transform:translate(0) scaleX(.7)}.multi-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]:nth-of-type(2){transform:scale(.7);top:17px;right:5px;width:26px;height:26px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:.2s}.multi-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]:nth-of-type(2):hover{transform:scale(.6);background-color:var(--primary-background-hover);color:#2c2c2c}.multi-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]{cursor:default;background-color:#f4f4f4}.multi-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:not(:disabled) + label[_ngcontent-%COMP%]:hover{border-bottom-width:2px}.multi-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:not(:disabled) + label.focus[_ngcontent-%COMP%]{border-bottom-width:2px!important;border-bottom-color:var(--primary-color)}.multi-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:not(:disabled) + label.error[_ngcontent-%COMP%]{border-color:var(--warn-color)}.multi-select[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:not(:disabled) + label.error[_ngcontent-%COMP%]:hover{background-color:var(--warn-background-hover);border-width:1.5px}.multi-select[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:first-of-type{min-height:44px}.multi-select[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:first-of-type   .select-label[_ngcontent-%COMP%]{padding:0 .3rem .15rem;height:2rem;min-width:2rem;margin:.1rem;border-radius:6px 0 6px 6px;background-color:#fff}.multi-select[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:first-of-type   .select-label[_ngcontent-%COMP%]:hover{border-color:var(--primary-color);background-color:var(--primary-background-hover);color:var(--primary-background-hover)}.multi-select[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:first-of-type   .select-label[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{display:flex}.multi-select[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:first-of-type   .select-label[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{top:7px;right:1.5px;font-size:10px;transform:scale(.5) translate(3px,-14px)}.multi-select[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:first-of-type   .select-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none;z-index:1;top:50%;left:50%;transform:translate(-50%,-50%);font-size:16px;color:#6d6d6d;background-color:var(--primary-background-hover)}.dropdown[_ngcontent-%COMP%]{z-index:2;top:calc(100% + .25rem);left:50%;transform:translate(-50%);border:1px solid #a4a4a4;border-radius:0 0 var(--form-radius-m) var(--form-radius-m);filter:drop-shadow(1px 2px 2px rgba(0,0,0,.2))}.dropdown[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{border-bottom:1px solid #e7e7e7}.dropdown[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:hover{border-bottom:1.5px solid var(--primary-color)}.dropdown[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .dropdown[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover, .dropdown[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none!important}.dropdown[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{max-height:15rem}.dropdown[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{padding-bottom:6px!important;padding-top:.5rem;padding-left:.3rem}.dropdown[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:last-of-type{border-radius:0 0 var(--form-radius-m) var(--form-radius-m)}.dropdown[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:hover{background:var(--primary-background-hover)}.dropdown[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.25rem}"]})}return o})();function Nt(o,r){if(1&o){const t=e.KQA();e.I0R(0,"input",10),e.iHE("ngModelChange",function(i){e.usT(t);const a=e.GaO(2);return e.kNx(a.memo,i)||(a.memo=i),e.CGJ(i)}),e.qCj("ngModelChange",function(i){e.usT(t);const a=e.GaO(2);return e.CGJ(a.onMemoChange(i))}),e.wVc(1,"translate"),e.C$Y()}if(2&o){e.GaO();const t=e.Gew(2),n=e.GaO();e.OKB("ngModel",n.memo),e.E7m("placeholder",e.kDX(1,4,n.option.memoPlaceholder?n.option.memoPlaceholder:"cab.comment-send-placeholder"))("disabled",n.disabled||!t.checked)("value",n.memo)}}function qt(o,r){if(1&o&&(e.I0R(0,"div",11),e.OEk(1),e.C$Y()),2&o){const t=e.GaO(2);e.yG2(),e.cNF(t.errorMessage)}}function Vt(o,r){if(1&o){const t=e.KQA();e.SAx(0),e.I0R(1,"input",2,3),e.qCj("click",function(i){e.usT(t);const a=e.GaO();return e.CGJ(a.check(i))}),e.C$Y(),e.I0R(3,"label",4),e.wR5(4,"span",5),e.I0R(5,"div",6)(6,"p",7),e.OEk(7),e.wVc(8,"translate"),e.C$Y(),e.yuY(9,Nt,2,6,"input",8),e.C$Y()(),e.yuY(10,qt,2,1,"div",9),e.k70()}if(2&o){const t=e.GaO();e.yG2(),e.eAK("error",t.isError),e.E7m("disabled",t.disabled)("name","radio-"+t.name)("id",t.id)("checked",void 0===t.checked?(null==t.model?null:t.model.value)===t.option.code:t.checked)("value",t.option.code),e.yG2(2),e.m4B("min-width",t.minWidth),e.E7m("for",t.id),e.yG2(3),e.eAK("hasMemo",t.option.hasMemo),e.yG2(),e.oRS(" ",e.kDX(8,15,t.option.name)," "),e.yG2(2),e.E7m("ngIf",t.option.hasMemo),e.yG2(),e.E7m("ngIf",t.errorMessage&&t.isError)}}function Bt(o,r){1&o&&(e.I0R(0,"div",13)(1,"span",5),e.wR5(2,"em",14),e.C$Y(),e.I0R(3,"p",15),e.OEk(4),e.C$Y()()),2&o&&(e.yG2(4),e.cNF("\u7121\u8cc7\u6599"))}function Qt(o,r){if(1&o&&e.yuY(0,Bt,5,1,"div",12),2&o){const t=e.GaO();e.E7m("ngIf",t.noData)}}let Lt=(()=>{class o extends f.E{constructor(){super(),this.minWidth="",this.isError=!1,this.errorMessage="",this.disabled=!1,this.noData=!1,this.valueChange=new e._w7,this.memoChange=new e._w7}onMemoChange(t){this.disabled||(this.notifyValueChange({value:this.model.value,memo:this.memo??""}),this.memoChange.emit(this.memo))}check(t){if(this.disabled)t.preventDefault();else{const i={value:t.target.value,memo:this.memo??""};this.notifyValueChange(i),this.valueChange.emit(i)}}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-radio"]],inputs:{option:"option",minWidth:"minWidth",isError:"isError",errorMessage:"errorMessage",disabled:"disabled",name:"name",id:"id",checked:"checked",memo:"memo",noData:"noData"},outputs:{valueChange:"valueChange",memoChange:"memoChange"},features:[e.M5G([(0,f.I)(o)]),e.eg9],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["tNoData",""],["type","radio",1,"d-none",3,"disabled","name","id","checked","value","click"],["tRadio",""],[1,"d-flex","align-items-start","pe-pointer",3,"for"],[1,"click-area","border-grey-iron","p-relative"],[1,"d-flex","flex-wrap"],[1,"fs-md","text-wrap","text-grey-black","ml-2"],["type","text","class","input","id","otherInput",3,"ngModel","placeholder","disabled","value","ngModelChange",4,"ngIf"],["class","error-message",4,"ngIf"],["type","text","id","otherInput",1,"input",3,"ngModel","placeholder","disabled","value","ngModelChange"],[1,"error-message"],["class","d-flex align-items-start",4,"ngIf"],[1,"d-flex","align-items-start"],[1,"icon-minus"],[1,"fs-md","text-wrap","text-grey-iron","ml-2"]],template:function(n,i){if(1&n&&e.yuY(0,Vt,11,17,"ng-container",0)(1,Qt,1,1,"ng-template",null,1,e.gJz),2&n){const a=e.Gew(2);e.E7m("ngIf",i.option)("ngIfElse",a)}},dependencies:[u.u_,s.ot,s.ue,s._G,y.sD],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex}input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{margin:2px 6px 2px 1px;padding:2px 4px;border-radius:6px}input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:9rem;height:1.4rem;margin:2px 2px 2px 4px;border:none;border-bottom:1px solid #a4a4a4;border-radius:5px;transition:.1s ease}input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:disabled):hover{border:1.5px solid var(--primary-color)}input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   .click-area[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:60%;width:60%;border-radius:50%;background-color:#44b787}input[type=radio][_ngcontent-%COMP%]:active + label[_ngcontent-%COMP%]   .click-area[_ngcontent-%COMP%]{opacity:.5}input[type=radio][_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]{cursor:auto}input[type=radio][_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]   .click-area[_ngcontent-%COMP%]{background-color:#f4f4f4}input[type=radio][_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a4a4a4}input[type=radio][_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]   p.hasMemo[_ngcontent-%COMP%]{word-break:keep-all}input[type=radio][_ngcontent-%COMP%]:not(:disabled) + label[_ngcontent-%COMP%]:hover{background-color:var(--primary-background-hover)}input[type=radio][_ngcontent-%COMP%]:not(:disabled) + label[_ngcontent-%COMP%]:hover   .click-area[_ngcontent-%COMP%]{border:1.5px solid var(--primary-color)}input[type=radio].error[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]   .click-area[_ngcontent-%COMP%]{border:1px solid #ef6149!important}input[type=radio].error[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:hover{background-color:var(--warn-background-hover)}input[type=radio].error[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:hover   .click-area[_ngcontent-%COMP%]{border-width:1.5px!important}.click-area[_ngcontent-%COMP%]{top:2px;min-width:1.25rem;min-height:1.25rem;border-radius:50%;background-color:#fff}.click-area[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);color:#a4a4a4}p[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{word-break:break-all}']})}return o})();function jt(o,r){if(1&o){const t=e.KQA();e.SAx(0),e.I0R(1,"app-radio",4),e.qCj("valueChange",function(i){e.usT(t);const a=e.GaO();return e.CGJ(a.change(i))})("memoChange",function(i){const l=e.usT(t).index,p=e.GaO();return e.CGJ(p.memoChange(i,l))}),e.C$Y(),e.k70()}if(2&o){const t=r.$implicit,n=r.index,i=e.GaO();e.yG2(),e.E7m("option",t)("name","radio-"+i.name)("id",i.name+"-"+n)("memo",t.memo)("disabled",i.disabled)("isError",i.isError)("checked",t.isSelect)}}function zt(o,r){if(1&o&&(e.I0R(0,"div",5),e.OEk(1),e.C$Y()),2&o){const t=e.GaO();e.yG2(),e.cNF(t.errorMessage)}}function Kt(o,r){1&o&&(e.I0R(0,"div",6)(1,"span",7),e.wR5(2,"em",8),e.C$Y(),e.I0R(3,"p",9),e.OEk(4),e.C$Y()()),2&o&&(e.yG2(4),e.cNF("\u7121\u8cc7\u6599"))}let B=(()=>{class o extends f.E{constructor(t){super(),this.cdr=t,this.options=[],this.isColumn=!0,this.minWidth="",this.isError=!1,this.errorMessage="",this.disabled=!1,this.noData=!1}ngAfterViewInit(){this.options&&this.options?.length>0&&this.model&&this.model?.length>0&&(this.setChecks(),this.cdr.detectChanges())}change(t){this.notifyValueChange([t]),this.setChecks()}memoChange(t,n){this.options[n].memo=t;const i=this.model;i[n].memo=t,this.notifyValueChange(i)}setChecks(){this.options.forEach((t,n)=>{const i=this.model.some(a=>"number"==typeof a.value?+a.value==+t.code:`${a.value}`==`${t.code}`);this.options[n].isSelect=i})}static#e=this.\u0275fac=function(n){return new(n||o)(e.GI1(e.kD9))};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-radio-set"]],inputs:{options:"options",isColumn:"isColumn",minWidth:"minWidth",isError:"isError",errorMessage:"errorMessage",disabled:"disabled",name:"name",groupMarginTop:"groupMarginTop",noData:"noData"},features:[e.M5G([(0,f.I)(o)]),e.eg9],decls:4,vars:5,consts:[[1,"host"],[4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],["class","d-flex align-items-start",4,"ngIf"],[3,"option","name","id","memo","disabled","isError","checked","valueChange","memoChange"],[1,"error-message"],[1,"d-flex","align-items-start"],[1,"click-area","border-grey-iron","p-relative"],[1,"icon-minus"],[1,"fs-md","text-wrap","text-grey-iron","ml-2"]],template:function(n,i){1&n&&(e.I0R(0,"div",0),e.yuY(1,jt,2,7,"ng-container",1)(2,zt,2,1,"div",2)(3,Kt,5,1,"div",3),e.C$Y()),2&n&&(e.m4B("margin-top",i.groupMarginTop),e.yG2(),e.E7m("ngForOf",i.options),e.yG2(),e.E7m("ngIf",i.errorMessage&&i.isError),e.yG2(),e.E7m("ngIf",i.noData))},dependencies:[u.ay,u.u_,Lt],styles:["[_nghost-%COMP%]{width:100%;display:flex}.host[_ngcontent-%COMP%]{display:flex;height:100%;width:100%;flex-wrap:wrap;margin-left:-.38rem}.host[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-of-type:hover   em[_ngcontent-%COMP%]{opacity:1}"]})}return o})();function Ut(o,r){1&o&&(e.I0R(0,"span",16),e.OEk(1,"*"),e.C$Y())}function Ht(o,r){1&o&&(e.I0R(0,"span",16),e.OEk(1,"*"),e.C$Y())}function Xt(o,r){if(1&o&&(e.I0R(0,"p",30),e.OEk(1),e.yuY(2,Ht,2,0,"span",10),e.C$Y()),2&o){const t=e.GaO(2).$implicit;e.yG2(),e.oRS(" ",t.title,""),e.yG2(),e.E7m("ngIf",t.required)}}function Jt(o,r){if(1&o&&e.wR5(0,"app-radio-set",31),2&o){const t=e.GaO(2),n=t.$implicit,i=t.index,a=e.GaO(3).$implicit,l=e.GaO(3);let p;e.E7m("formControl",n.form)("options",n.optionsForNormal)("isError",n.form.invalid&&l.form.touched&&l.isCompleteClicked)("name",(null!==(p=null==a?null:a.questionId)&&void 0!==p?p:"")+"-"+i)}}function Wt(o,r){if(1&o&&e.wR5(0,"app-select",32),2&o){const t=e.GaO(2).$implicit,n=e.GaO(6);let i;e.E7m("formControl",t.form)("options",t.optionsForNormal)("placeholder",null!==(i=t.placeholder)&&void 0!==i?i:"\u8acb\u9078\u64c7")("isDynamic",!0)("isError",t.form.invalid&&n.form.touched&&n.isCompleteClicked)}}function Zt(o,r){if(1&o&&e.wR5(0,"app-checkbox-set",33),2&o){const t=e.GaO(2).$implicit,n=e.GaO(6);e.E7m("formControl",t.form)("options",t.optionsForNormal)("isError",t.form.invalid&&n.form.touched&&n.isCompleteClicked)}}function en(o,r){if(1&o&&e.wR5(0,"app-multi-select",34),2&o){const t=e.GaO(2).$implicit,n=e.GaO(3).$implicit,i=e.GaO(3);let a,l;e.E7m("formControl",t.form)("id",null!==(a=n.title)&&void 0!==a?a:"")("options",t.optionsForNormal)("isDynamic",!0)("isError",t.form.invalid&&i.form.touched&&i.isCompleteClicked)("placeholder",null!==(l=t.placeholder)&&void 0!==l?l:"\u53ef\u591a\u9078")("hasFilter",!0)}}function tn(o,r){if(1&o&&e.wR5(0,"app-date-picker",35),2&o){const t=e.GaO(2).$implicit,n=e.GaO(6);e.E7m("formControl",t.form)("isDynamic",!0)("isError",t.form.invalid&&n.form.touched&&n.isCompleteClicked)("isDisabled",t.form.disabled)}}function nn(o,r){if(1&o&&e.wR5(0,"app-date-picker",36),2&o){const t=e.GaO(2).$implicit,n=e.GaO(6);e.E7m("formControl",t.form)("isRange",!0)("isDynamic",!0)("isError",t.form.invalid&&n.form.touched&&n.isCompleteClicked)("isDisabled",t.form.disabled)}}function on(o,r){if(1&o&&e.wR5(0,"app-input",37),2&o){const t=e.GaO(2).$implicit,n=e.GaO(6);e.E7m("formControl",t.form)("isDynamic",!0)("isError",t.form.invalid&&n.form.touched&&n.isCompleteClicked)}}function an(o,r){if(1&o&&e.wR5(0,"app-fit-content-textarea",38),2&o){const t=e.GaO(2).$implicit,n=e.GaO(6);e.E7m("formControl",t.form)("isDynamic",!0)("maxHeight","4rem")("isError",t.form.invalid&&n.form.touched&&n.isCompleteClicked)}}function rn(o,r){if(1&o&&(e.I0R(0,"li",41)(1,"span"),e.OEk(2),e.C$Y()()),2&o){const t=e.GaO().$implicit,n=e.GaO(3).$implicit;e.E7m("@downInCompressOut",void 0),e.yG2(2),e.oRS(" ",n.form.errors?n.form.errors[t.type]:""," ")}}function sn(o,r){if(1&o&&(e.SAx(0),e.yuY(1,rn,3,2,"li",40),e.k70()),2&o){const t=r.$implicit,n=e.GaO(3).$implicit;e.yG2(),e.E7m("ngIf",!!n.form.errors&&n.form.errors[t.type])}}function ln(o,r){if(1&o&&(e.I0R(0,"ul",39),e.yuY(1,sn,2,1,"ng-container",0),e.C$Y()),2&o){const t=e.GaO(2).$implicit;e.yG2(),e.E7m("ngForOf",t.validationView)}}function cn(o,r){if(1&o&&(e.I0R(0,"li",18),e.yuY(1,Xt,3,2,"p",19),e.SAx(2,20),e.yuY(3,Jt,1,4,"app-radio-set",21)(4,Wt,1,5,"app-select",22)(5,Zt,1,3,"app-checkbox-set",23)(6,en,1,7,"app-multi-select",24)(7,tn,1,4,"app-date-picker",25)(8,nn,1,5,"app-date-picker",26)(9,on,1,3,"app-input",27)(10,an,1,4,"app-fit-content-textarea",28),e.k70(),e.yuY(11,ln,2,1,"ul",29),e.C$Y()),2&o){const t=e.GaO().$implicit,n=e.GaO(6);e.yG2(),e.E7m("ngIf",t.title),e.yG2(),e.E7m("ngSwitch",t.type),e.yG2(),e.E7m("ngSwitchCase",n.fieldType.Radio),e.yG2(),e.E7m("ngSwitchCase",n.fieldType.Select),e.yG2(),e.E7m("ngSwitchCase",n.fieldType.Checkbox),e.yG2(),e.E7m("ngSwitchCase",n.fieldType.MultiSelect),e.yG2(),e.E7m("ngSwitchCase",n.fieldType.DatePicker),e.yG2(),e.E7m("ngSwitchCase",n.fieldType.DatePickerRange),e.yG2(),e.E7m("ngSwitchCase",n.fieldType.Input),e.yG2(),e.E7m("ngSwitchCase",n.fieldType.TextArea),e.yG2(),e.E7m("ngIf",t.form.invalid&&n.form.touched&&n.isCompleteClicked)}}function pn(o,r){if(1&o&&(e.SAx(0),e.yuY(1,cn,12,11,"li",17),e.k70()),2&o){const t=r.$implicit;e.yG2(),e.E7m("ngIf",t.show)}}function mn(o,r){if(1&o){const t=e.KQA();e.I0R(0,"li",6)(1,"div",7)(2,"div",8)(3,"p",9),e.OEk(4),e.yuY(5,Ut,2,0,"span",10),e.C$Y(),e.I0R(6,"p",11),e.OEk(7),e.C$Y()(),e.I0R(8,"ul",12),e.yuY(9,pn,2,1,"ng-container",0),e.C$Y()(),e.I0R(10,"div",13)(11,"app-borderless-button",14),e.qCj("click",function(){e.usT(t);const i=e.GaO(2),a=i.$implicit,l=i.index,p=e.GaO(3);return e.CGJ(p.editSubQuestion(a,l))}),e.OEk(12,"\u7de8\u8f2f"),e.C$Y(),e.I0R(13,"app-borderless-button",15),e.qCj("click",function(){e.usT(t);const i=e.GaO(2).index,a=e.GaO(2).index,l=e.GaO();return e.CGJ(l.deleteSubQuestion(a,i))}),e.OEk(14,"\u522a\u9664"),e.C$Y()()()}if(2&o){const t=e.GaO(2).$implicit,n=e.GaO(3);e.eAK("error",t.form.invalid&&(null==n.form?null:n.form.touched)),e.E7m("@verticalShortenOut",void 0)("formGroup",t.form),e.yG2(4),e.oRS(" ",t.title,""),e.yG2(),e.E7m("ngIf",n.isRequired(t)),e.yG2(2),e.cNF(t.description),e.yG2(2),e.E7m("ngForOf",t.SubQuestionGroup),e.yG2(2),e.E7m("type",n.colorType.Primary)("size",n.sizeType.S),e.yG2(2),e.E7m("type",n.colorType.Warn)("size",n.sizeType.S)}}function dn(o,r){if(1&o&&(e.SAx(0),e.yuY(1,mn,15,12,"li",5),e.k70()),2&o){const t=e.GaO().$implicit;e.yG2(),e.E7m("ngIf",t)}}function un(o,r){if(1&o&&(e.SAx(0),e.yuY(1,dn,2,1,"ng-container",4),e.k70()),2&o){const t=r.$implicit;e.yG2(),e.E7m("ngIf",t.show)}}function _n(o,r){if(1&o&&(e.I0R(0,"section",2)(1,"ul",3),e.yuY(2,un,2,1,"ng-container",0),e.C$Y()()),2&o){const t=e.GaO().$implicit;e.E7m("formGroup",t.form),e.yG2(2),e.E7m("ngForOf",t.questions)}}function gn(o,r){if(1&o&&(e.SAx(0),e.yuY(1,_n,3,2,"section",1),e.k70()),2&o){const t=r.$implicit;e.yG2(),e.E7m("ngIf",0!==t.questions.length)}}let hn=(()=>{class o extends W.Q{constructor(t){super(),this.$overlay=t,this.isCompleteClicked=!1,this.valueChange=new e._w7}get fieldType(){return g}isRequired(t){return t.SubQuestionGroup.some(n=>n.required)}hasMemo(t){return t.options.some(n=>n.some(i=>i.memo))}editSubQuestion(t,n){this.$overlay.addDialog(nt,t)}deleteSubQuestion(t,n){const i=this.page?.groups[t].questions.filter((a,l)=>l!==n);this.page.groups[t].questions=i??[]}trim(t){const n=t.target;n.value=n.value.trim()}static#e=this.\u0275fac=function(n){return new(n||o)(e.GI1(H.Y))};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-dynamic-form-basic-type"]],inputs:{pageIndex:"pageIndex",page:"page",form:"form",isCompleteClicked:"isCompleteClicked"},outputs:{valueChange:"valueChange"},features:[e.eg9],decls:2,vars:2,consts:[[4,"ngFor","ngForOf"],["class","question-card mt-6 bg-white",3,"formGroup",4,"ngIf"],[1,"question-card","mt-6","bg-white",3,"formGroup"],[1,"question-card__question","pt-6","pb-4"],[4,"ngIf"],["class","p-relative d-flex justify-content-between align-items-start px-8 pt-3 pb-5",3,"error","formGroup",4,"ngIf"],[1,"p-relative","d-flex","justify-content-between","align-items-start","px-8","pt-3","pb-5",3,"formGroup"],[1,"w-100","d-flex","flex-column"],[1,"d-flex","mb-2"],[1,"text-grey-black","fs-md","pr-2"],["class","text-red-middle align-top ml-1",4,"ngIf"],[1,"text-grey-dark","fs-xsm","ml-2"],[1,"question-card__option-group"],[1,"d-flex","align-items-end","pt-3","opacity-0"],[1,"mr-2","h-8",3,"type","size","click"],[1,"h-8",3,"type","size","click"],[1,"text-red-middle","align-top","ml-1"],["class","w-100 d-flex flex-column align-items-start",4,"ngIf"],[1,"w-100","d-flex","flex-column","align-items-start"],["class","fs-md text-grey-dark mt-3 mb-2",4,"ngIf"],[3,"ngSwitch"],["class","w-100",3,"formControl","options","isError","name",4,"ngSwitchCase"],["class","w-40p",3,"formControl","options","placeholder","isDynamic","isError",4,"ngSwitchCase"],["class","w-80p",3,"formControl","options","isError",4,"ngSwitchCase"],["class","w-40p",3,"formControl","id","options","isDynamic","isError","placeholder","hasFilter",4,"ngSwitchCase"],["class","h-11 w-40p","position","right","valeFontSize","1rem",3,"formControl","isDynamic","isError","isDisabled",4,"ngSwitchCase"],["class","h-11 w-40p","position","right","valeFontSize","1rem",3,"formControl","isRange","isDynamic","isError","isDisabled",4,"ngSwitchCase"],["class","w-80p",3,"formControl","isDynamic","isError",4,"ngSwitchCase"],["class","w-80p",3,"formControl","isDynamic","maxHeight","isError",4,"ngSwitchCase"],["class","d-flex mt-1",4,"ngIf"],[1,"fs-md","text-grey-dark","mt-3","mb-2"],[1,"w-100",3,"formControl","options","isError","name"],[1,"w-40p",3,"formControl","options","placeholder","isDynamic","isError"],[1,"w-80p",3,"formControl","options","isError"],[1,"w-40p",3,"formControl","id","options","isDynamic","isError","placeholder","hasFilter"],["position","right","valeFontSize","1rem",1,"h-11","w-40p",3,"formControl","isDynamic","isError","isDisabled"],["position","right","valeFontSize","1rem",1,"h-11","w-40p",3,"formControl","isRange","isDynamic","isError","isDisabled"],[1,"w-80p",3,"formControl","isDynamic","isError"],[1,"w-80p",3,"formControl","isDynamic","maxHeight","isError"],[1,"d-flex","mt-1"],["class","error-message mr-3",4,"ngIf"],[1,"error-message","mr-3"]],template:function(n,i){1&n&&(e.I0R(0,"div"),e.yuY(1,gn,2,1,"ng-container",0),e.C$Y()),2&n&&(e.E7m("@fadeInOut",void 0),e.yG2(),e.E7m("ngForOf",null==i.page?null:i.page.groups))},dependencies:[u.ay,u.u_,u.Ko,u.Wm,ee,F.Y,te,q,V,D,s.ue,s.u,s.ug,s.uW,T,B],styles:['.question-card[_ngcontent-%COMP%]{border-radius:10px;box-shadow:0 0 12px #0000000a}.question-card__question[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover:before{position:fixed;content:"";position:absolute;width:3px;height:100%;background-color:var(--primary-select-color);left:0;top:0}.question-card__question[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   div[_ngcontent-%COMP%]:last-of-type{transition:.2s;opacity:1!important}.question-card__question[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-of-type{min-width:150px}.question-card__question[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-of-type > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{letter-spacing:1px}.question-card__option-group[_ngcontent-%COMP%]{width:calc(100% - 1.6rem)}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{margin-bottom:0}app-select[_ngcontent-%COMP%], app-multi-select[_ngcontent-%COMP%], app-date-picker[_ngcontent-%COMP%]{max-width:400px;min-width:260px}app-radio[_ngcontent-%COMP%], app-checkbox-set[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{max-width:854px;min-width:260px}'],data:{animation:[(0,w.s7)(),(0,w.aS)(),(0,w.Ke)()]}})}return o})();function fn(o,r){1&o&&e.wR5(0,"em",9)}function Cn(o,r){if(1&o&&(e.I0R(0,"em",10),e.OEk(1),e.C$Y()),2&o){const t=e.GaO(2).$implicit;e.yG2(),e.cNF(t.order)}}function bn(o,r){1&o&&(e.I0R(0,"span",23),e.OEk(1,"*"),e.C$Y())}function yn(o,r){if(1&o&&(e.I0R(0,"p",24),e.OEk(1),e.C$Y()),2&o){const t=e.GaO(3).$implicit;e.yG2(),e.oRS(" ",t.description," ")}}function xn(o,r){if(1&o&&e.wR5(0,"app-radio-set",36),2&o){const t=e.GaO(2),n=t.$implicit,i=t.index,a=e.GaO(3).$implicit,l=e.GaO(3);let p;e.E7m("formControl",n.form)("options",n.optionsForNormal)("isError",n.form.invalid&&l.form.touched&&l.isCompleteClicked)("name",(null!==(p=null==a?null:a.questionId)&&void 0!==p?p:"")+"-"+i)}}function On(o,r){if(1&o&&e.wR5(0,"app-select",37),2&o){const t=e.GaO(2).$implicit;let n;e.E7m("formControl",t.form)("isDynamic",!0)("options",t.optionsForNormal)("placeholder",null!==(n=t.placeholder)&&void 0!==n?n:"\u8acb\u9078\u64c7")}}function vn(o,r){if(1&o&&e.wR5(0,"app-checkbox-set",38),2&o){const t=e.GaO(2).$implicit,n=e.GaO(3).$implicit,i=e.GaO(3);e.E7m("formControl",t.form)("options",t.optionsForNormal)("hasOtherInput",i.hasMemo(t))("name",n.questionId+t.answerId)("isError",t.form.invalid&&i.form.touched&&i.isCompleteClicked)}}function Mn(o,r){if(1&o&&e.wR5(0,"app-multi-select",39),2&o){const t=e.GaO(2).$implicit,n=e.GaO(3).$implicit;let i,a;e.E7m("formControl",t.form)("isDynamic",!0)("id",null!==(i=n.title)&&void 0!==i?i:"")("options",t.optionsForNormal)("placeholder",null!==(a=t.placeholder)&&void 0!==a?a:"\u53ef\u591a\u9078")("hasFilter",!0)}}function wn(o,r){if(1&o&&e.wR5(0,"app-date-picker",40),2&o){const t=e.GaO(2).$implicit,n=e.GaO(6);e.E7m("formControl",t.form)("isDynamic",!0)("isError",t.form.invalid&&n.form.touched&&n.isCompleteClicked)("isDisabled",t.form.disabled)}}function In(o,r){if(1&o&&e.wR5(0,"app-date-picker",41),2&o){const t=e.GaO(2).$implicit,n=e.GaO(6);e.E7m("formControl",t.form)("isDynamic",!0)("isRange",!0)("isError",t.form.invalid&&n.form.touched&&n.isCompleteClicked)("isDisabled",t.form.disabled)}}function kn(o,r){if(1&o&&e.wR5(0,"app-input",42),2&o){const t=e.GaO(2).$implicit,n=e.GaO(6);let i;e.E7m("formControl",t.form)("isDynamic",!0)("placeholder",null!==(i=t.placeholder)&&void 0!==i?i:"\u8acb\u8f38\u5165\u5167\u5bb9\u6587\u5b57")("isError",t.form.invalid&&n.form.touched&&n.isCompleteClicked)}}function En(o,r){if(1&o&&e.wR5(0,"app-fit-content-textarea",43),2&o){const t=e.GaO(2).$implicit,n=e.GaO(6);e.E7m("formControl",t.form)("isDynamic",!0)("isError",t.form.invalid&&n.form.touched&&n.isCompleteClicked)}}function Pn(o,r){if(1&o&&(e.I0R(0,"li",26),e.SAx(1,27),e.yuY(2,xn,1,4,"app-radio-set",28)(3,On,1,4,"app-select",29)(4,vn,1,5,"app-checkbox-set",30)(5,Mn,1,6,"app-multi-select",31)(6,wn,1,4,"app-date-picker",32)(7,In,1,5,"app-date-picker",33)(8,kn,1,4,"app-input",34)(9,En,1,3,"app-fit-content-textarea",35),e.k70(),e.C$Y()),2&o){const t=e.GaO().$implicit,n=e.GaO(6);e.yG2(),e.E7m("ngSwitch",t.type),e.yG2(),e.E7m("ngSwitchCase",n.fieldType.Radio),e.yG2(),e.E7m("ngSwitchCase",n.fieldType.Select),e.yG2(),e.E7m("ngSwitchCase",n.fieldType.Checkbox),e.yG2(),e.E7m("ngSwitchCase",n.fieldType.MultiSelect),e.yG2(),e.E7m("ngSwitchCase",n.fieldType.DatePicker),e.yG2(),e.E7m("ngSwitchCase",n.fieldType.DatePickerRange),e.yG2(),e.E7m("ngSwitchCase",n.fieldType.Input),e.yG2(),e.E7m("ngSwitchCase",n.fieldType.TextArea)}}function Gn(o,r){if(1&o&&(e.SAx(0),e.yuY(1,Pn,10,9,"li",25),e.k70()),2&o){const t=r.$implicit;e.yG2(),e.E7m("ngIf",t.show)}}function Fn(o,r){if(1&o&&(e.I0R(0,"li",13)(1,"div",14)(2,"div",15)(3,"p",16),e.OEk(4),e.I0R(5,"span",17),e.OEk(6,"-"),e.C$Y(),e.OEk(7),e.C$Y(),e.I0R(8,"div",18)(9,"span",19),e.yuY(10,bn,2,0,"span",20),e.OEk(11),e.C$Y(),e.yuY(12,yn,2,1,"p",21),e.C$Y()()(),e.I0R(13,"ul",22),e.yuY(14,Gn,2,1,"ng-container",0),e.C$Y()()),2&o){const t=e.GaO(2).$implicit,n=e.GaO(2).$implicit,i=e.GaO();e.eAK("error",t.form.invalid&&(null==i.form?null:i.form.touched)&&i.isCompleteClicked),e.E7m("formGroup",t.form),e.yG2(4),e.cNF(null==n?null:n.order),e.yG2(3),e.cNF(t.order+1),e.yG2(3),e.E7m("ngIf",i.isQuestionRequired(t)),e.yG2(),e.cNF(t.title),e.yG2(),e.E7m("ngIf",t.description),e.yG2(2),e.E7m("ngForOf",t.SubQuestionGroup)}}function Dn(o,r){if(1&o&&(e.SAx(0),e.yuY(1,Fn,15,9,"li",12),e.k70()),2&o){const t=e.GaO().$implicit;e.yG2(),e.E7m("ngIf",t)}}function Tn(o,r){if(1&o&&(e.SAx(0),e.yuY(1,Dn,2,1,"ng-container",11),e.k70()),2&o){const t=r.$implicit;e.yG2(),e.E7m("ngIf",t.show)}}function Rn(o,r){if(1&o&&(e.I0R(0,"section",2)(1,"div",3)(2,"div",4),e.yuY(3,fn,1,0,"em",5)(4,Cn,2,1,"em",6),e.I0R(5,"h4",7),e.OEk(6),e.C$Y()()(),e.I0R(7,"ul",8),e.yuY(8,Tn,2,1,"ng-container",0),e.C$Y()()),2&o){const t=e.GaO().$implicit;e.E7m("formGroup",t.form),e.yG2(3),e.E7m("ngIf",t.form.valid),e.yG2(),e.E7m("ngIf",!t.form.valid),e.yG2(2),e.cNF(t.name),e.yG2(2),e.E7m("ngForOf",t.questions)}}function Sn(o,r){if(1&o&&(e.SAx(0),e.yuY(1,Rn,9,5,"section",1),e.k70()),2&o){const t=r.$implicit;e.yG2(),e.E7m("ngIf",0!==t.questions.length)}}let $n=(()=>{class o{constructor(){this.valueChange=new e._w7,this.remarkValueChange=new e._w7,this.isCompleteClicked=!1}get fieldStatusType(){return c.Mp}get fieldType(){return g}get progress(){return c.Mv}ngOnInit(){}isRequired(t){return t.SubQuestionGroup.some(n=>n.required)}onRemarkValueChange(t,n){const i=t.find(a=>+a.type===this.answerStatus);i&&this.remarkValueChange.emit({remark:i,questionId:n})}hasMemo(t){return t.options.some(n=>n.some(i=>i.memo))}trim(t){const n=t.target;n.value=n.value.trim()}isQuestionRequired(t){return Object.values(t.SubQuestionGroup).some(n=>n.required)}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-dynamic-form-group-type"]],inputs:{progressStatus:"progressStatus",answerStatus:"answerStatus",pageIndex:"pageIndex",page:"page",form:"form",submitBody:"submitBody",isCompleteClicked:"isCompleteClicked"},outputs:{valueChange:"valueChange",remarkValueChange:"remarkValueChange"},decls:2,vars:2,consts:[[4,"ngFor","ngForOf"],["class","question-card mt-6 pt-3 bg-white",3,"formGroup",4,"ngIf"],[1,"question-card","mt-6","pt-3","bg-white",3,"formGroup"],[1,"question-card__header"],[1,"d-flex","align-items-center","px-8","pb-3","p-relative"],["class","complete icon-circle fw-7 h-8 w-8 bg-green-light text-center",4,"ngIf"],["class","d-flex align-items-center justify-content-center mr-2_5 fs-lgx fw-4",4,"ngIf"],[1,"fs-lg","fw-4","text-grey-iron"],[1,"question-card__question","d-flex","flex-wrap"],[1,"complete","icon-circle","fw-7","h-8","w-8","bg-green-light","text-center"],[1,"d-flex","align-items-center","justify-content-center","mr-2_5","fs-lgx","fw-4"],[4,"ngIf"],["class","pt-1 pb-3 px-8 w-50p",3,"error","formGroup",4,"ngIf"],[1,"pt-1","pb-3","px-8","w-50p",3,"formGroup"],[1,"d-flex","flex-column"],[1,"d-flex","text-grey-black"],[1,"text-grey-dark","text-nowrap","fw-7"],[1,"mx-0_5"],[1,"d-flex","flex-column","ml-3"],[1,"fs-lg","text-grey-dark"],["class","text-red-middle",4,"ngIf"],["class","fs-xsm text-grey-dark mt-1",4,"ngIf"],[1,"question-card__option-group","mt-1","mb-3"],[1,"text-red-middle"],[1,"fs-xsm","text-grey-dark","mt-1"],["class","d-flex flex-column align-items-start pl-6 ml-8",4,"ngIf"],[1,"d-flex","flex-column","align-items-start","pl-6","ml-8"],[3,"ngSwitch"],["class","w-100",3,"formControl","options","isError","name",4,"ngSwitchCase"],["class","w-100 mt-2",3,"formControl","isDynamic","options","placeholder",4,"ngSwitchCase"],["class","w-100",3,"formControl","options","hasOtherInput","name","isError",4,"ngSwitchCase"],["class","w-100 mt-2",3,"formControl","isDynamic","id","options","placeholder","hasFilter",4,"ngSwitchCase"],["class","h-11 w-100","position","right","valeFontSize","1rem",3,"formControl","isDynamic","isError","isDisabled",4,"ngSwitchCase"],["class","h-11 w-100","position","right","valeFontSize","1rem",3,"formControl","isDynamic","isRange","isError","isDisabled",4,"ngSwitchCase"],["class","w-100",3,"formControl","isDynamic","placeholder","isError",4,"ngSwitchCase"],["class","w-80p",3,"formControl","isDynamic","isError",4,"ngSwitchCase"],[1,"w-100",3,"formControl","options","isError","name"],[1,"w-100","mt-2",3,"formControl","isDynamic","options","placeholder"],[1,"w-100",3,"formControl","options","hasOtherInput","name","isError"],[1,"w-100","mt-2",3,"formControl","isDynamic","id","options","placeholder","hasFilter"],["position","right","valeFontSize","1rem",1,"h-11","w-100",3,"formControl","isDynamic","isError","isDisabled"],["position","right","valeFontSize","1rem",1,"h-11","w-100",3,"formControl","isDynamic","isRange","isError","isDisabled"],[1,"w-100",3,"formControl","isDynamic","placeholder","isError"],[1,"w-80p",3,"formControl","isDynamic","isError"]],template:function(n,i){1&n&&(e.I0R(0,"div"),e.yuY(1,Sn,2,1,"ng-container",0),e.C$Y()),2&n&&(e.E7m("@fadeInOut",void 0),e.yG2(),e.E7m("ngForOf",null==i.page?null:i.page.groups))},dependencies:[u.ay,u.u_,u.Ko,u.Wm,F.Y,te,q,V,D,s.ue,s.u,s.ug,s.uW,T,B],styles:[".question-card[_ngcontent-%COMP%]{border-radius:10px;box-shadow:1px 2px 2px #0000001a;border:1px solid var(--grey-background-hover);transition:.2s}.question-card__header[_ngcontent-%COMP%]{border-bottom:1px solid #f4f4f4}.question-card__header[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{position:absolute;left:-4px;top:-4px;height:2rem;width:2rem;min-height:2rem;min-width:2rem;border-radius:0 4px 4px 0;border:1px solid #e7e7e7;background-color:#fff;box-shadow:1px 1px 1px #0000001a}.question-card__header[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]:hover{opacity:1}.question-card__header[_ngcontent-%COMP%]   em.complete[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#44b787;border:1px solid #d0ede1;font-size:20px}.question-card__header[_ngcontent-%COMP%]   em.complete[_ngcontent-%COMP%]:before{transform:scale(.8)}.question-card__header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-left:.625rem;margin-top:1px;letter-spacing:.5px}.question-card__question[_ngcontent-%COMP%]{padding-top:1rem}.question-card__question[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{min-width:350px;width:95%;max-width:700px;transition:.2s}.question-card__question[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   div[_ngcontent-%COMP%]{border-left-color:var(--primary-color)}.question-card__question[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-left:.5rem;border-left:6px solid var(--primary-background-hover)}.question-card__option-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type{border-bottom:none}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{margin-bottom:0}p[_ngcontent-%COMP%]{letter-spacing:.5px}app-multi-select[_ngcontent-%COMP%], app-date-picker[_ngcontent-%COMP%], app-input[_ngcontent-%COMP%], app-fit-content-textarea[_ngcontent-%COMP%]{width:calc(100% - 3rem)}"],data:{animation:[(0,w.s7)()]}})}return o})();function Yn(o,r){1&o&&(e.I0R(0,"p",10),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&o&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"cab.upload-size-limit")," "))}function An(o,r){if(1&o){const t=e.KQA();e.I0R(0,"a",11),e.qCj("click",function(i){e.usT(t);const a=e.GaO();return e.CGJ(a.isFileSavedLocal?null:a.onDownloadFile.emit({event:i,file:a.latestFile.value.file}))}),e.OEk(1),e.C$Y()}if(2&o){const t=e.GaO();let n;e.E7m("href",t.isFileSavedLocal?t.latestFile.value.url:"javascript:void(0)",e.K6U)("download",t.latestFile.value.fileName),e.yG2(),e.cNF(null==(n=t.latestFile.get("fileName"))?null:n.value)}}function Nn(o,r){1&o&&(e.I0R(0,"p",14),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&o&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"cab.error-size-plz-reupload")," "))}function qn(o,r){1&o&&(e.I0R(0,"p",14),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&o&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"cab.error-type-plz-reupload")," "))}function Vn(o,r){if(1&o&&(e.I0R(0,"div",1),e.wR5(1,"em",12),e.yuY(2,Nn,3,3,"p",13)(3,qn,3,3,"p",13),e.C$Y()),2&o){const t=e.GaO();e.yG2(2),e.E7m("ngIf",t.latestFile.value.isSizeError),e.yG2(),e.E7m("ngIf",t.latestFile.value.isTypeError)}}function Bn(o,r){if(1&o&&(e.I0R(0,"label",15),e.wR5(1,"em",16),e.OEk(2),e.wVc(3,"translate"),e.C$Y()),2&o){const t=e.GaO();let n;e.yG2(2),e.cNF(e.kDX(3,1,null!=(n=t.latestFile.get("url"))&&n.value?"cab.reupload":"cab.upload-ppt"))}}function Qn(o,r){if(1&o){const t=e.KQA();e.I0R(0,"button",17),e.qCj("click",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.onClearFile.emit())}),e.OEk(1),e.wVc(2,"translate"),e.C$Y()}2&o&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"cab.delete-file")," "))}let Ln=(()=>{class o{constructor(){this.onDownloadFile=new e._w7,this.onDownloadTempFile=new e._w7,this.onUpload=new e._w7,this.onClearFile=new e._w7,this.pageIndex=0,this.fileControl=new s.Qn([]),this.isCompleteClicked=!1,this.isLastFileError=!1,this.isFileSavedLocal=!1,this.cabForm=new s.WC({})}get latestFile(){return this.fileControl.controls[this.fileControl.controls.length-1]}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-cab-upload-field"]],inputs:{question_pages:"question_pages",pageIndex:"pageIndex",fileControl:"fileControl",isCompleteClicked:"isCompleteClicked",isLastFileError:"isLastFileError",isFileSavedLocal:"isFileSavedLocal",cabForm:"cabForm"},outputs:{onDownloadFile:"onDownloadFile",onDownloadTempFile:"onDownloadTempFile",onUpload:"onUpload",onClearFile:"onClearFile"},decls:12,vars:10,consts:[[1,"question-card__upload","d-flex","align-items-center","justify-content-center","text-center","border-grey-light","px-3","mx-8"],[1,"d-flex","flex-column","align-items-center"],["class","fs-sm text-grey-iron",4,"ngIf"],["class","text-start text-grey-black text-break",3,"href","download","click",4,"ngIf"],["class","d-flex flex-column align-items-center",4,"ngIf"],[1,"d-flex","align-items-center","mt-5"],[1,"btn-flat","btn-normal","text-green-middle","border-green-middle","h-10","fs-xsm","px-5","mr-2",3,"click"],["type","file","accept",".ppt, .pptx, .pdf","id","upload",1,"d-none",3,"change"],["class","btn-flat d-flex align-items-center justify-content-center bg-green-middle w-30 h-10 fs-xsm px-5 mb-0 pe-pointer","for","upload",4,"ngIf"],["class","btn-flat btn-normal text-grey-iron border-grey-iron w-30 h-10 fs-xsm px-5",3,"click",4,"ngIf"],[1,"fs-sm","text-grey-iron"],[1,"text-start","text-grey-black","text-break",3,"href","download","click"],[1,"icon-exclamation-round","text-green-middle","mb-2"],["class","text-green-middle",4,"ngIf"],[1,"text-green-middle"],["for","upload",1,"btn-flat","d-flex","align-items-center","justify-content-center","bg-green-middle","w-30","h-10","fs-xsm","px-5","mb-0","pe-pointer"],[1,"icon-upload","text-white","mr-2"],[1,"btn-flat","btn-normal","text-grey-iron","border-grey-iron","w-30","h-10","fs-xsm","px-5",3,"click"]],template:function(n,i){if(1&n&&(e.I0R(0,"div",0)(1,"div",1),e.yuY(2,Yn,3,3,"p",2)(3,An,2,3,"a",3)(4,Vn,4,2,"div",4),e.I0R(5,"div",5)(6,"button",6),e.qCj("click",function(){return i.onDownloadTempFile.emit()}),e.OEk(7),e.wVc(8,"translate"),e.C$Y(),e.I0R(9,"input",7),e.qCj("change",function(l){return i.onUpload.emit(l)}),e.C$Y(),e.yuY(10,Bn,4,3,"label",8)(11,Qn,3,3,"button",9),e.C$Y()()()),2&n){let a;e.eAK("error",i.fileControl.invalid&&i.cabForm.touched&&i.isCompleteClicked),e.yG2(2),e.E7m("ngIf",!i.isLastFileError&&!i.latestFile.value.fileName),e.yG2(),e.E7m("ngIf",null==i.latestFile||null==(a=i.latestFile.get("fileName"))?null:a.value),e.yG2(),e.E7m("ngIf",i.isLastFileError),e.yG2(3),e.oRS(" ",e.kDX(8,8,"cab.basic-btn-download-temp")," "),e.yG2(3),e.E7m("ngIf",!i.latestFile.value.fileName),e.yG2(),e.E7m("ngIf",i.latestFile.value.fileName)}},dependencies:[u.u_,y.sD],styles:[".question-card__upload[_ngcontent-%COMP%]{border-radius:10px;padding:35.5px 0 36.5px}.question-card__upload.error[_ngcontent-%COMP%]{background-color:#fff0f0}.question-card__upload[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#44b787!important}p[_ngcontent-%COMP%]{margin-bottom:0}"]})}return o})();function jn(o,r){1&o&&(e.I0R(0,"div",14),e.wR5(1,"em",15),e.I0R(2,"p",16),e.OEk(3),e.wVc(4,"translate"),e.C$Y()()),2&o&&(e.yG2(3),e.oRS(" ",e.kDX(4,1,"cab.form-undone-error")," "))}function zn(o,r){if(1&o&&(e.I0R(0,"h5",9),e.OEk(1),e.wVc(2,"translate"),e.I0R(3,"span",17),e.OEk(4),e.C$Y(),e.OEk(5),e.wVc(6,"translate"),e.C$Y()),2&o){const t=e.GaO();e.yG2(),e.oRS(" ",e.kDX(2,3,"cab.undone-1"),""),e.yG2(3),e.cNF(t.unfinishedFieldCount),e.yG2(),e.oRS("",e.kDX(6,5,"cab.undone-2")," ")}}function Kn(o,r){if(1&o){const t=e.KQA();e.I0R(0,"app-dynamic-form-group-type",29),e.qCj("valueChange",function(i){e.usT(t);const a=e.GaO(4);return e.CGJ(a.onFormValeChange(i))})("remarkValueChange",function(i){e.usT(t);const a=e.GaO(4);return e.CGJ(a.onRemarkValueChange(i))}),e.C$Y()}if(2&o){const t=e.GaO(2),n=t.$implicit,i=t.index,a=e.GaO(2);e.E7m("page",n)("form",null==a.cab?null:a.cab.form)("isCompleteClicked",a.isCompleteClicked)("progressStatus",null==a.cab?null:a.cab.status)("pageIndex",i)("answerStatus",a.cab&&a.cab.status&&+a.cab.status===a.progressStatus.Draft?a.answerStatus.Draft:a.answerStatus.RequiredForApprove)("submitBody",a.getBody)}}function Un(o,r){if(1&o){const t=e.KQA();e.I0R(0,"app-dynamic-form-basic-type",30),e.qCj("valueChange",function(i){e.usT(t);const a=e.GaO(4);return e.CGJ(a.onFormValeChange(i))}),e.C$Y()}if(2&o){const t=e.GaO(2),n=t.$implicit,i=t.index,a=e.GaO(2);e.E7m("page",n)("form",null==a.cab?null:a.cab.form)("isCompleteClicked",a.isCompleteClicked)("pageIndex",i)}}function Hn(o,r){1&o&&e.wR5(0,"em",38)}function Xn(o,r){if(1&o&&(e.I0R(0,"em",39),e.OEk(1),e.C$Y()),2&o){const t=e.GaO(3).index,n=e.GaO(2);e.yG2(),e.cNF(n.question_pages[t].groups[n.question_pages[t].groups.length-1].order+1)}}function Jn(o,r){if(1&o){const t=e.KQA();e.I0R(0,"app-cab-upload-field",40),e.qCj("onDownloadTempFile",function(){e.usT(t);const i=e.GaO(5);return e.CGJ(i.downloadFileTemp())})("onDownloadFile",function(i){e.usT(t);const a=e.GaO(5);return e.CGJ(a.downloadFile(i))})("onUpload",function(i){e.usT(t);const a=e.GaO(5);return e.CGJ(a.upload(i))})("onClearFile",function(){e.usT(t);const i=e.GaO(5);return e.CGJ(i.clearFile())}),e.C$Y()}if(2&o){const t=e.GaO(3).index,n=e.GaO(2);e.E7m("question_pages",n.question_pages)("pageIndex",t)("fileControl",n.fileControl)("isCompleteClicked",n.isCompleteClicked)("isLastFileError",n.isLastFileError)("isFileSavedLocal",n.isFileSavedLocal)("cabForm",n.cab.form)}}function Wn(o,r){if(1&o){const t=e.KQA();e.I0R(0,"em",54),e.qCj("click",function(){e.usT(t);const i=e.GaO(8);return e.CGJ(i.clearFile())}),e.C$Y()}}function Zn(o,r){if(1&o){const t=e.KQA();e.I0R(0,"div",55)(1,"em",56),e.qCj("click",function(i){e.usT(t);const a=e.GaO(8);return e.CGJ(a.isFileSavedLocal?null:a.downloadFile({event:i,file:a.latestFile.value.file}))}),e.C$Y(),e.I0R(2,"a",57),e.qCj("click",function(i){e.usT(t);const a=e.GaO(8);return e.CGJ(a.isFileSavedLocal?null:a.downloadFile({event:i,file:a.latestFile.value.file}))}),e.OEk(3),e.C$Y()()}if(2&o){const t=e.GaO(2).$implicit,n=e.GaO(6);e.yG2(2),e.E7m("href",n.isFileSavedLocal?n.latestFile.value.url:"javascript:void(0)",e.K6U)("download",n.latestFile.value.fileName),e.yG2(),e.cNF(t.fileName)}}function eo(o,r){if(1&o&&(e.SAx(0),e.I0R(1,"div",50)(2,"label"),e.OEk(3),e.wVc(4,"translate"),e.C$Y(),e.I0R(5,"div",8)(6,"p",51),e.OEk(7),e.C$Y(),e.yuY(8,Wn,1,0,"em",52),e.C$Y()(),e.yuY(9,Zn,4,3,"div",53),e.k70()),2&o){const t=e.GaO().$implicit,n=e.GaO(6);e.yG2(2),e.qim("bg-",n.isOnProgressAnswer(t.type)?"green-light":"grey-middle"," text-",n.isOnProgressAnswer(t.type)?"green-middle":"grey-dark"," fs-xs mr-2 py-0_5 px-1 mb-0_5"),e.yG2(),e.cNF(e.kDX(4,8,+t.type===n.answerStatus.Draft?"cab.answer-status-draft":"cab.answer-status-supplement")),e.yG2(4),e.oRS(" ",n.getEditorInfo(t)," "),e.yG2(),e.E7m("ngIf",n.isOnProgressAnswer(t.type)),e.yG2(),e.E7m("ngIf",t.fileName)}}function to(o,r){if(1&o&&(e.I0R(0,"li",48),e.yuY(1,eo,10,10,"ng-container",49),e.C$Y()),2&o){const t=r.$implicit,n=e.GaO(6);e.yG2(),e.E7m("ngIf",t.fileName&&(void 0===t.fieldStatus||+t.fieldStatus!==n.fieldStatus.Inputting)&&(!n.isOnProgressAnswer(t.type)||!n.isFileInputting))}}function no(o,r){if(1&o){const t=e.KQA();e.I0R(0,"button",58),e.qCj("click",function(){e.usT(t);const i=e.GaO(6);return e.CGJ(i.openSupplementUpload())}),e.wR5(1,"em",59),e.OEk(2),e.wVc(3,"translate"),e.C$Y()}2&o&&(e.yG2(2),e.oRS(" ",e.kDX(3,1,"cab.add-supplement-des")," "))}function oo(o,r){if(1&o){const t=e.KQA();e.I0R(0,"div",60)(1,"p",61),e.OEk(2),e.wVc(3,"translate"),e.C$Y(),e.I0R(4,"app-cab-upload-field",62),e.qCj("onDownloadTempFile",function(){e.usT(t);const i=e.GaO(6);return e.CGJ(i.downloadFileTemp())})("onDownloadFile",function(i){e.usT(t);const a=e.GaO(6);return e.CGJ(a.downloadFile(i))})("onUpload",function(i){e.usT(t);const a=e.GaO(6);return e.CGJ(a.upload(i))})("onClearFile",function(){e.usT(t);const i=e.GaO(6);return e.CGJ(i.clearFile())}),e.C$Y()()}if(2&o){const t=e.GaO(4).index,n=e.GaO(2);e.yG2(2),e.oRS(" ",e.kDX(3,8,"cab.remark-supplement")," "),e.yG2(2),e.E7m("question_pages",n.question_pages)("pageIndex",t)("fileControl",n.fileControl)("isCompleteClicked",n.isCompleteClicked)("isLastFileError",n.isLastFileError)("isFileSavedLocal",n.isFileSavedLocal)("cabForm",n.cab.form)}}function io(o,r){if(1&o&&(e.I0R(0,"div",41)(1,"div",42)(2,"p",43),e.OEk(3),e.wVc(4,"translate"),e.C$Y(),e.I0R(5,"ul",44),e.yuY(6,to,2,1,"li",45),e.C$Y(),e.yuY(7,no,4,3,"button",46)(8,oo,5,10,"div",47),e.C$Y()()),2&o){const t=e.GaO(5);let n;e.eAK("error",t.fileControl.invalid&&(null==t.cab||null==t.cab.form?null:t.cab.form.touched)&&t.isCompleteClicked),e.yG2(3),e.oRS(" ",e.kDX(4,6,"cab.upload-result")," "),e.yG2(3),e.E7m("ngForOf",null==t.cab||null==t.cab.form||null==(n=t.cab.form.get("attachment"))?null:n.value),e.yG2(),e.E7m("ngIf",!t.isFileInputting&&!t.isAlreadyHasFile(t.latestFile.value)),e.yG2(),e.E7m("ngIf",t.isFileInputting)}}function ao(o,r){if(1&o&&(e.I0R(0,"section",31)(1,"div",32)(2,"div",33),e.yuY(3,Hn,1,0,"em",34)(4,Xn,2,1,"em",35),e.I0R(5,"h4"),e.OEk(6),e.wVc(7,"translate"),e.C$Y()()(),e.yuY(8,Jn,1,7,"app-cab-upload-field",36)(9,io,9,8,"ng-template",null,37,e.gJz),e.C$Y()),2&o){const t=e.Gew(10),n=e.GaO(4);e.yG2(3),e.E7m("ngIf",null==n.fileControl?null:n.fileControl.valid),e.yG2(),e.E7m("ngIf",!(null!=n.fileControl&&n.fileControl.valid)),e.yG2(2),e.cNF(e.kDX(7,5,"cab.upload-ppt")),e.yG2(2),e.E7m("ngIf",+n.cab.status!==n.progressStatus.RequiredForApprove)("ngIfElse",t)}}function ro(o,r){if(1&o&&(e.SAx(0)(1,24),e.yuY(2,Kn,1,7,"app-dynamic-form-group-type",26)(3,Un,1,4,"app-dynamic-form-basic-type",27),e.k70(),e.yuY(4,ao,11,7,"section",28),e.k70()),2&o){const t=e.GaO(),n=t.$implicit,i=t.index,a=e.GaO(2);e.yG2(),e.E7m("ngSwitch",+n.styleType),e.yG2(),e.E7m("ngSwitchCase",+a.pagType.Default),e.yG2(),e.E7m("ngSwitchCase",+a.pagType.BasicInfo),e.yG2(),e.E7m("ngIf",!!a.question_pages&&i===a.question_pages.length-1)}}function so(o,r){if(1&o&&(e.SAx(0,24),e.yuY(1,ro,5,4,"ng-container",25),e.k70()),2&o){const t=r.index,n=e.GaO(2);e.E7m("ngSwitch",+n.tabForm.value),e.yG2(),e.E7m("ngSwitchCase",+t)}}function lo(o,r){if(1&o){const t=e.KQA();e.I0R(0,"button",63),e.qCj("click",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.tabForm&&null!==i.tabForm.value&&i.tabForm.setValue(+i.tabForm.value-1))}),e.OEk(1),e.wVc(2,"translate"),e.C$Y()}2&o&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"common.last-page")," "))}function co(o,r){if(1&o){const t=e.KQA();e.I0R(0,"button",64),e.qCj("click",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.tabForm&&null!==i.tabForm.value&&i.tabForm.setValue(+i.tabForm.value+1))}),e.OEk(1),e.wVc(2,"translate"),e.C$Y()}2&o&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"common.next-page")," "))}function po(o,r){if(1&o){const t=e.KQA();e.I0R(0,"button",64),e.qCj("click",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.submit())}),e.OEk(1),e.wVc(2,"translate"),e.C$Y()}2&o&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"common.complete")," "))}function mo(o,r){if(1&o&&(e.I0R(0,"div",18),e.wR5(1,"app-tabs",19),e.yuY(2,so,2,2,"ng-container",20),e.I0R(3,"div",21),e.yuY(4,lo,3,3,"button",22)(5,co,3,3,"button",23)(6,po,3,3,"button",23),e.C$Y()()),2&o){const t=e.GaO();e.E7m("formGroup",t.cab.form),e.yG2(),e.E7m("tabs",t.tabs)("isEvenlyDistribute",!1)("tabPadding","0 20px")("tabTextAlign","start")("tabWidth","180px")("formControl",t.tabForm)("containerPadding","0 0"),e.yG2(),e.E7m("ngForOf",t.question_pages),e.yG2(2),e.E7m("ngIf",t.tabForm&&null!==t.tabForm.value&&0!=+t.tabForm.value),e.yG2(),e.E7m("ngIf",!t.isLastPage),e.yG2(),e.E7m("ngIf",t.isLastPage)}}let oe=(()=>{class o extends j.Q{constructor(t,n,i,a,l,p,_,C,b,M,Fo,Do,To){super(),this.$window=t,this.$layout=n,this.$overlay=i,this.$cab=a,this.$user=l,this.fb=p,this.router=_,this.activateRouter=C,this.$translate=b,this.sanitizer=M,this.datePipe=Fo,this.http=Do,this.$dynamicValidator=To,this.supplementaryData={projectId:"",cabId:"",remark:null,attachment:null},this.tabs=[],this.tabForm=new s.Ku(0),this.isFileSavedLocal=!1,this.isCompleteClicked=!1,this.unfinishedFieldCount=0,this.subscription=new ae.wH,this.hideExpressions=[],this.projectId="",this.questionVersion="",this.cabId="",this.docId="",this.isFileReEditMode=!1,this.preReServeFileControl=new s.WC({}),this.fileSizeLimitMb=30,this.iconClass={valid:"icon-confirmed-round text-green-middle ml-12 fs-lgx",invalid:"page-icon icon-exclamation d-flex align-items-center justify-content-center text-white ml-11 fw-9 fs-lg"},this.warningBeforeNavigate="common.cancel-edit-no-save-draft"}get isChairman(){return!!this.user?.role.includes(c.SG.Chairman)}get isCommittee(){return!!this.user?.role.includes(c.SG.Committee)}get isLastPage(){return!!this.question_pages&&(this.tabForm&&this.tabForm.value?+this.tabForm.value:0)==this.question_pages.length-1}get isReviewPage(){return this.tabForm.value===this.tabs.length}get isLastFileError(){return this.latestFile.value.isSizeError||this.latestFile.value.isTypeError}get isSupplementStatus(){return!!this.cab?.status&&+this.cab.status===c.Mv.RequiredForApprove}get isFileInputting(){return this.latestFile.get("fieldStatus")?.value===c.Mp.Inputting}get getBody(){return{...this.cab?.form.getRawValue(),answers:this.cab?.getProjectAnswers(this.cab?.form),projectId:this.projectId,docId:this.docId,cabId:this.cabId,cab:this.cabType,questionVersion:this.questionVersion,attachment:this.fileControl?.getRawValue().map(t=>({...t,type:t.type||0===t.type?t.type:+this.cab.status===c.Mv.Draft?h.Draft:h.RequiredForApprove,fileName:encodeURI(t.fileName)})).filter(t=>t.fileName)}}get fileControl(){return this.cab?.form.get("attachment")}get latestFile(){return this.fileControl.controls[this.fileControl.controls.length-1]}get mode(){return c.kD}get fieldType(){return g}get fieldStatusType(){return c.Mp}get pagType(){return P}get progressStatus(){return c.Mv}get answerStatus(){return h}get fieldStatus(){return c.Mp}ngOnInit(){this.http.get("../../../../assets/mock-data/aarc-list.json").subscribe(t=>console.log("aa-v",t)),this.$layout.doSidebarExpandSubject.next(!1),this.$layout.warningBeforeNavigateSubject.next(this.warningBeforeNavigate),this.init()}init(t){this.projectId=this.activateRouter.snapshot.params.projectId,this.cabId=this.activateRouter.snapshot.params.cabId,this.questionVersion=this.activateRouter.snapshot.params.questionVersion,this.cabType=this.activateRouter.snapshot.params.cab,this.docId=this.activateRouter.snapshot.params.docId,this.formMode=this.activateRouter.snapshot.params.formMode;const n=this.activateRouter.snapshot.params.status;t||(0,re.y)([this.http.get("../../../../assets/mock-data/cab-answer.json").pipe((0,se.a)(i=>(this.handleApiError(i,"common.get-fail"),(0,le.c)(()=>i)))),this.http.get("../../../../assets/mock-data/cab-template.json"),this.http.get("../../../../assets/mock-data/user-data.json"),this.http.get("../../../../assets/mock-data/cab-records.json")]).subscribe({next:([i,a,l,p])=>{this.subscription.unsubscribe();const _=i;(l.userId!==_.creator.id||+n!==c.Mv.Draft&&+n!==c.Mv.RequiredForApprove)&&(this.$overlay.addToast(c.qY.Info,{title:"common.no-edit-permission"}),this.toReview()),this.progressLabel=pe.get(+_.status),this.formMode=_.answers&&_.attachment?this.formMode:c.kD.Add,this.cab=new ye(a,this.$translate,this.datePipe,this.$dynamicValidator,_,this.fb),+this.cab.status===c.Mv.RequiredForApprove&&(this.supplementaryData=this.getSupplementaryData(i)),this.user=l,this.isCreator=l.userId===_.creator.id,this.formValueForCompare=JSON.parse(JSON.stringify(+this.cab.status===c.Mv.RequiredForApprove?this.supplementaryData:this.cab?.form.getRawValue())),this.question_pages=this.chunkByPage(this.cab.getDataForQuestion(a).groupsView,10),this.question_pages&&(this.tabs=this.question_pages.map((C,b)=>({titleI18n:this.$translate.instant(0===b?"cab.basic-info":"cab.group-type"),iconClasses:"",value:b}))),this.subscribeForm(),this.subscribeTab(),this.onFormValeChange(this.cab.form)},error:i=>this.$overlay.addToast(c.qY.Error,{title:"common.get-fail"})})}showRecord(){this.$overlay.addDialog(fe,{card:this.record})}onTempSave(){if(this.isChanged()){const t={...this.getBody,type:$.Draft},n={...this.supplementaryData,projectId:this.cab.projectId,cabId:this.cab.cabId};(+this.cab.status===c.Mv.RequiredForApprove?this.$cab.putSupplementDraft(n):this.formMode===c.kD.Add?this.$cab.postApplicationFormDraft(t):this.$cab.putApplicationFormDraft(t)).subscribe({next:i=>{this.$overlay.addToast(c.qY.Success,{title:"common.update-success"}),this.formValueForCompare=JSON.parse(JSON.stringify(+this.cab.status===c.Mv.RequiredForApprove?this.supplementaryData:this.cab?.form.getRawValue())),this.formMode===c.kD.Add&&this.init(!0),+this.cab.status===c.Mv.RequiredForApprove&&this.init()},error:i=>{this.handleSubmitError(i)}})}else this.$overlay.addToast(c.qY.Info,{title:"common.no-update"})}isOnProgressAnswer(t){return+this.progressStatus===c.Mv.Draft?+t===h.Draft:+t===h.RequiredForApprove}getEditorInfo(t){return`${t?.uploadDate??""} ${(this.$translate.currentLang===c.uM.Cn?t?.departmentCn:t?.departmentEn)??""} ${(this.$translate.currentLang===c.uM.Cn?t?.sectionCn:t.sectionEn)??""} ${t?.userName??""}`}reEdit(t){this.isFileReEditMode=!0,t.fieldStatus=c.Mp.Inputting,this.preReServeFileControl=this.latestFile}isPageValid(t){return!this.question_pages[t].groups.some(n=>n.form.invalid)}toRecords(){this.isChanged()?this.$overlay.addDialog(Ce.Y,{title:this.warningBeforeNavigate},{callback:{confirm:()=>this.toRecordsPage()}}):this.toRecordsPage()}onRemarkValueChange({remark:t,questionId:n}){if(+this.cab.status===c.Mv.RequiredForApprove){if(null===this.supplementaryData.remark||-1===this.supplementaryData.remark.findIndex(l=>Object.keys(l)[0]===n)){null===this.supplementaryData.remark&&(this.supplementaryData.remark=[]);const l={};l[n]={type:+this.cab.status===c.Mv.Draft?h.Draft:h.RequiredForApprove,fieldStatus:c.Mp.Inputting,content:null,department:"",departmentCn:"",departmentEn:"",section:"",sectionCn:"",sectionEn:""},this.supplementaryData.remark.push(l)}const i=this.supplementaryData.remark.findIndex(l=>Object.keys(l)[0]===n),a={};a[n]={...t,type:t.type,content:""===t.content?null:t.content},this.supplementaryData.remark[i]=a}}toRecordsPage(){}toReview(t){this.cab?.form.invalid&&(this.cab?.form.markAllAsTouched(),this.isCompleteClicked=!0,this.showPageIcon(),this.toErrorTab(),this.$overlay.addToast(c.qY.Warn,{title:"validators.form-invalid"}))}isAlreadyHasFile(t){return t.type&&this.cab&&(+t.type===h.Draft&&+this.cab.status===c.Mv.Draft||+t.type===h.RequiredForApprove&&+this.cab.status===c.Mv.RequiredForApprove)}openSupplementUpload(){this.cab?.getEmptyFileFormGroup(this.cab.status)&&this.fileControl.push(new s.WC({file:new s.Ku(""),fileName:new s.Ku(""),url:new s.Ku(""),department:new s.Ku(""),departmentCn:new s.Ku(""),departmentEn:new s.Ku(""),section:new s.Ku(""),sectionCn:new s.Ku(""),sectionEn:new s.Ku(""),userId:new s.Ku(""),userName:new s.Ku(""),email:new s.Ku(""),isSizeError:new s.Ku(!1),isTypeError:new s.Ku(!1),uploadDate:new s.Ku(""),type:new s.Ku(""),fieldStatus:new s.Ku(c.Mp.Inputting)}))}cancel(){this.latestFile.get("fieldStatus")?.setValue(c.Mp.Complete),this.isFileReEditMode?this.latestFile.patchValue(this.preReServeFileControl):this.fileControl.controls.pop()}putFileWithProject(){this.$cab.putApplicationForm(this.getBody).subscribe({next:()=>{this.$overlay.addToast(c.qY.Success,{title:"common.post-success"}),this.formValueForCompare=JSON.parse(JSON.stringify(+this.cab.status===c.Mv.RequiredForApprove?this.supplementaryData:this.cab?.form.getRawValue())),this.latestFile.get("fieldStatus")?.setValue(c.Mp.Complete),this.latestFile.get("type")?.setValue(`${h.RequiredForApprove}`)},error:t=>{this.handleSubmitError(t)}})}submit(){if(this.isChanged())if(+this.cab.status!==c.Mv.RequiredForApprove||null!==this.supplementaryData.attachment||null!==this.supplementaryData.remark&&0!==this.supplementaryData.remark?.filter(t=>Object.values(t)[0].content).length)if(this.cab?.form.invalid)this.isCompleteClicked=!0,this.cab?.form.markAllAsTouched(),this.showPageIcon(),this.toErrorTab();else{const t={...this.getBody,type:$.Complete},n={...this.supplementaryData,projectId:this.cab.projectId,cabId:this.cab.cabId};(+this.cab.status===c.Mv.RequiredForApprove?this.$cab.putSupplementDraft(n):this.formMode===c.kD.Add?this.$cab.postApplicationFormDraft(t):this.$cab.putApplicationFormDraft(t)).subscribe({next:i=>{this.$overlay.addToast(c.qY.Success,{title:"common.update-success"}),this.toReview(i)},error:i=>{this.handleSubmitError(i)}})}else this.$overlay.addToast(c.qY.Info,{title:"cab.no-supplement-provide"});else this.toReview(this.cab.project_origin)}getSupplementaryData(t){const n=[];Object.entries(t.answers).forEach(a=>{const l=a[1].remark;if(null!==l){const p=l.findIndex(_=>+_.type===h.RequiredForApprove);if(-1!==p){const _={};_[a[0]]=l[p],n.push(_)}}});const i=t.attachment.find(a=>+a.type===h.RequiredForApprove);return{projectId:"",cabId:"",remark:0===n.length?null:n,attachment:i??null}}handleSubmitError(t){this.$overlay.addToast(c.qY.Error,t.error.message?{title:t.error.message}:{title:"common.update-fail"})}clearFile(){this.supplementaryData.attachment=null;const t=this.fileControl.controls[this.fileControl.controls.length-1];t?.get("fileName")?.setValue(""),t?.get("file")?.setValue(""),t?.get("url")?.setValue(""),t?.get("isSizeError")?.setValue(!1),t?.get("isTypeError")?.setValue(!1),t?.get("type")?.setValue(""),t?.get("fieldStatus")?.setValue(c.Mp.Inputting),this.fileControl.updateValueAndValidity(),this.onFormValeChange(this.cab.form)}onFormValeChange(t){this.setHideExpressions(this.hideExpressions),this.showInvalidMark(),this.$layout.warningBeforeNavigateSubject.next(this.isChanged()?this.warningBeforeNavigate:"")}showInvalidMark(){this.showPageIcon(),this.unfinishedFieldCount=this.getUnfinishedRequiredFieldCount()}upload(t){const n=t.target.files;if(n&&n.length>0){if(this.preUploadErrorHandle(n))return;this.$cab.upload(n[0]).subscribe({next:i=>{this.isFileSavedLocal=!0;const a=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(n[0]));this.supplementaryData.attachment={...i,type:h.RequiredForApprove},this.setFileControlValue(i,a),this.$overlay.addToast(c.qY.Success,{title:"common.file-save-temporarily"}),t.target.value="",this.onFormValeChange(this.cab.form)},error:()=>{t.target.value="",this.fileControl.controls[0].get("isError")?.setValue(!0),this.$overlay.addToast(c.qY.Error,{title:"common.file-upload-failed"})}}),this.showPageIcon()}}preUploadErrorHandle(t){const n=t[0].type.split("/")[1].toLocaleLowerCase(),i=t[0].size>1024*this.fileSizeLimitMb*1024,a=n!==c.y4.PDF&&n!==c.y4.PPT&&n!==c.y4.PPTX&&n!==c.y4.PPT_MSPOWERPOINT&&n!==c.y4.PPT_POWERPOINT&&n!==c.y4.PPT_VND_POWERPOINT&&n!==c.y4.PPT_X_MSPOWERPOINT;return this.fileControl.controls[0].get("isSizeError")?.setValue(i),this.fileControl.controls[0].get("isTypeError")?.setValue(a),this.isLastFileError&&(a&&this.$overlay.addToast(c.qY.Error,{title:"common.upload-type-wrong"}),i&&this.$overlay.addToast(c.qY.Error,{title:"common.upload-size-wrong"})),this.isLastFileError}setFileControlValue(t,n){this.latestFile?.patchValue(t),this.latestFile?.get("fileName")?.setValue(decodeURI(t.fileName)),this.latestFile?.get("type")?.setValue(+this.cab.status===c.Mv.Draft?h.Draft:h.RequiredForApprove),this.latestFile?.get("file")?.setValue(t.file),this.latestFile?.get("uploadDate")?.setValue(t.uploadDate),this.latestFile?.get("isSizeError")?.setValue(!1),this.latestFile?.get("isTypeError")?.setValue(!1),this.latestFile?.get("url")?.setValue(n)}getUnfinishedRequiredFieldCount(){let t=this.question_pages?this.question_pages?.reduce((n,i)=>{let a=0;return i.groups.forEach(l=>{l.questions.filter(p=>p.show).forEach(p=>{p.SubQuestionGroup.filter(_=>_.show&&_.required).forEach(_=>{_.form.invalid&&(a+=1)})})}),n+a},0):0;return this.fileControl.controls.every(n=>n.value.fileName)||(t+=1),t}subscribeTab(){this.tabForm.valueChanges.pipe((0,x.a)(this.onDestroy$)).subscribe(t=>this.$window.scrollToTopSubject.next())}subscribeForm(){this.cab?.form.valueChanges.pipe((0,x.a)(this.onDestroy$)).subscribe(t=>this.onFormValeChange(this.cab.form))}downloadFile(t){this.isFileSavedLocal?t.event.preventDefault():this.$cab.download(t.file).pipe((0,x.a)(this.onDestroy$)).subscribe({next:n=>this.save(n),error:n=>this.$overlay.addToast(c.qY.Error,{title:"common.get-file-fail"})})}downloadFileTemp(){this.$cab.downloadTemp().pipe((0,x.a)(this.onDestroy$)).subscribe({next:t=>this.save(t),error:t=>this.$overlay.addToast(c.qY.Error,{title:"common.get-file-fail"})})}save(t){const n=t.headers.headers.get("content-disposition")[0];decodeURI(n.substring(n.indexOf("filename=")+9,n.length)).replace(/"/g,"")}setHideExpressions(t){t.forEach(n=>{const i=""===n[0].questionId||n.some(a=>{const l=z.get(a.questionId)?.get("answers")?.get(a.answerId)?.value.value;return"string"!=typeof l&&"number"!=typeof l?l.some(_=>(""===_?0:_)===+a.value):(""===l?0:l)===+a.value});this.question_pages.forEach(a=>a.groups.forEach(l=>l.questions.forEach(p=>{p.SubQuestionGroup.forEach(_=>{p.questionId===n[0].selfQuestionId&&_.answerId===n[0].selfAnswerId&&(_.show=i,_.form.get("value")?.setValidators(i?[s.AQ.required]:null),_.form.get("value")?.updateValueAndValidity()),p.questionId===n[0].selfQuestionId&&(p.show=p.SubQuestionGroup.some(C=>C.show))})})))})}showPageIcon(){this.question_pages?.forEach((t,n)=>{const i=t.groups.every(a=>a.form.valid||"DISABLED"===a.form.status)&&(n!==this.question_pages.length-1||this.cab?.form.get("attachment")?.valid);this.tabs[n]={...this.tabs[n],iconClasses:i?this.iconClass.valid:this.cab?.form.touched&&this.isCompleteClicked?this.iconClass.invalid:""}})}chunkByPage(t,n){const i=[];let a=0;return t.forEach(l=>{const p=l.questions;i[0===i.length?0:i.length-1]||i.push([]);const _=i[0===i.length?0:i.length-1];0===_.length||a+p.length<n?(_.push(l),a+=p.length):(i.push([]),i[i.length-1].push(l),a=0)}),i.map((l,p)=>({styleType:0===p?P.BasicInfo:P.Default,groups:l}))}toErrorTab(){const t=this.question_pages.findIndex(n=>n.groups.some(i=>i.form.invalid));-1!==t&&(this.tabForm.setValue(t),this.$window.scrollToTopSubject.next())}isChanged(){return!!this.cab&&(+this.cab.status===c.Mv.Draft?!this.deepEqual(this.cab.form.getRawValue(),this.formValueForCompare):!this.deepEqual(this.supplementaryData,this.formValueForCompare))}deepEqual(t,n){if("object"!=typeof t||null===t||"object"!=typeof n||null===n)return t===n;const i=Object.keys(t),a=Object.keys(n);if(i.length!==a.length)return!1;for(const l of i)if(!this.deepEqual(t[l],n[l]))return!1;return!0}handleApiError(t,n){this.$overlay.addToast(c.qY.Error,t.error&&t.error.message?{title:t.error.message}:{title:n})}static#e=this.\u0275fac=function(n){return new(n||o)(e.GI1(A.s),e.GI1(xe.O),e.GI1(H.Y),e.GI1(Oe),e.GI1(ve.u),e.GI1(s.im),e.GI1(E.E5),e.GI1(E.gV),e.GI1(y.qS),e.GI1(Me.mI),e.GI1(u.y),e.GI1(X.KK),e.GI1(J))};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-dynamic-form-page"]],features:[e.eg9],decls:21,vars:12,consts:[[1,"d-flex","flex-column","justify-content-center","w-100"],[1,"header-container"],[1,"page-header","mb-0"],[1,"text-grey-black"],[1,"w-100p","d-flex"],[1,"d-flex","flex-row","flex-wrap","align-items-center","justify-content-start","w-100"],["type","button",1,"btn-flat-line","border-green-middle","w-42_5","d-flex","flex-row","justify-content-center","align-items-center","my-2","text-nowrap",3,"click"],[1,"d-flex","align-items-center","justify-content-between","mt-5"],[1,"d-flex","align-items-center"],[1,"fs-lgx"],["class","d-flex align-items-center ml-3",4,"ngIf"],["class","fs-lgx",4,"ngIf"],["class","background-section pb-2",3,"formGroup",4,"ngIf"],[3,"click"],[1,"d-flex","align-items-center","ml-3"],[1,"page-icon","icon-exclamation","d-flex","align-items-center","justify-content-center","text-white"],[1,"text-red-middle","fs-xsm","ml-1"],[1,"text-red-middle","mx-0_5"],[1,"background-section","pb-2",3,"formGroup"],[3,"tabs","isEvenlyDistribute","tabPadding","tabTextAlign","tabWidth","formControl","containerPadding"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"w-100","d-flex","justify-content-end","mt-6"],["class","btn-flat btn-normal text-green-middle border-green-middle w-30 h-10 fs-xsm px-5",3,"click",4,"ngIf"],["class","btn-flat bg-green-middle w-30 h-10 fs-xsm px-5 ml-2",3,"click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"page","form","isCompleteClicked","progressStatus","pageIndex","answerStatus","submitBody","valueChange","remarkValueChange",4,"ngSwitchCase"],[3,"page","form","isCompleteClicked","pageIndex","valueChange",4,"ngSwitchCase"],["class","question-card mt-6 py-6 bg-white",4,"ngIf"],[3,"page","form","isCompleteClicked","progressStatus","pageIndex","answerStatus","submitBody","valueChange","remarkValueChange"],[3,"page","form","isCompleteClicked","pageIndex","valueChange"],[1,"question-card","mt-6","py-6","bg-white"],[1,"question-card__header"],[1,"d-flex","align-items-center","px-8","pb-3"],["class","complete icon-confirmed h-8 w-8 bg-green-light mr-2_5 text-center",4,"ngIf"],["class","d-flex align-items-center justify-content-center mr-2_5 fs-xs fw-7",4,"ngIf"],["class","my-6 mx-8",3,"question_pages","pageIndex","fileControl","isCompleteClicked","isLastFileError","isFileSavedLocal","cabForm","onDownloadTempFile","onDownloadFile","onUpload","onClearFile",4,"ngIf","ngIfElse"],["tRequiredTemp",""],[1,"complete","icon-confirmed","h-8","w-8","bg-green-light","mr-2_5","text-center"],[1,"d-flex","align-items-center","justify-content-center","mr-2_5","fs-xs","fw-7"],[1,"my-6","mx-8",3,"question_pages","pageIndex","fileControl","isCompleteClicked","isLastFileError","isFileSavedLocal","cabForm","onDownloadTempFile","onDownloadFile","onUpload","onClearFile"],[1,"requiredForApprove","question-card__upload","d-flex","flex-column","align-items-center","justify-content-center","mx-8"],[1,"w-100","d-flex","flex-column"],[1,"w-100","text-start","text-grey-black","fs-md","mb-2"],[1,"mb-3"],["class","d-flex flex-column",4,"ngFor","ngForOf"],["class","btn-flat btn-normal h-10 d-flex align-items-center text-green-middle border-green-middle fw-7 fs-xsm mb-2",3,"click",4,"ngIf"],["class","w-100",4,"ngIf"],[1,"d-flex","flex-column"],[4,"ngIf"],[1,"d-flex"],[1,"fs-xs","d-flex","align-items-center"],["class","icon-trash text-green-middle ml-2 pe-pointer",3,"click",4,"ngIf"],["class","link w d-flex align-items-start text-green-middle mt-1_5 mb-1_5",4,"ngIf"],[1,"icon-trash","text-green-middle","ml-2","pe-pointer",3,"click"],[1,"link","w","d-flex","align-items-start","text-green-middle","mt-1_5","mb-1_5"],[1,"icon-download","fs-xs","mt-1","mr-2","pe-pointer",3,"click"],[1,"text-start","text-green-middle","text-break","fs-xsm","pe-pointer",3,"href","download","click"],[1,"btn-flat","btn-normal","h-10","d-flex","align-items-center","text-green-middle","border-green-middle","fw-7","fs-xsm","mb-2",3,"click"],[1,"icon-add","mr-1"],[1,"w-100"],[1,"w-100","text-start","text-grey-black","mb-2"],[3,"question_pages","pageIndex","fileControl","isCompleteClicked","isLastFileError","isFileSavedLocal","cabForm","onDownloadTempFile","onDownloadFile","onUpload","onClearFile"],[1,"btn-flat","btn-normal","text-green-middle","border-green-middle","w-30","h-10","fs-xsm","px-5",3,"click"],[1,"btn-flat","bg-green-middle","w-30","h-10","fs-xsm","px-5","ml-2",3,"click"]],template:function(n,i){if(1&n&&(e.I0R(0,"div",0)(1,"div",1)(2,"div")(3,"div",2)(4,"p",3),e.OEk(5),e.wVc(6,"translate"),e.C$Y()()(),e.I0R(7,"form",4)(8,"div",5)(9,"button",6),e.qCj("click",function(){return i.onTempSave()}),e.OEk(10),e.wVc(11,"translate"),e.C$Y()()()()(),e.I0R(12,"div",7)(13,"div",8)(14,"h5",9),e.OEk(15),e.wVc(16,"translate"),e.C$Y(),e.yuY(17,jn,5,3,"div",10),e.C$Y(),e.yuY(18,zn,7,7,"h5",11),e.C$Y(),e.yuY(19,mo,7,12,"div",12),e.I0R(20,"app-go-top-button",13),e.qCj("click",function(){return i.$window.scrollToTopSubject.next()}),e.C$Y()),2&n){let a;e.yG2(5),e.oRS(" ",e.kDX(6,6,null!==(a=null==i.cab?null:i.cab.projectName)&&void 0!==a?a:"common.project-name")," "),e.yG2(5),e.oRS(" ",e.kDX(11,8,i.cab&&i.cab.status&&+i.cab.status===i.progressStatus.Draft?"cab.save-temp":"cab.save-supplement-temp")," "),e.yG2(5),e.cNF(e.kDX(16,10,"cab.question-title")),e.yG2(2),e.E7m("ngIf",(null==i.cab||null==i.cab.form?null:i.cab.form.invalid)&&(null==i.cab||null==i.cab.form?null:i.cab.form.touched)&&i.isCompleteClicked),e.yG2(),e.E7m("ngIf",i.cab&&+i.cab.status!==i.progressStatus.RequiredForApprove),e.yG2(),e.E7m("ngIf",null==i.cab?null:i.cab.form)}},dependencies:[u.ay,u.u_,u.Ko,u.Wm,Fe,De,s.sz,s.ue,s.u,s.SC,s.ug,s.uW,hn,$n,Ln,y.sD],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%] > div[_ngcontent-%COMP%]:first-of-type{flex-direction:row;padding:0 45px}[_nghost-%COMP%] > div[_ngcontent-%COMP%]:nth-of-type(2), [_nghost-%COMP%] > div[_ngcontent-%COMP%]:nth-of-type(3), [_nghost-%COMP%] > div[_ngcontent-%COMP%]:nth-of-type(4){padding:0 45px}[_nghost-%COMP%] > form[_ngcontent-%COMP%]{width:70%}[_nghost-%COMP%]   .question-card[_ngcontent-%COMP%]{border-radius:10px;box-shadow:1px 1px 5px #0000001a}[_nghost-%COMP%]   .question-card__header[_ngcontent-%COMP%]{border-bottom:1px solid #f4f4f4}[_nghost-%COMP%]   .question-card__header[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{height:2rem;width:2rem;min-height:2rem;min-width:2rem;border-radius:50%;border:2px solid #2c2c2c}[_nghost-%COMP%]   .question-card__header[_ngcontent-%COMP%]   em.complete[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#44b787;border:1px solid #d0ede1;font-size:16px}[_nghost-%COMP%]   .question-card__header[_ngcontent-%COMP%]   em.complete[_ngcontent-%COMP%]:before{transform:scale(.8)}[_nghost-%COMP%]   .question-card__header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:28px!important}[_nghost-%COMP%]   .question-card__question[_ngcontent-%COMP%]   li.error[_ngcontent-%COMP%]{background-color:#fff0f0}[_nghost-%COMP%]   .question-card__question[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #f4f4f4}[_nghost-%COMP%]   .question-card__upload[_ngcontent-%COMP%]{border-radius:10px;margin:35.5px 0 36.5px}[_nghost-%COMP%]   .question-card__upload[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%]   .question-card__upload.error[_ngcontent-%COMP%]{background-color:#fff0f0}.header-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;flex-wrap:wrap;width:100%}.header-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{margin-top:1.625rem}.header-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{letter-spacing:0;color:#6d6d6d;text-decoration:underline}.header-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#44b787}.status-label[_ngcontent-%COMP%]{border-radius:3px}  .page-icon{min-width:18px;min-height:18px;margin:1px 2px;border-radius:50%;background-color:red}  .page-icon:before{transform:scale(.7)}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], label[_ngcontent-%COMP%], pre[_ngcontent-%COMP%]{margin-bottom:0}a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#44b787}button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.requiredForApprove[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#44b787;text-decoration:underline}.requiredForApprove[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{opacity:.7}.requiredForApprove[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{max-width:136px}.requiredForApprove[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{border-radius:3px}"]})}return o})();var k=d(7744),uo=d(5480);function _o(o,r){if(1&o&&(e.I0R(0,"button",7),e.OEk(1),e.C$Y()),2&o){const t=e.GaO();e.yG2(),e.cNF(t.tabName)}}function go(o,r){if(1&o&&(e.I0R(0,"p",8),e.OEk(1),e.C$Y()),2&o){const t=e.GaO();e.yG2(),e.cNF(t.des)}}const ho=[[["","id","config"]],"*"],fo=["#config","*"];let ie=(()=>{class o{constructor(){this.title="",this.tabName="",this.des=""}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-presentation-section"]],inputs:{title:"title",tabName:"tabName",des:"des"},ngContentSelectors:fo,decls:11,vars:3,consts:[[1,"d-flex","flex-row"],[1,"d-flex","align-items-center","w-100","py-1","mb-8"],[1,"title","d-flex","flex-row","align-items-center","mr-2"],[1,"px-2"],["class","btn-flat d-flex align-items-center text-white bg-green-middle py-1 px-2 w-fit pe-pointer",4,"ngIf"],["class"," text-black",4,"ngIf"],[1,"d-flex","flex-row","align-items-start","ml-3"],[1,"btn-flat","d-flex","align-items-center","text-white","bg-green-middle","py-1","px-2","w-fit","pe-pointer"],[1,"text-black"]],template:function(n,i){1&n&&(e.kPM(ho),e.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),e.OEk(4),e.C$Y(),e.yuY(5,_o,2,1,"button",4),e.C$Y(),e.yuY(6,go,2,1,"p",5),e.C$Y(),e.I0R(7,"form"),e._Xx(8),e.C$Y()(),e.I0R(9,"div",6),e._Xx(10,1),e.C$Y()),2&n&&(e.yG2(4),e.cNF(i.title),e.yG2(),e.E7m("ngIf",i.tabName),e.yG2(),e.E7m("ngIf",!!i.des))},dependencies:[u.u_,s.sz,s.u,s.SC],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;padding:1rem 1rem 3rem;border-radius:10px;margin-bottom:2rem;background:#fff;border:1px solid var(--primary-select-color)}[_nghost-%COMP%]:hover{box-shadow:0 5px 5px #0000000d;border:1px solid var(--primary-color)}.title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{border-left:1px solid #44b787;border-top:1px solid #44b787;border-bottom:1px solid #44b787;background-color:#fff}button[_ngcontent-%COMP%]{height:26px;border-radius:0 4px 4px 0}"]})}return o})();const Co=()=>[];let bo=(()=>{class o{constructor(){this.options=[],this.configForm=new s.WC({disable:new s.Ku(!1)})}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-normal-select-presentation-section"]],inputs:{options:"options"},decls:17,vars:15,consts:[["title","\u4e0b\u62c9\u55ae\u9078",3,"tabName"],[1,"d-flex","flex-row","flex-wrap"],[1,"d-flex","flex-row","align-items-center","text-grey-iron","mr-5","mb-3"],[1,"w-12"],[1,"w-40","ml-3",3,"options"],[1,"w-40","ml-3",3,"options","disabled"]],template:function(n,i){1&n&&(e.I0R(0,"app-presentation-section",0)(1,"ul",1)(2,"li",2)(3,"p",3),e.OEk(4),e.wVc(5,"translate"),e.C$Y(),e.wR5(6,"app-select",4),e.C$Y(),e.I0R(7,"li",2)(8,"p",3),e.OEk(9),e.wVc(10,"translate"),e.C$Y(),e.wR5(11,"app-select",5),e.C$Y(),e.I0R(12,"li",2)(13,"p",3),e.OEk(14),e.wVc(15,"translate"),e.C$Y(),e.wR5(16,"app-select",4),e.C$Y()()()),2&n&&(e.E7m("tabName","< app-select >"),e.yG2(4),e.cNF(e.kDX(5,8,"\u9810\u8a2d")),e.yG2(2),e.E7m("options",i.options),e.yG2(3),e.cNF(e.kDX(10,10,"\u4e0d\u555f\u7528")),e.yG2(2),e.E7m("options",i.options)("disabled",!0),e.yG2(3),e.cNF(e.kDX(15,12,"\u7121\u8cc7\u6599")),e.yG2(2),e.E7m("options",e.q4q(14,Co)))},dependencies:[F.Y,ie,y.sD]})}return o})();const Q=()=>[],Mo=[{path:"",component:oe,data:{title:"Cloud Ready - Home"}},{path:`${k.SC.Select}`,component:(()=>{class o{constructor(){this.options=[{code:"0",name:"\u5c0f\u753a\u7576"},{code:"1",name:"\u74dc\u725b\u5e36\u6211\u53bb\u6563\u6b65"},{code:"2",name:"\u4e9e\u6d32\u6700\u5927\u6897\u5716\u5c08\u9580\u7db2\u7ad9\u3002\u63d0\u4f9b\u6bcf\u65e5\u6709\u8da3\u6897\u5716",hasMemo:!0},{code:"3",name:"\u4e2d\u82f1\u593e\u96dc\u7684\u6bd4\u8f03 high class \u55ce\uff1f"},{code:"4",name:"\u300c\u4e0d\u597d\u610f\u601d\uff0c\u6211\u660e\u5929\u7684 schedule \u6eff\u4e86\uff0c\u8b93\u6211 book \u5f8c\u5929\u7684\u6642\u9593\u597d\u55ce\uff1f\u300d"},{code:"12",name:"\u9805\u76ee1333333333333333333333333333"},{code:"15",name:" \u6700\u5f8c\u4e00\u9805"}],this.schedule={doctorNo:"001",doctorName:"\u9805\u76ee\u4e00",workDate:"20230101",rank:"1",rankName:"\u65e9\u73ed",assistNo:"001",assistName:"\u5b50\u9805\u76ee\u4e00",remark:"\u5099\u8a3b"}}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-select-page"]],decls:75,vars:49,consts:[[1,"d-flex","flex-column","justify-content-center","w-100"],[1,"page-header","p-relative","fs-xxl"],[1,"mb-5"],[1,"background-section","pb-40","pt-3"],[3,"options"],[3,"title","tabName"],["id","config"],[1,"d-flex","flex-row","align-items-start","flex-wrap"],[1,"d-flex","align-items-start","mr-4","mb-3"],[1,"w-12","mr-3","mt-3","text-nowrap"],[1,"w-56",3,"options","id","hasFilter"],[1,"d-flex","align-items-center","mr-4","mb-3"],[1,"w-12","mr-3","text-nowrap"],[1,"w-56",3,"options","id","disabled"],[1,"d-flex","align-items-center","mb-3"],[1,"w-56",3,"options","id"],[1,"w-40p","d-flex","align-items-start"],[3,"options","id","name","hasOtherInput"],[3,"options","disabled","id","name","hasOtherInput"],[1,"w-20p","d-flex","align-items-start"],[3,"options","id","name"],["name","radio-enable",3,"options"],["name","radio-disable",3,"options","disabled"],["name","radio-no-data",3,"options","noData"],[3,"title","des","tabName"],[1,"d-flex","flex-wrap","w-100"],[1,"w-30p","d-flex","align-items-center","mr-5","mb-2"],[1,"w-100"],[1,"w-40p","d-flex","align-items-center","mr-5","mb-2"],[1,"mr-3","text-nowrap"],[1,"w-100",3,"isRange"],[1,"w-40p","d-flex","align-items-center"],[1,"w-100",3,"isDisabled"],[1,"w-30p","d-flex","align-items-center"],[3,"id"],[1,"w-40p","d-flex","align-items-center","ml-5"],[3,"id","disabled"]],template:function(n,i){1&n&&(e.I0R(0,"div",0)(1,"div",1),e.wR5(2,"app-bread-crumbs"),e.OEk(3),e.wVc(4,"translate"),e.C$Y(),e.I0R(5,"div",2)(6,"p"),e.OEk(7),e.C$Y()()(),e.I0R(8,"div",3),e.wR5(9,"app-normal-select-presentation-section",4),e.I0R(10,"app-presentation-section",5),e.wR5(11,"div",6),e.I0R(12,"ul",7)(13,"li",8)(14,"p",9),e.OEk(15,"\u9810\u8a2d"),e.C$Y(),e.wR5(16,"app-multi-select",10),e.C$Y(),e.I0R(17,"li",11)(18,"p",12),e.OEk(19,"\u4e0d\u555f\u7528"),e.C$Y(),e.wR5(20,"app-multi-select",13),e.C$Y(),e.I0R(21,"li",14)(22,"p",12),e.OEk(23,"\u7121\u8cc7\u6599"),e.C$Y(),e.wR5(24,"app-multi-select",15),e.C$Y()()(),e.I0R(25,"app-presentation-section",5)(26,"div",16)(27,"p",12),e.OEk(28,"\u9810\u8a2d"),e.C$Y(),e.wR5(29,"app-checkbox-set",17),e.C$Y(),e.I0R(30,"div",16)(31,"p",12),e.OEk(32,"\u4e0d\u555f\u7528"),e.C$Y(),e.wR5(33,"app-checkbox-set",18),e.C$Y(),e.I0R(34,"div",19)(35,"p",12),e.OEk(36,"\u7121\u8cc7\u6599"),e.C$Y(),e.wR5(37,"app-checkbox-set",20),e.C$Y()(),e.I0R(38,"app-presentation-section",5)(39,"div",16)(40,"p",12),e.OEk(41,"\u9810\u8a2d"),e.C$Y(),e.wR5(42,"app-radio-set",21),e.C$Y(),e.I0R(43,"div",16)(44,"p",12),e.OEk(45,"\u4e0d\u555f\u7528"),e.C$Y(),e.wR5(46,"app-radio-set",22),e.C$Y(),e.I0R(47,"div",19)(48,"p",12),e.OEk(49,"\u7121\u8cc7\u6599"),e.C$Y(),e.wR5(50,"app-radio-set",23),e.C$Y()(),e.I0R(51,"app-presentation-section",24)(52,"div",25)(53,"div",26)(54,"p",12),e.OEk(55,"\u55ae\u65e5"),e.C$Y(),e.wR5(56,"app-date-picker",27),e.C$Y(),e.I0R(57,"div",28)(58,"p",29),e.OEk(59,"\u7bc4\u570d\u65e5\u671f"),e.C$Y(),e.wR5(60,"app-date-picker",30),e.C$Y(),e.I0R(61,"div",31)(62,"p",29),e.OEk(63,"\u4e0d\u555f\u7528"),e.C$Y(),e.wR5(64,"app-date-picker",32),e.C$Y()()(),e.I0R(65,"app-presentation-section",5)(66,"div",25)(67,"div",33)(68,"p",12),e.OEk(69,"\u9810\u8a2d"),e.C$Y(),e.wR5(70,"app-toggle",34),e.C$Y(),e.I0R(71,"div",35)(72,"p",29),e.OEk(73,"\u4e0d\u555f\u7528"),e.C$Y(),e.wR5(74,"app-toggle",36),e.C$Y()()()()),2&n&&(e.yG2(3),e.oRS(" ",e.kDX(4,44,"nav.select")," "),e.yG2(4),e.cNF("\u7e7c\u627f ControlValueAccessor\uff0c\u53ef\u76f4\u63a5\u8207 ReactiveForm \u4f7f\u7528\u3002"),e.yG2(2),e.E7m("options",i.options),e.yG2(),e.E7m("title","\u4e0b\u62c9\u591a\u9078")("tabName","< app-multi-select >"),e.yG2(6),e.E7m("options",i.options)("id","multi-select-enable")("hasFilter",!0),e.yG2(4),e.E7m("options",i.options)("id","multi-select-disable")("disabled",!0),e.yG2(4),e.E7m("options",e.q4q(46,Q))("id","multi-select-no-data"),e.yG2(),e.E7m("title","\u6838\u53d6\u65b9\u584a")("tabName","< app-checkbox-set >"),e.yG2(4),e.E7m("options",i.options)("id","checkbox-enable")("name","checkbox-enable")("hasOtherInput",!0),e.yG2(4),e.E7m("options",i.options)("disabled",!0)("id","checkbox-disabled")("name","checkbox-disabled")("hasOtherInput",!0),e.yG2(4),e.E7m("options",e.q4q(47,Q))("id","checkbox-no-data")("name","checkbox-no-data"),e.yG2(),e.E7m("title","\u55ae\u9078\u6309\u9215")("tabName","< app-radio >"),e.yG2(4),e.E7m("options",i.options),e.yG2(4),e.E7m("options",i.options)("disabled",!0),e.yG2(4),e.E7m("options",e.q4q(48,Q))("noData",!0),e.yG2(),e.E7m("title","\u65e5\u671f\u9078\u64c7\u5668")("des","\u4f7f\u7528\u5957\u4ef6 moment.js\u3002")("tabName","< app-date-picker >"),e.yG2(9),e.E7m("isRange",!0),e.yG2(4),e.E7m("isDisabled",!0),e.yG2(),e.E7m("title","\u958b\u95dc")("tabName","< app-toggle >"),e.yG2(5),e.E7m("id","toggle-enable"),e.yG2(4),e.E7m("id","toggle-disable")("disabled",!0))},dependencies:[uo.I,q,Z.U,V,D,B,ie,bo,y.sD],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column;overflow:auto}[_nghost-%COMP%] > div[_ngcontent-%COMP%]:first-of-type{flex-direction:row;padding:0 45px}[_nghost-%COMP%] > form[_ngcontent-%COMP%]{width:70%}[_nghost-%COMP%]   .background-section[_ngcontent-%COMP%]{width:calc(100% - 47px);padding-top:0;padding-right:0}"]})}return o})()},{path:`${k.SC.Button}`,component:(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-button-page"]],decls:2,vars:0,template:function(n,i){1&n&&(e.I0R(0,"p"),e.OEk(1,"button-page works!"),e.C$Y())}})}return o})()},{path:`${k.SC.Input}`,component:(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-input-page"]],decls:2,vars:0,template:function(n,i){1&n&&(e.I0R(0,"p"),e.OEk(1,"input-page works!"),e.C$Y())}})}return o})()},{path:`${k.SC.File}`,component:(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-file-page"]],decls:2,vars:0,template:function(n,i){1&n&&(e.I0R(0,"p"),e.OEk(1,"file-page works!"),e.C$Y())}})}return o})()},{path:`${k.SC.DynamicForm}`,component:oe}];let wo=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.a4G({type:o});static#n=this.\u0275inj=e.s3X({imports:[E.qQ.forChild(Mo),E.qQ]})}return o})();var Io=d(6180),ko=d(6212),Eo=d(1752),Po=d(6960);let Go=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.a4G({type:o});static#n=this.\u0275inj=e.s3X({providers:[u.y,J],imports:[u.MD,wo,y.O0,Io.k,ko.C,s.sl,Eo.o,Po.Y]})}return o})()}}]);